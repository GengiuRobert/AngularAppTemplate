var Gx=Object.defineProperty,Wx=Object.defineProperties;var Kx=Object.getOwnPropertyDescriptors;var UE=Object.getOwnPropertySymbols,Qx=Object.getPrototypeOf,Yx=Object.prototype.hasOwnProperty,Zx=Object.prototype.propertyIsEnumerable,Jx=Reflect.get;var BE=(n,e,t)=>e in n?Gx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})Yx.call(e,t)&&BE(n,t,e[t]);if(UE)for(var t of UE(e))Zx.call(e,t)&&BE(n,t,e[t]);return n},he=(n,e)=>Wx(n,Kx(e));var kr=(n,e,t)=>Jx(Qx(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function fp(n,e){return Object.is(n,e)}var Je=null,Au=!1,pp=1,$t=Symbol("SIGNAL");function fe(n){let e=Je;return Je=n,e}function $E(){return Je}var ga={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mu(n){if(Au)throw new Error("");if(Je===null)return;Je.consumerOnSignalRead(n);let e=Je.nextProducerIndex++;if(Pu(Je),e<Je.producerNode.length&&Je.producerNode[e]!==n&&pa(Je)){let t=Je.producerNode[e];xu(t,Je.producerIndexOfThis[e])}Je.producerNode[e]!==n&&(Je.producerNode[e]=n,Je.producerIndexOfThis[e]=pa(Je)?zE(n,Je,e):0),Je.producerLastReadVersion[e]=n.version}function Xx(){pp++}function gp(n){if(!(pa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===pp)){if(!n.producerMustRecompute(n)&&!yp(n)){hp(n);return}n.producerRecomputeValue(n),hp(n)}}function HE(n){if(n.liveConsumerNode===void 0)return;let e=Au;Au=!0;try{for(let t of n.liveConsumerNode)t.dirty||eP(t)}finally{Au=e}}function qE(){return Je?.consumerAllowSignalWrites!==!1}function eP(n){n.dirty=!0,HE(n),n.consumerMarkedDirty?.(n)}function hp(n){n.dirty=!1,n.lastCleanEpoch=pp}function Nu(n){return n&&(n.nextProducerIndex=0),fe(n)}function mp(n,e){if(fe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(pa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)xu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function yp(n){Pu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(gp(t),r!==t.version))return!0}return!1}function vp(n){if(Pu(n),pa(n))for(let e=0;e<n.producerNode.length;e++)xu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function zE(n,e,t){if(GE(n),n.liveConsumerNode.length===0&&WE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=zE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function xu(n,e){if(GE(n),n.liveConsumerNode.length===1&&WE(n))for(let r=0;r<n.producerNode.length;r++)xu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Pu(i),i.producerIndexOfThis[r]=e}}function pa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Pu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function GE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function WE(n){return n.producerNode!==void 0}function KE(n){let e=Object.create(tP);e.computation=n;let t=()=>{if(gp(e),Mu(e),e.value===Ru)throw e.error;return e.value};return t[$t]=e,t}var lp=Symbol("UNSET"),dp=Symbol("COMPUTING"),Ru=Symbol("ERRORED"),tP=he(j({},ga),{value:lp,dirty:!0,error:null,equal:fp,kind:"computed",producerMustRecompute(n){return n.value===lp||n.value===dp},producerRecomputeValue(n){if(n.value===dp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=dp;let t=Nu(n),r;try{r=n.computation()}catch(i){r=Ru,n.error=i}finally{mp(n,t)}if(e!==lp&&e!==Ru&&r!==Ru&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function nP(){throw new Error}var QE=nP;function YE(){QE()}function ZE(n){QE=n}var rP=null;function JE(n){let e=Object.create(_p);e.value=n;let t=()=>(Mu(e),e.value);return t[$t]=e,t}function Ou(n,e){qE()||YE(),n.equal(n.value,e)||(n.value=e,iP(n))}function XE(n,e){qE()||YE(),Ou(n,e(n.value))}var _p=he(j({},ga),{equal:fp,value:void 0,kind:"signal"});function iP(n){n.version++,Xx(),HE(n),rP?.()}function oe(n){return typeof n=="function"}function vo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ku=vo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function wi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Le=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof ku?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{eb(o)}catch(s){e=e??[],s instanceof ku?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ku(e)}}add(e){var t;if(e&&e!==this)if(this.closed)eb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wi(t,e)}remove(e){let{_finalizers:t}=this;t&&wi(t,e),e instanceof n&&e._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var wp=Le.EMPTY;function Fu(n){return n instanceof Le||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function eb(n){oe(n)?n():n.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(n,e,...t){let{delegate:r}=_o;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=_o;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Lu(n){_o.setTimeout(()=>{let{onUnhandledError:e}=cn;if(e)e(n);else throw n})}function Ii(){}var tb=Ip("C",void 0,void 0);function nb(n){return Ip("E",void 0,n)}function rb(n){return Ip("N",n,void 0)}function Ip(n,e,t){return{kind:n,value:e,error:t}}var Ei=null;function wo(n){if(cn.useDeprecatedSynchronousErrorHandling){let e=!Ei;if(e&&(Ei={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ei;if(Ei=null,t)throw r}}else n()}function ib(n){cn.useDeprecatedSynchronousErrorHandling&&Ei&&(Ei.errorThrown=!0,Ei.error=n)}var bi=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fu(e)&&e.add(this)):this.destination=aP}static create(e,t,r){return new Io(e,t,r)}next(e){this.isStopped?bp(rb(e),this):this._next(e)}error(e){this.isStopped?bp(nb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bp(tb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oP=Function.prototype.bind;function Ep(n,e){return oP.call(n,e)}var Dp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Vu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Vu(r)}else Vu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Vu(t)}}},Io=class extends bi{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ep(e.next,o),error:e.error&&Ep(e.error,o),complete:e.complete&&Ep(e.complete,o)}):i=e}this.destination=new Dp(i)}};function Vu(n){cn.useDeprecatedSynchronousErrorHandling?ib(n):Lu(n)}function sP(n){throw n}function bp(n,e){let{onStoppedNotification:t}=cn;t&&_o.setTimeout(()=>t(n,e))}var aP={closed:!0,next:Ii,error:sP,complete:Ii};var Eo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ht(n){return n}function Tp(...n){return Cp(n)}function Cp(n){return n.length===0?Ht:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ye=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=uP(t)?t:new Io(t,r,i);return wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ob(r),new r((i,o)=>{let s=new Io({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Eo](){return this}pipe(...t){return Cp(t)(this)}toPromise(t){return t=ob(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ob(n){var e;return(e=n??cn.Promise)!==null&&e!==void 0?e:Promise}function cP(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function uP(n){return n&&n instanceof bi||cP(n)&&Fu(n)}function Sp(n){return oe(n?.lift)}function ge(n){return e=>{if(Sp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(n,e,t,r,i){return new Ap(n,e,t,r,i)}var Ap=class extends bi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bo(){return ge((n,e)=>{let t=null;n._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Do=class extends ye{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Sp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let t=this.getSubject();e.add(this.source.subscribe(le(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return bo()(this)}};var sb=vo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class n extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ju(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new sb}next(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?wp:(this.currentObservers=null,o.push(t),new Le(()=>{this.currentObservers=null,wi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ye;return t.source=this,t}}return n.create=(e,t)=>new ju(e,t),n})(),ju=class extends Ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:wp}};var Ge=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rp={now(){return(Rp.delegate||Date).now()},delegate:void 0};var Uu=class extends Le{constructor(e,t){super()}schedule(e,t=0){return this}};var ma={setInterval(n,e,...t){let{delegate:r}=ma;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ma;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Bu=class extends Uu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ma.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ma.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var To=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};To.now=Rp.now;var $u=class extends To{constructor(e,t=To.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Mp=new $u(Bu),ab=Mp;var qt=new ye(n=>n.complete());function Hu(n){return n&&oe(n.schedule)}function cb(n){return n[n.length-1]}function qu(n){return oe(cb(n))?n.pop():void 0}function Fr(n){return Hu(cb(n))?n.pop():void 0}function Np(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function lb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function ub(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Di(n){return this instanceof Di?(this.v=n,this):new Di(n)}function db(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(M){return new Promise(function(R,V){o.push([y,M,R,V])>1||u(y,M)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Di?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function hb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ub=="function"?ub(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var zu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Gu(n){return oe(n?.then)}function Wu(n){return oe(n[Eo])}function Ku(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function Qu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yu=lP();function Zu(n){return oe(n?.[Yu])}function Ju(n){return db(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Di(t.read());if(i)return yield Di(void 0);yield yield Di(r)}}finally{t.releaseLock()}})}function Xu(n){return oe(n?.getReader)}function Ve(n){if(n instanceof ye)return n;if(n!=null){if(Wu(n))return dP(n);if(zu(n))return hP(n);if(Gu(n))return fP(n);if(Ku(n))return fb(n);if(Zu(n))return pP(n);if(Xu(n))return gP(n)}throw Qu(n)}function dP(n){return new ye(e=>{let t=n[Eo]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hP(n){return new ye(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fP(n){return new ye(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Lu)})}function pP(n){return new ye(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function fb(n){return new ye(e=>{mP(n,e).catch(t=>e.error(t))})}function gP(n){return fb(Ju(n))}function mP(n,e){var t,r,i,o;return lb(this,void 0,void 0,function*(){try{for(t=hb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ot(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function el(n,e=0){return ge((t,r)=>{t.subscribe(le(r,i=>Ot(r,n,()=>r.next(i),e),()=>Ot(r,n,()=>r.complete(),e),i=>Ot(r,n,()=>r.error(i),e)))})}function tl(n,e=0){return ge((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function pb(n,e){return Ve(n).pipe(tl(e),el(e))}function gb(n,e){return Ve(n).pipe(tl(e),el(e))}function mb(n,e){return new ye(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function yb(n,e){return new ye(t=>{let r;return Ot(t,e,()=>{r=n[Yu](),Ot(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function nl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ye(t=>{Ot(t,e,()=>{let r=n[Symbol.asyncIterator]();Ot(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function vb(n,e){return nl(Ju(n),e)}function _b(n,e){if(n!=null){if(Wu(n))return pb(n,e);if(zu(n))return mb(n,e);if(Gu(n))return gb(n,e);if(Ku(n))return nl(n,e);if(Zu(n))return yb(n,e);if(Xu(n))return vb(n,e)}throw Qu(n)}function Re(n,e){return e?_b(n,e):Ve(n)}function Q(...n){let e=Fr(n);return Re(n,e)}function Lr(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new ye(e?i=>e.schedule(r,0,i):r)}function xp(n){return!!n&&(n instanceof ye||oe(n.lift)&&oe(n.subscribe))}var Qn=vo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function wb(n){return n instanceof Date&&!isNaN(n)}function ee(n,e){return ge((t,r)=>{let i=0;t.subscribe(le(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:yP}=Array;function vP(n,e){return yP(e)?n(...e):n(e)}function rl(n){return ee(e=>vP(n,e))}var{isArray:_P}=Array,{getPrototypeOf:wP,prototype:IP,keys:EP}=Object;function il(n){if(n.length===1){let e=n[0];if(_P(e))return{args:e,keys:null};if(bP(e)){let t=EP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function bP(n){return n&&typeof n=="object"&&wP(n)===IP}function ol(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ya(...n){let e=Fr(n),t=qu(n),{args:r,keys:i}=il(n);if(r.length===0)return Re([],e);let o=new ye(DP(r,e,i?s=>ol(i,s):Ht));return t?o.pipe(rl(t)):o}function DP(n,e,t=Ht){return r=>{Ib(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Ib(e,()=>{let l=Re(n[u],e),h=!1;l.subscribe(le(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ib(n,e,t){n?Ot(t,n,e):e()}function Eb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?C(M):u.push(M),C=M=>{o&&e.next(M),l++;let R=!1;Ve(t(M,h++)).subscribe(le(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let V=u.shift();s?Ot(e,s,()=>C(V)):C(V)}m()}catch(V){e.error(V)}}))};return n.subscribe(le(e,y,()=>{p=!0,m()})),()=>{a?.()}}function je(n,e,t=1/0){return oe(e)?je((r,i)=>ee((o,s)=>e(r,o,i,s))(Ve(n(r,i))),t):(typeof e=="number"&&(t=e),ge((r,i)=>Eb(r,i,n,t)))}function Vr(n=1/0){return je(Ht,n)}function bb(){return Vr(1)}function jr(...n){return bb()(Re(n,Fr(n)))}function sl(n){return new ye(e=>{Ve(n()).subscribe(e)})}function Pp(...n){let e=qu(n),{args:t,keys:r}=il(n),i=new ye(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ve(t[h]).subscribe(le(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?ol(r,a):a),o.complete())}))}});return e?i.pipe(rl(e)):i}function Db(n=0,e,t=ab){let r=-1;return e!=null&&(Hu(e)?t=e:r=e),new ye(i=>{let o=wb(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function lt(n,e){return ge((t,r)=>{let i=0;t.subscribe(le(r,o=>n.call(e,o,i++)&&r.next(o)))})}function wn(n){return ge((e,t)=>{let r=null,i=!1,o;r=e.subscribe(le(t,void 0,void 0,s=>{o=Ve(n(s,wn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Tb(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(le(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Yn(n,e){return oe(e)?je(n,e,1):je(n,1)}function Ur(n){return ge((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zt(n){return n<=0?()=>qt:ge((e,t)=>{let r=0;e.subscribe(le(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Cb(){return ge((n,e)=>{n.subscribe(le(e,Ii))})}function Sb(n){return ee(()=>n)}function Op(n,e){return e?t=>jr(e.pipe(Zt(1),Cb()),t.pipe(Op(n))):je((t,r)=>Ve(n(t,r)).pipe(Zt(1),Sb(t)))}function kp(n,e=Mp){let t=Db(n,e);return Op(()=>t)}function al(n=TP){return ge((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function TP(){return new Qn}function Ti(n){return ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Zn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?lt((i,o)=>n(i,o,r)):Ht,Zt(1),t?Ur(e):al(()=>new Qn))}function Co(n){return n<=0?()=>qt:ge((e,t)=>{let r=[];e.subscribe(le(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Fp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?lt((i,o)=>n(i,o,r)):Ht,Co(1),t?Ur(e):al(()=>new Qn))}function Lp(n,e){return ge(Tb(n,e,arguments.length>=2,!0))}function Vp(...n){let e=Fr(n);return ge((t,r)=>{(e?jr(n,t,e):jr(n,t)).subscribe(r)})}function vt(n,e){return ge((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(le(r,u=>{i?.unsubscribe();let l=0,h=o++;Ve(n(u,h)).subscribe(i=le(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function jp(n){return ge((e,t)=>{Ve(n).subscribe(le(t,()=>t.complete(),Ii)),!t.closed&&e.subscribe(t)})}function rt(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(le(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ht}var g0="https://g.co/ng/security#xss",K=class extends Error{code;constructor(e,t){super(Bl(e,t)),this.code=e}};function Bl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var m0=Symbol("InputSignalNode#UNSET"),CP=he(j({},_p),{transformFn:void 0,applyValueToInputSignal(n,e){Ou(n,e)}});function y0(n,e){let t=Object.create(CP);t.value=n,t.transformFn=e?.transform;function r(){if(Mu(t),t.value===m0)throw new K(-950,!1);return t.value}return r[$t]=t,r}function xa(n){return{toString:n}.toString()}var cl="__parameters__";function SP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function v0(n,e,t){return xa(()=>{let r=SP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(cl)?u[cl]:Object.defineProperty(u,cl,{value:[]})[cl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Xp=globalThis;function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function AP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Mt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Mt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Ab(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var RP=Ae({__forward_ref__:Ae});function rr(n){return n.__forward_ref__=rr,n.toString=function(){return Mt(this())},n}function Rt(n){return _0(n)?n():n}function _0(n){return typeof n=="function"&&n.hasOwnProperty(RP)&&n.__forward_ref__===rr}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ir(n){return{providers:n.providers||[],imports:n.imports||[]}}function $l(n){return Rb(n,I0)||Rb(n,E0)}function w0(n){return $l(n)!==null}function Rb(n,e){return n.hasOwnProperty(e)?n[e]:null}function MP(n){let e=n&&(n[I0]||n[E0]);return e||null}function Mb(n){return n&&(n.hasOwnProperty(Nb)||n.hasOwnProperty(NP))?n[Nb]:null}var I0=Ae({\u0275prov:Ae}),Nb=Ae({\u0275inj:Ae}),E0=Ae({ngInjectableDef:Ae}),NP=Ae({ngInjectorDef:Ae}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function b0(n){return n&&!!n.\u0275providers}var xP=Ae({\u0275cmp:Ae}),PP=Ae({\u0275dir:Ae}),OP=Ae({\u0275pipe:Ae}),kP=Ae({\u0275mod:Ae}),vl=Ae({\u0275fac:Ae}),Ia=Ae({__NG_ELEMENT_ID__:Ae}),xb=Ae({__NG_ENV_ID__:Ae});function Hl(n){return typeof n=="string"?n:n==null?"":String(n)}function FP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Hl(n)}function LP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new K(-200,n)}function im(n,e){throw new K(-201,!1)}var ue=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ue||{}),eg;function D0(){return eg}function Jt(n){let e=eg;return eg=n,e}function T0(n,e,t){let r=$l(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ue.Optional)return null;if(e!==void 0)return e;im(n,"Injector")}var VP={},Ea=VP,tg="__NG_DI_FLAG__",_l="ngTempTokenPath",jP="ngTokenPath",UP=/\n/gm,BP="\u0275",Pb="__source",No;function $P(){return No}function Br(n){let e=No;return No=n,e}function HP(n,e=ue.Default){if(No===void 0)throw new K(-203,!1);return No===null?T0(n,void 0,e):No.get(n,e&ue.Optional?null:void 0,e)}function z(n,e=ue.Default){return(D0()||HP)(Rt(n),e)}function F(n,e=ue.Default){return z(n,ql(e))}function ql(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ng(n){let e=[];for(let t=0;t<n.length;t++){let r=Rt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],u=qP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function C0(n,e){return n[tg]=e,n.prototype[tg]=e,n}function qP(n){return n[tg]}function zP(n,e,t,r){let i=n[_l];throw e[Pb]&&i.unshift(e[Pb]),n.message=GP(`
`+n.message,i,t,r),n[jP]=i,n[_l]=null,n}function GP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==BP?n.slice(2):n;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Mt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(UP,`
  `)}`}var zl=C0(v0("Optional"),8);var om=C0(v0("SkipSelf"),4);function Po(n,e){let t=n.hasOwnProperty(vl);return t?n[vl]:null}function WP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function KP(n){return n.flat(Number.POSITIVE_INFINITY)}function sm(n,e){n.forEach(t=>Array.isArray(t)?sm(t,e):e(t))}function S0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function QP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function YP(n,e,t){let r=Pa(n,e);return r>=0?n[r|1]=t:(r=~r,QP(n,r,e,t)),r}function Up(n,e){let t=Pa(n,e);if(t>=0)return n[t|1]}function Pa(n,e){return ZP(n,e,1)}function ZP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Oo={},Xt=[],ko=new G(""),A0=new G("",-1),R0=new G(""),Il=class{get(e,t=Ea){if(t===Ea){let r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return t}};function M0(n,e){let t=n[kP]||null;if(!t&&e===!0)throw new Error(`Type ${Mt(n)} does not have '\u0275mod' property.`);return t}function qr(n){return n[xP]||null}function N0(n){return n[PP]||null}function x0(n){return n[OP]||null}function P0(n){let e=qr(n)||N0(n)||x0(n);return e!==null&&e.standalone}function zo(n){return{\u0275providers:n}}function JP(...n){return{\u0275providers:O0(!0,n),\u0275fromNgModule:!0}}function O0(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return sm(e,s=>{let a=s;rg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&k0(i,o),t}function k0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];am(i,o=>{e(o,r)})}}function rg(n,e,t,r){if(n=Rt(n),!n)return!1;let i=null,o=Mb(n),s=!o&&qr(n);if(!o&&!s){let u=n.ngModule;if(o=Mb(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)rg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sm(o.imports,h=>{rg(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&k0(l,e)}if(!a){let l=Po(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xt},i),e({provide:R0,useValue:i,multi:!0},i),e({provide:ko,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;am(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function am(n,e){for(let t of n)b0(t)&&(t=t.\u0275providers),Array.isArray(t)?am(t,e):e(t)}var XP=Ae({provide:String,useValue:Ae});function F0(n){return n!==null&&typeof n=="object"&&XP in n}function eO(n){return!!(n&&n.useExisting)}function tO(n){return!!(n&&n.useFactory)}function Fo(n){return typeof n=="function"}function nO(n){return!!n.useClass}var Gl=new G(""),hl={},rO={},Bp;function cm(){return Bp===void 0&&(Bp=new Il),Bp}var Nt=class{},ba=class extends Nt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,og(e,s=>this.processProvider(s)),this.records.set(A0,So(void 0,this)),i.has("environment")&&this.records.set(Nt,So(void 0,this));let o=this.records.get(Gl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(R0,Xt,ue.Self))}destroy(){_a(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return _a(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){_a(this);let t=Br(this),r=Jt(void 0),i;try{return e()}finally{Br(t),Jt(r)}}get(e,t=Ea,r=ue.Default){if(_a(this),e.hasOwnProperty(xb))return e[xb](this);r=ql(r);let i,o=Br(this),s=Jt(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=cO(e)&&$l(e);l&&this.injectableDefInScope(l)?u=So(ig(e),hl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?cm():this.parent;return t=r&ue.Optional&&t===Ea?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[_l]=a[_l]||[]).unshift(Mt(e)),o)throw a;return zP(a,e,"R3InjectorError",this.source)}else throw a}finally{Jt(s),Br(o)}}resolveInjectorInitializers(){let e=fe(null),t=Br(this),r=Jt(void 0),i;try{let o=this.get(ko,Xt,ue.Self);for(let s of o)s()}finally{Br(t),Jt(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Rt(e);let t=Fo(e)?e:Rt(e&&e.provide),r=oO(e);if(!Fo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=So(void 0,hl,!0),i.factory=()=>ng(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=fe(null);try{return t.value===hl&&(t.value=rO,t.value=t.factory()),typeof t.value=="object"&&t.value&&aO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Rt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ig(n){let e=$l(n),t=e!==null?e.factory:Po(n);if(t!==null)return t;if(n instanceof G)throw new K(204,!1);if(n instanceof Function)return iO(n);throw new K(204,!1)}function iO(n){if(n.length>0)throw new K(204,!1);let t=MP(n);return t!==null?()=>t.factory(n):()=>new n}function oO(n){if(F0(n))return So(void 0,n.useValue);{let e=L0(n);return So(e,hl)}}function L0(n,e,t){let r;if(Fo(n)){let i=Rt(n);return Po(i)||ig(i)}else if(F0(n))r=()=>Rt(n.useValue);else if(tO(n))r=()=>n.useFactory(...ng(n.deps||[]));else if(eO(n))r=()=>z(Rt(n.useExisting));else{let i=Rt(n&&(n.useClass||n.provide));if(sO(n))r=()=>new i(...ng(n.deps));else return Po(i)||ig(i)}return r}function _a(n){if(n.destroyed)throw new K(205,!1)}function So(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function sO(n){return!!n.deps}function aO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function cO(n){return typeof n=="function"||typeof n=="object"&&n instanceof G}function og(n,e){for(let t of n)Array.isArray(t)?og(t,e):t&&b0(t)?og(t.\u0275providers,e):e(t)}function kt(n,e){n instanceof ba&&_a(n);let t,r=Br(n),i=Jt(void 0);try{return e()}finally{Br(r),Jt(i)}}function V0(){return D0()!==void 0||$P()!=null}function uO(n){if(!V0())throw new K(-203,!1)}function lO(n){return typeof n=="function"}var or=0,re=1,ne=2,It=3,ln=4,fn=5,Da=6,El=7,_t=8,Lo=9,Jn=10,et=11,Ta=12,Ob=13,Go=14,dn=15,Si=16,Ao=17,Xn=18,Wl=19,j0=20,$r=21,$p=22,bl=23,zt=24,hn=25,U0=1;var Ai=7,Dl=8,Vo=9,wt=10;function Hr(n){return Array.isArray(n)&&typeof n[U0]=="object"}function sr(n){return Array.isArray(n)&&n[U0]===!0}function B0(n){return(n.flags&4)!==0}function Kl(n){return n.componentOffset>-1}function um(n){return(n.flags&1)===1}function zr(n){return!!n.template}function sg(n){return(n[ne]&512)!==0}function Oa(n){return(n[ne]&256)===256}var ag=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function $0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Kr=(()=>{let n=()=>H0;return n.ngInherit=!0,n})();function H0(n){return n.type.prototype.ngOnChanges&&(n.setInput=hO),dO}function dO(){let n=z0(this),e=n?.current;if(e){let t=n.previous;if(t===Oo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function hO(n,e,t,r,i){let o=this.declaredInputs[r],s=z0(n)||fO(n,{previous:Oo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ag(l&&l.currentValue,t,u===Oo),$0(n,e,i,t)}var q0="__ngSimpleChanges__";function z0(n){return n[q0]||null}function fO(n,e){return n[q0]=e}var kb=null;var In=function(n,e,t){kb?.(n,e,t)},pO="svg",gO="math";function bn(n){for(;Array.isArray(n);)n=n[or];return n}function G0(n,e){return bn(e[n])}function en(n,e){return bn(e[n.index])}function lm(n,e){return n.data[e]}function Qr(n,e){let t=e[n];return Hr(t)?t:t[or]}function mO(n){return(n[ne]&4)===4}function dm(n){return(n[ne]&128)===128}function yO(n){return sr(n[It])}function jo(n,e){return e==null?null:n[e]}function W0(n){n[Ao]=0}function hm(n){n[ne]&1024||(n[ne]|=1024,dm(n)&&Yl(n))}function vO(n,e){for(;n>0;)e=e[Go],n--;return e}function Ql(n){return!!(n[ne]&9216||n[zt]?.dirty)}function cg(n){n[Jn].changeDetectionScheduler?.notify(9),n[ne]&64&&(n[ne]|=1024),Ql(n)&&Yl(n)}function Yl(n){n[Jn].changeDetectionScheduler?.notify(0);let e=Ri(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!dm(e)));)e=Ri(e)}function K0(n,e){if(Oa(n))throw new K(911,!1);n[$r]===null&&(n[$r]=[]),n[$r].push(e)}function _O(n,e){if(n[$r]===null)return;let t=n[$r].indexOf(e);t!==-1&&n[$r].splice(t,1)}function Ri(n){let e=n[It];return sr(e)?e[It]:e}var de={lFrame:nD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ug=!1;function wO(){return de.lFrame.elementDepthCount}function IO(){de.lFrame.elementDepthCount++}function EO(){de.lFrame.elementDepthCount--}function Q0(){return de.bindingsEnabled}function bO(){return de.skipHydrationRootTNode!==null}function DO(n){return de.skipHydrationRootTNode===n}function TO(){de.skipHydrationRootTNode=null}function we(){return de.lFrame.lView}function Et(){return de.lFrame.tView}function ka(n){return de.lFrame.contextLView=n,n[_t]}function Fa(n){return de.lFrame.contextLView=null,n}function bt(){let n=Y0();for(;n!==null&&n.type===64;)n=n.parent;return n}function Y0(){return de.lFrame.currentTNode}function CO(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function La(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function Z0(){return de.lFrame.isParent}function SO(){de.lFrame.isParent=!1}function J0(){return ug}function Fb(n){let e=ug;return ug=n,e}function AO(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function RO(n){return de.lFrame.bindingIndex=n}function Wo(){return de.lFrame.bindingIndex++}function MO(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function NO(){return de.lFrame.inI18n}function xO(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,lg(e)}function PO(){return de.lFrame.currentDirectiveIndex}function lg(n){de.lFrame.currentDirectiveIndex=n}function OO(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function X0(){return de.lFrame.currentQueryIndex}function fm(n){de.lFrame.currentQueryIndex=n}function kO(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[fn]:null}function eD(n,e,t){if(t&ue.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ue.Host);)if(i=kO(o),i===null||(o=o[Go],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=tD();return r.currentTNode=e,r.lView=n,!0}function pm(n){let e=tD(),t=n[re];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tD(){let n=de.lFrame,e=n===null?null:n.child;return e===null?nD(n):e}function nD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function rD(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var iD=rD;function gm(){let n=rD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function FO(n){return(de.lFrame.contextLView=vO(n,de.lFrame.contextLView))[_t]}function Li(){return de.lFrame.selectedIndex}function Mi(n){de.lFrame.selectedIndex=n}function mm(){let n=de.lFrame;return lm(n.tView,n.selectedIndex)}function LO(){return de.lFrame.currentNamespace}var oD=!0;function ym(){return oD}function vm(n){oD=n}function VO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=H0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function _m(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function fl(n,e,t){sD(n,e,3,t)}function pl(n,e,t,r){(n[ne]&3)===t&&sD(n,e,t,r)}function Hp(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function sD(n,e,t,r){let i=r!==void 0?n[Ao]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Ao]+=65536),(a<o||o==-1)&&(jO(n,t,e,u),n[Ao]=(n[Ao]&4294901760)+u+2),u++}function Lb(n,e){In(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),In(5,n,e)}}function jO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[Ao]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,Lb(a,o)):Lb(a,o)}var xo=-1,Ni=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function UO(n){return n instanceof Ni}function BO(n){return(n.flags&8)!==0}function $O(n){return(n.flags&16)!==0}function dg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];HO(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function aD(n){return n===3||n===4||n===6}function HO(n){return n.charCodeAt(0)===64}function Ca(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Vb(n,t,i,null,e[++r]):Vb(n,t,i,null,null))}}return n}function Vb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var qp={},hg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ql(r);let i=this.injector.get(e,qp,r);return i!==qp||t===qp?i:this.parentInjector.get(e,t,r)}};function cD(n){return n!==xo}function Tl(n){return n&32767}function qO(n){return n>>16}function Cl(n,e){let t=qO(n),r=e;for(;t>0;)r=r[Go],t--;return r}var fg=!0;function jb(n){let e=fg;return fg=n,e}var zO=256,uD=zO-1,lD=5,GO=0,En={};function WO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ia)&&(r=t[Ia]),r==null&&(r=t[Ia]=GO++);let i=r&uD,o=1<<i;e.data[n+(i>>lD)]|=o}function Sl(n,e){let t=dD(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,zp(r.data,n),zp(e,null),zp(r.blueprint,null));let i=wm(n,e),o=n.injectorIndex;if(cD(i)){let s=Tl(i),a=Cl(i,e),u=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function zp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function wm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=mD(i),r===null)return xo;if(t++,i=i[Go],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return xo}function pg(n,e,t){WO(n,e,t)}function KO(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(aD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function hD(n,e,t){if(t&ue.Optional||n!==void 0)return n;im(e,"NodeInjector")}function fD(n,e,t,r){if(t&ue.Optional&&r===void 0&&(r=null),!(t&(ue.Self|ue.Host))){let i=n[Lo],o=Jt(void 0);try{return i?i.get(e,r,t&ue.Optional):T0(e,r,t&ue.Optional)}finally{Jt(o)}}return hD(r,e,t)}function pD(n,e,t,r=ue.Default,i){if(n!==null){if(e[ne]&2048&&!(r&ue.Self)){let s=JO(n,e,t,r,En);if(s!==En)return s}let o=gD(n,e,t,r,En);if(o!==En)return o}return fD(e,t,r,i)}function gD(n,e,t,r,i){let o=YO(t);if(typeof o=="function"){if(!eD(e,n,r))return r&ue.Host?hD(i,t,r):fD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ue.Optional))im(t);else return s}finally{iD()}}else if(typeof o=="number"){let s=null,a=dD(n,e),u=xo,l=r&ue.Host?e[dn][fn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?wm(n,e):e[a+8],u===xo||!Bb(r,!1)?a=-1:(s=e[re],a=Tl(u),e=Cl(u,e)));a!==-1;){let h=e[re];if(Ub(o,a,h.data)){let p=QO(a,e,t,s,r,l);if(p!==En)return p}u=e[a+8],u!==xo&&Bb(r,e[re].data[a+8]===l)&&Ub(o,a,e)?(s=h,a=Tl(u),e=Cl(u,e)):a=-1}}return i}function QO(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],u=r==null?Kl(a)&&fg:r!=s&&(a.type&3)!==0,l=i&ue.Host&&o===a,h=gl(a,s,t,u,l);return h!==null?xi(e,s,h,a):En}function gl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){let y=s[u];if(y&&zr(y)&&y.type===t)return u}return null}function xi(n,e,t,r){let i=n[t],o=e.data;if(UO(i)){let s=i;s.resolving&&LP(FP(o[t]));let a=jb(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Jt(s.injectImpl):null,h=eD(n,r,ue.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&VO(t,o[t],e)}finally{l!==null&&Jt(l),jb(a),s.resolving=!1,iD()}}return i}function YO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ia)?n[Ia]:void 0;return typeof e=="number"?e>=0?e&uD:ZO:e}function Ub(n,e,t){let r=1<<n;return!!(t[e+(n>>lD)]&r)}function Bb(n,e){return!(n&ue.Self)&&!(n&ue.Host&&e)}var Ci=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return pD(this._tNode,this._lView,e,ql(r),t)}};function ZO(){return new Ci(bt(),we())}function Yr(n){return xa(()=>{let e=n.prototype.constructor,t=e[vl]||gg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[vl]||gg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function gg(n){return _0(n)?()=>{let e=gg(Rt(n));return e&&e()}:Po(n)}function JO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=gD(o,s,t,r|ue.Self,En);if(a!==En)return a;let u=o.parent;if(!u){let l=s[j0];if(l){let h=l.get(t,En,r);if(h!==En)return h}u=mD(s),s=s[Go]}o=u}return i}function mD(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[fn]:null}function Im(n){return KO(bt(),n)}function $b(n,e=null,t=null,r){let i=yD(n,e,t,r);return i.resolveInjectorInitializers(),i}function yD(n,e=null,t=null,r,i=new Set){let o=[t||Xt,JP(n)];return r=r||(typeof n=="object"?void 0:Mt(n)),new ba(o,e||cm(),r||null,i)}var xt=class n{static THROW_IF_NOT_FOUND=Ea;static NULL=new Il;static create(e,t){if(Array.isArray(e))return $b({name:""},t,e,"");{let r=e.name??"";return $b({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:n,providedIn:"any",factory:()=>z(A0)});static __NG_ELEMENT_ID__=-1};var XO=new G("");XO.__NG_ELEMENT_ID__=n=>{let e=bt();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(n&ue.Optional)return null;throw new K(204,!1)};var vD=!1,Em=(()=>{class n{static __NG_ELEMENT_ID__=ek;static __NG_ENV_ID__=t=>t}return n})(),mg=class extends Em{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return K0(this._lView,e),()=>_O(this._lView,e)}};function ek(){return new mg(we())}var Uo=class{},Zl=new G("",{providedIn:"root",factory:()=>!1});var _D=new G(""),wD=new G(""),Zr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ge(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})();var yg=class extends Ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,V0()&&(this.destroyRef=F(Em,{optional:!0})??void 0,this.pendingTasks=F(Zr,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Xe=yg;function Al(...n){}function ID(n){let e,t;function r(){n=Al;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Hb(n){return queueMicrotask(()=>n()),()=>{n=Al}}var bm="isAngularZone",Rl=bm+"_ID",tk=0,Ue=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Xe(!1);onMicrotaskEmpty=new Xe(!1);onStable=new Xe(!1);onError=new Xe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=vD}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ik(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nk,Al,Al);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},nk={};function Dm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){ID(()=>{n.callbackScheduled=!1,vg(n),n.isCheckStableRunning=!0,Dm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),vg(n)}function ik(n){let e=()=>{rk(n)},t=tk++;n._inner=n._inner.fork({name:"angular",properties:{[bm]:!0,[Rl]:t,[Rl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(ok(u))return r.invokeTask(o,s,a,u);try{return qb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),zb(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return qb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!sk(u)&&e(),zb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,vg(n),Dm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function vg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function qb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zb(n){n._nesting--,Dm(n)}var _g=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Xe;onMicrotaskEmpty=new Xe;onStable=new Xe;onError=new Xe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function ok(n){return ED(n,"__ignore_ng_zone__")}function sk(n){return ED(n,"__scheduler_tick__")}function ED(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var er=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ak=new G("",{providedIn:"root",factory:()=>{let n=F(Ue),e=F(er);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Gb(n,e){return y0(n,e)}function ck(n){return y0(m0,n)}var bD=(Gb.required=ck,Gb);function uk(){return Ko(bt(),we())}function Ko(n,e){return new Ft(en(n,e))}var Ft=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=uk}return n})();function lk(n){return n instanceof Ft?n.nativeElement:n}function dk(){return this._results[Symbol.iterator]()}var wg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ke}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=KP(e);(this._changesDetected=!WP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=dk};function DD(n){return(n.flags&128)===128}var TD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(TD||{}),CD=new Map,hk=0;function fk(){return hk++}function pk(n){CD.set(n[Wl],n)}function Ig(n){CD.delete(n[Wl])}var Wb="__ngContext__";function Pi(n,e){Hr(e)?(n[Wb]=e[Wl],pk(e)):n[Wb]=e}function SD(n){return RD(n[Ta])}function AD(n){return RD(n[ln])}function RD(n){for(;n!==null&&!sr(n);)n=n[ln];return n}var Eg;function MD(n){Eg=n}function gk(){if(Eg!==void 0)return Eg;if(typeof document<"u")return document;throw new K(210,!1)}var Tm=new G("",{providedIn:"root",factory:()=>mk}),mk="ng",Cm=new G(""),Jr=new G("",{providedIn:"platform",factory:()=>"unknown"});var Sm=new G("",{providedIn:"root",factory:()=>gk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yk="h",vk="b";var ND=!1,_k=new G("",{providedIn:"root",factory:()=>ND});var Am=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Am||{}),Qo=new G(""),Kb=new Set;function ar(n){Kb.has(n)||(Kb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ro=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ro||{}),xD=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),wk=[Ro.EarlyRead,Ro.Write,Ro.MixedReadWrite,Ro.Read],Ik=(()=>{class n{ngZone=F(Ue);scheduler=F(Uo);errorHandler=F(er,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(Qo,{optional:!0})}execute(){this.executing=!0;for(let t of wk)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[t]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[t](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(7))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Am.AFTER_NEXT_RENDER,t):t()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),bg=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o=null){this.impl=e,this.hooks=t,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Rm(n,e){!e?.injector&&uO(Rm);let t=e?.injector??F(xt);return ar("NgAfterNextRender"),bk(n,t,e,!0)}function Ek(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function bk(n,e,t,r){let i=e.get(xD);i.impl??=e.get(Ik);let o=e.get(Qo,null,{optional:!0}),s=t?.phase??Ro.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Em):null,u=new bg(i.impl,Ek(n,s),r,a,o?.snapshot(null));return i.impl.register(u),u}var Dk=()=>null;function Mm(n,e,t=!1){return Dk(n,e,t)}var Dn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Dn||{});var ul;function Tk(){if(ul===void 0&&(ul=null,Xp.trustedTypes))try{ul=Xp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ul}function Qb(n){return Tk()?.createScriptURL(n)||n}var Ml=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${g0})`}};function Va(n){return n instanceof Ml?n.changingThisBreaksApplicationSecurity:n}function Nm(n,e){let t=Ck(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${g0})`)}return t===e}function Ck(n){return n instanceof Ml&&n.getTypeName()||null}var Sk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PD(n){return n=String(n),n.match(Sk)?n:"unsafe:"+n}var Jl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Jl||{});function xm(n){let e=kD();return e?e.sanitize(Jl.URL,n)||"":Nm(n,"URL")?Va(n):PD(Hl(n))}function Ak(n){let e=kD();if(e)return Qb(e.sanitize(Jl.RESOURCE_URL,n)||"");if(Nm(n,"ResourceURL"))return Qb(Va(n));throw new K(904,!1)}function Rk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Ak:xm}function OD(n,e,t){return Rk(e,t)(n)}function kD(){let n=we();return n&&n[Jn].sanitizer}function FD(n){return n instanceof Function?n():n}var Gr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Gr||{}),tr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(tr||{}),Mk;function Pm(n,e){return Mk(n,e)}function Mo(n,e,t,r,i){if(r!=null){let o,s=!1;sr(r)?o=r:Hr(r)&&(s=!0,r=r[or]);let a=bn(r);n===0&&t!==null?i==null?UD(e,t,a):Nl(e,t,a,i||null,!0):n===1&&t!==null?Nl(e,t,a,i||null,!0):n===2?zk(e,a,s):n===3&&e.destroyNode(a),o!=null&&Wk(e,n,o,t,i)}}function Nk(n,e){return n.createText(e)}function xk(n,e,t){n.setValue(e,t)}function LD(n,e,t){return n.createElement(e,t)}function Pk(n,e){VD(n,e),e[or]=null,e[fn]=null}function Ok(n,e,t,r,i,o){r[or]=i,r[fn]=e,ed(n,r,t,1,i,o)}function VD(n,e){e[Jn].changeDetectionScheduler?.notify(10),ed(n,e,e[et],2,null,null)}function kk(n){let e=n[Ta];if(!e)return Gp(n[re],n);for(;e;){let t=null;if(Hr(e))t=e[Ta];else{let r=e[wt];r&&(t=r)}if(!t){for(;e&&!e[ln]&&e!==n;)Hr(e)&&Gp(e[re],e),e=e[It];e===null&&(e=n),Hr(e)&&Gp(e[re],e),t=e&&e[ln]}e=t}}function Fk(n,e,t,r){let i=wt+r,o=t.length;r>0&&(t[i-1][ln]=e),r<o-wt?(e[ln]=t[i],S0(t,wt+r,e)):(t.push(e),e[ln]=null),e[It]=t;let s=e[Si];s!==null&&t!==s&&jD(s,e);let a=e[Xn];a!==null&&a.insertView(n),cg(e),e[ne]|=128}function jD(n,e){let t=n[Vo],r=e[It];if(Hr(r))n[ne]|=2;else{let i=r[It][dn];e[dn]!==i&&(n[ne]|=2)}t===null?n[Vo]=[e]:t.push(e)}function Om(n,e){let t=n[Vo],r=t.indexOf(e);t.splice(r,1)}function Sa(n,e){if(n.length<=wt)return;let t=wt+e,r=n[t];if(r){let i=r[Si];i!==null&&i!==n&&Om(i,r),e>0&&(n[t-1][ln]=r[ln]);let o=wl(n,wt+e);Pk(r[re],r);let s=o[Xn];s!==null&&s.detachView(o[re]),r[It]=null,r[ln]=null,r[ne]&=-129}return r}function Xl(n,e){if(Oa(e))return;let t=e[et];t.destroyNode&&ed(n,e,t,3,null,null),kk(e)}function Gp(n,e){if(Oa(e))return;let t=fe(null);try{e[ne]&=-129,e[ne]|=256,e[zt]&&vp(e[zt]),Vk(n,e),Lk(n,e),e[re].type===1&&e[et].destroy();let r=e[Si];if(r!==null&&sr(e[It])){r!==e[It]&&Om(r,e);let i=e[Xn];i!==null&&i.detachView(n)}Ig(e)}finally{fe(t)}}function Lk(n,e){let t=n.cleanup,r=e[El];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[El]=null);let i=e[$r];if(i!==null){e[$r]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[bl];if(o!==null){e[bl]=null;for(let s of o)s.destroy()}}function Vk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ni)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];In(4,a,u);try{u.call(a)}finally{In(5,a,u)}}else{In(4,i,o);try{o.call(i)}finally{In(5,i,o)}}}}}function jk(n,e,t){return Uk(n,e.parent,t)}function Uk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[or];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Dn.None||o===Dn.Emulated)return null}return en(r,t)}}function Nl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function UD(n,e,t){n.appendChild(e,t)}function Yb(n,e,t,r,i){r!==null?Nl(n,e,t,r,i):UD(n,e,t)}function BD(n,e){return n.parentNode(e)}function Bk(n,e){return n.nextSibling(e)}function $k(n,e,t){return qk(n,e,t)}function Hk(n,e,t){return n.type&40?en(n,t):null}var qk=Hk,Zb;function km(n,e,t,r){let i=jk(n,r,e),o=e[et],s=r.parent||e[fn],a=$k(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Yb(o,i,t[u],a,!1);else Yb(o,i,t,a,!1);Zb!==void 0&&Zb(o,r,e,t,i)}function wa(n,e){if(e!==null){let t=e.type;if(t&3)return en(e,n);if(t&4)return Dg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return wa(n,r);{let i=n[e.index];return sr(i)?Dg(-1,i):bn(i)}}else{if(t&128)return wa(n,e.next);if(t&32)return Pm(e,n)()||bn(n[e.index]);{let r=$D(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ri(n[dn]);return wa(i,r)}else return wa(n,e.next)}}}return null}function $D(n,e){if(e!==null){let r=n[dn][fn],i=e.projection;return r.projection[i]}return null}function Dg(n,e){let t=wt+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return wa(r,i)}return e[Ai]}function zk(n,e,t){n.removeChild(null,e,t)}function Fm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Pi(bn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Fm(n,e,t.child,r,i,o,!1),Mo(e,n,i,a,o);else if(u&32){let l=Pm(t,r),h;for(;h=l();)Mo(e,n,i,h,o);Mo(e,n,i,a,o)}else u&16?Gk(n,e,r,t,i,o):Mo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ed(n,e,t,r,i,o){Fm(t,r,n.firstChild,e,i,o,!1)}function Gk(n,e,t,r,i,o){let s=t[dn],u=s[fn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Mo(e,n,i,h,o)}else{let l=u,h=s[It];DD(r)&&(l.flags|=128),Fm(n,e,l,h,i,o,!0)}}function Wk(n,e,t,r,i){let o=t[Ai],s=bn(t);o!==s&&Mo(e,n,r,o,i);for(let a=wt;a<t.length;a++){let u=t[a];ed(u[re],u,n,e,r,o)}}function Kk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:tr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=tr.Important),n.setStyle(t,r,i,o))}}function Qk(n,e,t){n.setAttribute(e,"style",t)}function HD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function qD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&dg(n,e,r),i!==null&&HD(n,e,i),o!==null&&Qk(n,e,o)}function Yk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var zD="ng-template";function Zk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Yk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Lm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Lm(n){return n.type===4&&n.value!==zD}function Jk(n,e,t){let r=n.type===4&&!t?zD:n.value;return e===r}function Xk(n,e,t){let r=4,i=n.attrs,o=i!==null?n1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!un(r)&&!un(u))return!1;if(s&&un(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Jk(n,u,t)||u===""&&e.length===1){if(un(r))return!1;s=!0}}else if(r&8){if(i===null||!Zk(n,i,u,t)){if(un(r))return!1;s=!0}}else{let l=e[++a],h=e1(u,i,Lm(n),t);if(h===-1){if(un(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(un(r))return!1;s=!0}}}}return un(r)||s}function un(n){return(n&1)===0}function e1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return r1(e,n)}function t1(n,e,t=!1){for(let r=0;r<e.length;r++)if(Xk(n,e[r],t))return!0;return!1}function n1(n){for(let e=0;e<n.length;e++){let t=n[e];if(aD(t))return e}return n.length}function r1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Jb(n,e){return n?":not("+e.trim()+")":e}function i1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!un(s)&&(e+=Jb(o,i),i=""),r=s,o=o||!un(r);t++}return i!==""&&(e+=Jb(o,i)),e}function o1(n){return n.map(i1).join(",")}function s1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!un(i))break;i=o}r++}return{attrs:e,classes:t}}var Xr={};function B(n=1){GD(Et(),we(),Li()+n,!1)}function GD(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&fl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&pl(e,o,0,t)}Mi(t)}function U(n,e=ue.Default){let t=we();if(t===null)return z(n,e);let r=bt();return pD(r,t,Rt(n),e)}function WD(){let n="invalid";throw new Error(n)}function KD(n,e,t,r,i,o){let s=fe(null);try{let a=null;i&Gr.SignalBased&&(a=e[r][$t]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Gr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):$0(e,a,r,o)}finally{fe(s)}}function a1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Mi(~i);else{let o=i,s=t[++r],a=t[++r];xO(s,o);let u=e[o];a(2,u)}}}finally{Mi(-1)}}function td(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[or]=i,p[ne]=r|4|128|8|64|1024,(l!==null||n&&n[ne]&2048)&&(p[ne]|=2048),W0(p),p[It]=p[Go]=n,p[_t]=t,p[Jn]=s||n&&n[Jn],p[et]=a||n&&n[et],p[Lo]=u||n&&n[Lo]||null,p[fn]=o,p[Wl]=fk(),p[Da]=h,p[j0]=l,p[dn]=e.type==2?n[dn]:p,p}function nd(n,e,t,r,i){let o=n.data[e];if(o===null)o=c1(n,e,t,r,i),NO()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=CO();o.injectorIndex=s===null?-1:s.injectorIndex}return La(o,!0),o}function c1(n,e,t,r,i){let o=Y0(),s=Z0(),a=s?o:o&&o.parent,u=n.data[e]=p1(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function QD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function YD(n,e,t,r,i){let o=Li(),s=r&2;try{Mi(-1),s&&e.length>hn&&GD(n,e,hn,!1),In(s?2:0,i),t(r,i)}finally{Mi(o),In(s?3:1,i)}}function ZD(n,e,t){if(B0(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}function JD(n,e,t){Q0()&&(w1(n,e,t,en(t,e)),(t.flags&64)===64&&iT(n,e,t))}function XD(n,e,t=en){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function eT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Vm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Vm(n,e,t,r,i,o,s,a,u,l,h){let p=hn+r,m=p+i,y=u1(p,m),C=typeof l=="function"?l():l;return y[re]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function u1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Xr);return t}function l1(n,e,t,r){let o=r.get(_k,ND)||t===Dn.ShadowDom,s=n.selectRootElement(e,o);return d1(s),s}function d1(n){h1(n)}var h1=()=>null;function f1(n,e,t,r){let i=cT(e);i.push(t),n.firstCreatePass&&uT(n).push(r,i.length-1)}function p1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return bO()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Gr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?e0(r,t,l,a,u):e0(r,t,l,a)}return r}function e0(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function g1(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=t?t.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=Xb(0,p.inputs,h,u,y),l=Xb(1,p.outputs,h,l,C);let M=u!==null&&s!==null&&!Lm(e)?N1(u,h,s):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function m1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function tT(n,e,t,r,i,o,s,a){let u=en(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(jm(n,t,h,r,i),Kl(e)&&y1(t,e.index)):e.type&3?(r=m1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function y1(n,e){let t=Qr(e,n);t[ne]&16||(t[ne]|=64)}function nT(n,e,t,r){if(Q0()){let i=r===null?null:{"":-1},o=E1(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&rT(n,e,t,s,i,a),i&&b1(t,r,i)}t.mergedAttrs=Ca(t.mergedAttrs,t.attrs)}function rT(n,e,t,r,i,o){for(let l=0;l<r.length;l++)pg(Sl(t,e),n,r[l].type);T1(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=QD(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=Ca(t.mergedAttrs,h.hostAttrs),C1(n,t,e,u,h),D1(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}g1(n,t,o)}function v1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;_1(s)!=a&&s.push(a),s.push(t,r,o)}}function _1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function w1(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Kl(t)&&S1(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Sl(t,e),Pi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=xi(e,n,a,t);if(Pi(l,e),s!==null&&M1(e,a-i,l,u,t,s),zr(u)){let h=Qr(t.index,e);h[_t]=xi(e,n,a,t)}}}function iT(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=PO();try{Mi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];lg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&I1(u,l)}}finally{Mi(-1),lg(s)}}function I1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function E1(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(t1(e,s.selectors,!1))if(r||(r=[]),zr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Tg(n,e,u)}else r.unshift(s),Tg(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Tg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function b1(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}}function D1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;zr(e)&&(t[""]=n)}}function T1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function C1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Po(i.type,!0)),s=new Ni(o,zr(i),U);n.blueprint[r]=s,t[r]=s,v1(n,e,r,QD(n,t,i.hostVars,Xr),i)}function oT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function S1(n,e,t){let r=en(e,n),i=eT(t),o=n[Jn].rendererFactory,s=rd(n,td(n,i,null,oT(t),r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=s}function A1(n,e,t,r,i,o){let s=en(n,e);R1(e[et],s,o,n.value,t,r,i)}function R1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Hl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function M1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];KD(r,t,u,l,h,p)}}function N1(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function sT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function aT(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];fm(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function rd(n,e){return n[Ta]?n[Ob][ln]=e:n[Ta]=e,n[Ob]=e,e}function Cg(n,e,t){fm(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function cT(n){return n[El]??=[]}function uT(n){return n.cleanup??=[]}function lT(n,e){let t=n[Lo],r=t?t.get(er,null):null;r&&r.handleError(e)}function jm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];KD(h,l,r,a,u,i)}}function x1(n,e,t){let r=G0(e,n);xk(n[et],r,t)}function P1(n,e){let t=Qr(e,n),r=t[re];O1(r,t);let i=t[or];i!==null&&t[Da]===null&&(t[Da]=Mm(i,t[Lo])),Um(r,t,t[_t])}function O1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Um(n,e,t){pm(e);try{let r=n.viewQuery;r!==null&&Cg(1,r,t);let i=n.template;i!==null&&YD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Xn]?.finishViewCreation(n),n.staticContentQueries&&aT(n,e),n.staticViewQueries&&Cg(2,n.viewQuery,t);let o=n.components;o!==null&&k1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,gm()}}function k1(n,e){for(let t=0;t<e.length;t++)P1(n,e[t])}function id(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=td(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Si]=l;let h=n[Xn];return h!==null&&(u[Xn]=h.createEmbeddedView(o)),Um(o,u,t),u}finally{fe(i)}}function dT(n,e){let t=wt+e;if(t<n.length)return n[t]}function Aa(n,e){return!e||e.firstChild===null||DD(n)}function od(n,e,t,r=!0){let i=e[re];if(Fk(i,e,n,t),r){let s=Dg(t,n),a=e[et],u=BD(a,n[Ai]);u!==null&&Ok(i,n[fn],a,e,u,s)}let o=e[Da];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hT(n,e){let t=Sa(n,e);return t!==void 0&&Xl(t[re],t),t}function xl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(bn(o)),sr(o)&&F1(o,r);let s=t.type;if(s&8)xl(n,e,t.child,r);else if(s&32){let a=Pm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=$D(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ri(e[dn]);xl(u[re],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function F1(n,e){for(let t=wt;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&xl(r[re],r,i,e)}n[Ai]!==n[or]&&e.push(n[Ai])}var fT=[];function L1(n){return n[zt]??V1(n)}function V1(n){let e=fT.pop()??Object.create(U1);return e.lView=n,e}function j1(n){n.lView[zt]!==n&&(n.lView=null,fT.push(n))}var U1=he(j({},ga),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Yl(n.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function B1(n){let e=n[zt]??Object.create($1);return e.lView=n,e}var $1=he(j({},ga),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ri(n.lView);for(;e&&!pT(e[re]);)e=Ri(e);e&&hm(e)},consumerOnSignalRead(){this.lView[zt]=this}});function pT(n){return n.type!==2}function gT(n){if(n[bl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[bl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ne]&8192)}}var H1=100;function mT(n,e=!0,t=0){let i=n[Jn].rendererFactory,o=!1;o||i.begin?.();try{q1(n,t)}catch(s){throw e&&lT(n,s),s}finally{o||i.end?.()}}function q1(n,e){let t=J0();try{Fb(!0),Sg(n,e);let r=0;for(;Ql(n);){if(r===H1)throw new K(103,!1);r++,Sg(n,1)}}finally{Fb(t)}}function z1(n,e,t,r){if(Oa(e))return;let i=e[ne],o=!1,s=!1;pm(e);let a=!0,u=null,l=null;o||(pT(n)?(l=L1(e),u=Nu(l)):$E()===null?(a=!1,l=B1(e),u=Nu(l)):e[zt]&&(vp(e[zt]),e[zt]=null));try{W0(e),RO(n.bindingStartIndex),t!==null&&YD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&fl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&pl(e,y,0,null),Hp(e,0)}if(s||G1(e),gT(e),yT(e,0),n.contentQueries!==null&&aT(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&fl(e,y)}else{let y=n.contentHooks;y!==null&&pl(e,y,1),Hp(e,1)}a1(n,e);let p=n.components;p!==null&&_T(e,p,0);let m=n.viewQuery;if(m!==null&&Cg(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&fl(e,y)}else{let y=n.viewHooks;y!==null&&pl(e,y,2),Hp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[$p]){for(let y of e[$p])y();e[$p]=null}o||(e[ne]&=-73)}catch(h){throw o||Yl(e),h}finally{l!==null&&(mp(l,u),a&&j1(l)),gm()}}function yT(n,e){for(let t=SD(n);t!==null;t=AD(t))for(let r=wt;r<t.length;r++){let i=t[r];vT(i,e)}}function G1(n){for(let e=SD(n);e!==null;e=AD(e)){if(!(e[ne]&2))continue;let t=e[Vo];for(let r=0;r<t.length;r++){let i=t[r];hm(i)}}}function W1(n,e,t){let r=Qr(e,n);vT(r,t)}function vT(n,e){dm(n)&&Sg(n,e)}function Sg(n,e){let r=n[re],i=n[ne],o=n[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&yp(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)z1(r,n,r.template,n[_t]);else if(i&8192){gT(n),yT(n,1);let a=r.components;a!==null&&_T(n,a,1)}}function _T(n,e,t){for(let r=0;r<e.length;r++)W1(n,e[r],t)}function Bm(n,e){let t=J0()?64:1088;for(n[Jn].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=Ri(n);if(sg(n)&&!r)return n;n=r}return null}var Oi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[re];return xl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[_t]}get dirty(){return!!(this._lView[ne]&9280)||!!this._lView[zt]?.dirty}set context(e){this._lView[_t]=e}get destroyed(){return Oa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[It];if(sr(e)){let t=e[Dl],r=t?t.indexOf(this):-1;r>-1&&(Sa(e,r),wl(t,r))}this._attachedToViewContainer=!1}Xl(this._lView[re],this._lView)}onDestroy(e){K0(this._lView,e)}markForCheck(){Bm(this._cdRefInjectingView||this._lView,4)}markForRefresh(){hm(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){cg(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,mT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=sg(this._lView),t=this._lView[Si];t!==null&&!e&&Om(t,this._lView),VD(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=sg(this._lView),r=this._lView[Si];r!==null&&!t&&jD(r,this._lView),cg(this._lView)}},ki=(()=>{class n{static __NG_ELEMENT_ID__=Y1}return n})(),K1=ki,Q1=class extends K1{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=id(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Oi(i)}};function Y1(){return $m(bt(),we())}function $m(n,e){return n.type&4?new Q1(e,n,Ko(n,e)):null}var Y8=new RegExp(`^(\\d+)*(${vk}|${yk})*(.*)`);var Z1=()=>null;function Ra(n,e){return Z1(n,e)}var Ag=class{},Pl=class{},Rg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Mt(e)}.`)}},Bo=class{static NULL=new Rg},$o=class{},Tn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>J1()}return n})();function J1(){let n=we(),e=bt(),t=Qr(e.index,n);return(Hr(t)?t:n)[et]}var X1=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>null})}return n})();function Mg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ab(i,a);else if(o==2){let u=a,l=e[++s];r=Ab(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Ol=class extends Bo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=qr(e);return new Ho(t,this.ngModule)}};function t0(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Gr.None;e?t.push({propName:s,templateName:r,isSignal:(a&Gr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function eF(n){let e=n.toLowerCase();return e==="svg"?pO:e==="math"?gO:null}var Ho=class extends Pl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,t=e.inputTransforms,r=t0(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return t0(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=o1(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=fe(null);try{i=i||this.ngModule;let s=i instanceof Nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new hg(e,s):e,u=a.get($o,null);if(u===null)throw new K(407,!1);let l=a.get(X1,null),h=a.get(Uo,null),p={rendererFactory:u,sanitizer:l,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?l1(m,r,this.componentDef.encapsulation,a):LD(m,y,eF(y)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;C!==null&&(R=Mm(C,a,!0));let V=Vm(0,null,null,1,0,null,null,null,null,null,null),W=td(null,V,null,M,null,null,p,m,a,null,R);pm(W);let q,ae,Ne=null;try{let te=this.componentDef,b,_=null;te.findHostDirectiveDefs?(b=[],_=new Map,te.findHostDirectiveDefs(te,b,_),b.push(te)):b=[te];let w=tF(W,C);Ne=nF(w,C,te,b,W,p,m),ae=lm(V,hn),C&&oF(m,te,C,r),t!==void 0&&sF(ae,this.ngContentSelectors,t),q=iF(Ne,te,b,_,W,[aF]),Um(V,W,null)}catch(te){throw Ne!==null&&Ig(Ne),Ig(W),te}finally{gm()}return new Ng(this.componentType,q,Ko(ae,W),W,ae)}finally{fe(o)}}},Ng=class extends Ag{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new Oi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;jm(o[re],o,i,e,t),this.previousInputValues.set(e,t);let s=Qr(this._tNode.index,o);Bm(s,1)}}get injector(){return new Ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function tF(n,e){let t=n[re],r=hn;return n[r]=e,nd(t,r,2,"#host",null)}function nF(n,e,t,r,i,o,s){let a=i[re];rF(r,n,e,s);let u=null;e!==null&&(u=Mm(e,i[Lo]));let l=o.rendererFactory.createRenderer(e,t),h=td(i,eT(t),null,oT(t),i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&Tg(a,n,r.length-1),rd(i,h),i[n.index]=h}function rF(n,e,t,r){for(let i of n)e.mergedAttrs=Ca(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Mg(e,e.mergedAttrs,!0),t!==null&&qD(r,t,e))}function iF(n,e,t,r,i,o){let s=bt(),a=i[re],u=en(s,i);rT(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,m=xi(i,a,p,s);Pi(m,i)}iT(a,i,s),u&&Pi(u,i);let l=xi(i,a,s.directiveStart+s.componentOffset,s);if(n[_t]=i[_t]=l,o!==null)for(let h of o)h(l,e);return ZD(a,s,i),l}function oF(n,e,t,r){if(r)dg(n,t,["ng-version","19.1.0"]);else{let{attrs:i,classes:o}=s1(e.selectors[0]);i&&dg(n,t,i),o&&o.length>0&&HD(n,t,o.join(" "))}}function sF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}function aF(){let n=bt();_m(we()[re],n)}var ei=(()=>{class n{static __NG_ELEMENT_ID__=cF}return n})();function cF(){let n=bt();return IT(n,we())}var uF=ei,wT=class extends uF{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ko(this._hostTNode,this._hostLView)}get injector(){return new Ci(this._hostTNode,this._hostLView)}get parentInjector(){let e=wm(this._hostTNode,this._hostLView);if(cD(e)){let t=Cl(e,this._hostLView),r=Tl(e),i=t[re].data[r+8];return new Ci(i,t)}else return new Ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=n0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ra(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Aa(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!lO(e),a;if(s)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new Ho(qr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(Nt,null);M&&(o=M)}let h=qr(u.componentType??{}),p=Ra(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,Aa(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(yO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[It],l=new wT(u,u[fn],u[It]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return od(s,i,o,r),e.attachToViewContainerRef(),S0(Wp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=n0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Sa(this._lContainer,t);r&&(wl(Wp(this._lContainer),t),Xl(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=Sa(this._lContainer,t);return r&&wl(Wp(this._lContainer),t)!=null?new Oi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function n0(n){return n[Dl]}function Wp(n){return n[Dl]||(n[Dl]=[])}function IT(n,e){let t,r=e[n.index];return sr(r)?t=r:(t=sT(r,e,null,n),e[n.index]=t,rd(e,t)),dF(t,e,n,r),new wT(t,n,e)}function lF(n,e){let t=n[et],r=t.createComment(""),i=en(e,n),o=BD(t,i);return Nl(t,o,r,Bk(t,i),!1),r}var dF=pF,hF=()=>!1;function fF(n,e,t){return hF(n,e,t)}function pF(n,e,t,r){if(n[Ai])return;let i;t.type&8?i=bn(r):i=lF(e,t),n[Ai]=i}var xg=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Pg=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Hm(e,t).matches!==null&&this.queries[t].setDirty()}},Og=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=EF(e):this.predicate=e}},kg=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Fg=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,gF(t,o)),this.matchTNodeWithReadOption(e,t,gl(t,e,o,!1,!1))}else r===ki?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,gl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ft||i===ei||i===ki&&t.type&4)this.addMatch(t.index,-2);else{let o=gl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function gF(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function mF(n,e){return n.type&11?Ko(n,e):n.type&4?$m(n,e):null}function yF(n,e,t,r){return t===-1?mF(e,n):t===-2?vF(n,e,r):xi(n,n[re],t,e)}function vF(n,e,t){if(t===Ft)return Ko(e,n);if(t===ki)return $m(e,n);if(t===ei)return IT(e,n)}function ET(n,e,t,r){let i=e[Xn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(yF(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function Lg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=ET(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=wt;p<h.length;p++){let m=h[p];m[Si]===m[It]&&Lg(m[re],m,l,r)}if(h[Vo]!==null){let p=h[Vo];for(let m=0;m<p.length;m++){let y=p[m];Lg(y[re],y,l,r)}}}}}return r}function _F(n,e){return n[Xn].queries[e].queryList}function wF(n,e,t){let r=new wg((t&4)===4);return f1(n,e,r,r.destroy),(e[Xn]??=new Pg).queries.push(new xg(r))-1}function IF(n,e,t,r){let i=Et();if(i.firstCreatePass){let o=bt();bF(i,new Og(e,t,r),o.index),DF(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return wF(i,we(),t)}function EF(n){return n.split(",").map(e=>e.trim())}function bF(n,e,t){n.queries===null&&(n.queries=new kg),n.queries.track(new Fg(e,t))}function DF(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Hm(n,e){return n.queries.getByIndex(e)}function TF(n,e){let t=n[re],r=Hm(t,e);return r.crossesNgTemplate?Lg(t,n,e,[]):ET(t,n,r,e)}function CF(n){return typeof n=="function"&&n[$t]!==void 0}function Cn(n,e){ar("NgSignals");let t=JE(n),r=t[$t];return e?.equal&&(r.equal=e.equal),t.set=i=>Ou(r,i),t.update=i=>XE(r,i),t.asReadonly=SF.bind(t),t}function SF(){let n=this[$t];if(n.readonlyFn===void 0){let e=()=>this();e[$t]=n,n.readonlyFn=e}return n.readonlyFn}function bT(n){return CF(n)&&typeof n.set=="function"}var Wr=class{},Ma=class{};var Vg=class extends Wr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ol(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=M0(e);this._bootstrapComponents=FD(o.bootstrap),this._r3Injector=yD(e,t,[{provide:Wr,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jg=class extends Ma{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vg(this.moduleType,e,[])}};var kl=class extends Wr{injector;componentFactoryResolver=new Ol(this);instance=null;constructor(e){super();let t=new ba([...e.providers,{provide:Wr,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver}],e.parent||cm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function sd(n,e,t=null){return new kl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var AF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=O0(!1,t.type),i=r.length>0?sd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(z(Nt))})}return n})();function Te(n){return xa(()=>{let e=DT(n),t=he(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===TD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(AF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Dn.Emulated,styles:n.styles||Xt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ar("NgStandalone"),TT(t);let r=n.dependencies;return t.directiveDefs=i0(r,!1),t.pipeDefs=i0(r,!0),t.id=NF(t),t})}function RF(n){return qr(n)||N0(n)}function MF(n){return n!==null}function cr(n){return xa(()=>({type:n.type,bootstrap:n.bootstrap||Xt,declarations:n.declarations||Xt,imports:n.imports||Xt,exports:n.exports||Xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function r0(n,e){if(n==null)return Oo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Gr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Gr.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Be(n){return xa(()=>{let e=DT(n);return TT(e),e})}function DT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Oo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:r0(n.inputs,e),outputs:r0(n.outputs),debugInfo:null}}function TT(n){n.features?.forEach(e=>e(n))}function i0(n,e){if(!n)return null;let t=e?x0:RF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(MF)}function NF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function xF(n){return Object.getPrototypeOf(n.prototype).constructor}function pn(n){let e=xF(n.type),t=!0,r=[n];for(;e;){let i;if(zr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ll(n.inputs),s.inputTransforms=ll(n.inputTransforms),s.declaredInputs=ll(n.declaredInputs),s.outputs=ll(n.outputs);let a=i.hostBindings;a&&LF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&kF(n,u),l&&FF(n,l),PF(n,i),AP(n.outputs,i.outputs),zr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===pn&&(t=!1)}}e=Object.getPrototypeOf(e)}OF(r)}function PF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function OF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ca(i.hostAttrs,t=Ca(t,i.hostAttrs))}}function ll(n){return n===Oo?{}:n===Xt?[]:n}function kF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function FF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function LF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function qm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function CT(n){return jF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function VF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function jF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function UF(n,e,t){return n[e]=t}function BF(n,e){return n[e]}function Vi(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function $F(n){return(n.flags&32)===32}function HF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=nd(e,n,4,s||null,a||null);nT(e,t,h,jo(l,u)),_m(e,h);let p=h.tView=Vm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Ug(n,e,t,r,i,o,s,a,u,l){let h=t+hn,p=e.firstCreatePass?HF(h,e,n,r,i,o,s,a,u):e.data[h];La(p,!1);let m=qF(e,n,p,t);ym()&&km(e,n,m,p),Pi(m,n);let y=sT(m,n,m,p);return n[h]=y,rd(n,y),fF(y,p,n),um(p)&&JD(e,n,p),u!=null&&XD(n,p,l),p}function We(n,e,t,r,i,o,s,a){let u=we(),l=Et(),h=jo(l.consts,o);return Ug(u,l,n,e,t,r,i,h,s,a),We}var qF=zF;function zF(n,e,t,r){return vm(!0),e[et].createComment("")}var zm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var ST=new G("");function ji(n){return!!n&&typeof n.then=="function"}function AT(n){return!!n&&typeof n.subscribe=="function"}var ad=new G("");var RT=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(ad,{optional:!0})??[];injector=F(xt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=kt(this.injector,i);if(ji(o))t.push(o);else if(AT(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GF=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new Bg})}return n})(),Bg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},ja=new G("");function WF(){ZE(()=>{throw new K(600,!1)})}function KF(n){return n.isBoundToModule}var QF=10;function YF(n,e,t){try{let r=t();return ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var nr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(ak);afterRenderManager=F(xD);zonelessEnabled=F(Zl);rootEffectScheduler=F(GF);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ke;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=F(Zr).hasPendingTasks.pipe(ee(t=>!t));constructor(){F(Qo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(Nt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Pl;if(!this._injector.get(RT).done){let m=!i&&P0(t),y=!1;throw new K(405,y)}let s;i?s=t:s=this._injector.get(Bo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=KF(s)?void 0:this._injector.get(Wr),u=r||s.selector,l=s.create(xt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(ST,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),ml(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Am.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new K(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,fe(t),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get($o,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<QF;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)ZF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ql(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ml(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ja,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ml(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ml(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ZF(n,e,t,r){if(!t&&!Ql(n))return;mT(n,e,t&&!r?0:1)}function Ua(n,e,t,r){let i=we(),o=Wo();if(Vi(i,o,e)){let s=Et(),a=mm();A1(a,i,n,e,t,r)}return Ua}function JF(n,e,t,r){return Vi(n,Wo(),t)?e+Hl(t)+r:Xr}function dl(n,e){return n<<17|e<<2}function Fi(n){return n>>17&32767}function XF(n){return(n&2)==2}function eL(n,e){return n&131071|e<<17}function $g(n){return n|2}function qo(n){return(n&131068)>>2}function Kp(n,e){return n&-131069|e<<2}function tL(n){return(n&1)===1}function Hg(n){return n|1}function nL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Fi(s),u=qo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Pa(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Fi(n[a+1]);n[r+1]=dl(m,a),m!==0&&(n[m+1]=Kp(n[m+1],r)),n[a+1]=eL(n[a+1],r)}else n[r+1]=dl(a,0),a!==0&&(n[a+1]=Kp(n[a+1],r)),a=r;else n[r+1]=dl(u,0),a===0?a=r:n[u+1]=Kp(n[u+1],r),u=r;l&&(n[r+1]=$g(n[r+1])),o0(n,h,r,!0),o0(n,h,r,!1),rL(e,h,n,r,o),s=dl(a,u),o?e.classBindings=s:e.styleBindings=s}function rL(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Pa(o,e)>=0&&(t[r+1]=Hg(t[r+1]))}function o0(n,e,t,r){let i=n[t+1],o=e===null,s=r?Fi(i):qo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];iL(u,e)&&(a=!0,n[s+1]=r?Hg(l):$g(l)),s=r?Fi(l):qo(l)}a&&(n[t+1]=r?$g(i):Hg(i))}function iL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Pa(n,e)>=0:!1}function $e(n,e,t){let r=we(),i=Wo();if(Vi(r,i,e)){let o=Et(),s=mm();tT(o,s,r,n,e,r[et],t,!1)}return $e}function s0(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";jm(n,t,o[s],s,r)}function ti(n,e){return oL(n,e,null,!0),ti}function oL(n,e,t,r){let i=we(),o=Et(),s=MO(2);if(o.firstUpdatePass&&aL(o,n,s,r),e!==Xr&&Vi(i,s,e)){let a=o.data[Li()];hL(o,a,i,i[et],n,i[s+1]=fL(e,t),r,s)}}function sL(n,e){return e>=n.expandoStartIndex}function aL(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Li()],s=sL(n,t);pL(o,r)&&e===null&&!s&&(e=!1),e=cL(i,o,e,r),nL(i,o,e,t,s,r)}}function cL(n,e,t,r){let i=OO(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Qp(null,n,e,t,r),t=Na(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Qp(i,n,e,t,r),o===null){let u=uL(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Qp(null,n,e,u[1],r),u=Na(u,e.attrs,r),lL(n,e,r,u))}else o=dL(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function uL(n,e,t){let r=t?e.classBindings:e.styleBindings;if(qo(r)!==0)return n[Fi(r)]}function lL(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Fi(i)]=r}function dL(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Na(r,s,t)}return Na(r,e.attrs,t)}function Qp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Na(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Na(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),YP(n,s,t?!0:e[++o]))}return n===void 0?null:n}function hL(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=tL(l)?a0(u,e,t,i,qo(l),s):void 0;if(!Fl(h)){Fl(o)||XF(l)&&(o=a0(u,null,t,i,a,s));let p=G0(Li(),t);Kk(r,s,p,i,o)}}function a0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Xr&&(m=p?Xt:void 0);let y=p?Up(m,r):h===r?m:void 0;if(l&&!Fl(y)&&(y=Up(u,r)),Fl(y)&&(a=y,s))return a;let C=n[i+1];i=s?Fi(C):qo(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Up(u,r))}return a}function Fl(n){return n!==void 0}function fL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Mt(Va(n)))),n}function pL(n,e){return(n.flags&(e?8:16))!==0}var qg=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Yp(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function gL(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=Yp(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let m=n.at(s),y=e[u],C=Yp(s,m,u,y,t);if(C!==0){C<0&&n.updateValue(s,y),s--,u--;continue}let M=t(o,l),R=t(s,m),V=t(o,h);if(Object.is(V,R)){let W=t(u,y);Object.is(W,M)?(n.swap(o,s),n.updateValue(s,y),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new Ll,i??=u0(n,o,s,t),zg(n,r,o,V))n.updateValue(o,h),o++,s++;else if(i.has(V))r.set(M,n.detach(o)),s--;else{let W=n.create(o,e[o]);n.attach(o,W),o++,s++}}for(;o<=u;)c0(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,m=Yp(o,h,o,p,t);if(m!==0)m<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new Ll,i??=u0(n,o,s,t);let y=t(o,p);if(zg(n,r,o,y))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let C=t(o,h);r.set(C,n.detach(o)),s--}}}for(;!l.done;)c0(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function zg(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function c0(n,e,t,r,i){if(zg(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function u0(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Ll=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Sn(n,e){ar("NgControlFlow");let t=we(),r=Wo(),i=t[r]!==Xr?t[r]:-1,o=i!==-1?Vl(t,hn+i):void 0,s=0;if(Vi(t,r,n)){let a=fe(null);try{if(o!==void 0&&hT(o,s),n!==-1){let u=hn+n,l=Vl(t,u),h=Qg(t[re],u),p=Ra(l,h.tView.ssrId),m=id(t,h,e,{dehydratedView:p});od(l,m,s,Aa(h,p))}}finally{fe(a)}}else if(o!==void 0){let a=dT(o,s);a!==void 0&&(a[_t]=e)}}var Gg=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-wt}};var Wg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Ba(n,e,t,r,i,o,s,a,u,l,h,p,m){ar("NgControlFlow");let y=we(),C=Et(),M=u!==void 0,R=we(),V=a?s.bind(R[dn][_t]):s,W=new Wg(M,V);R[hn+n]=W,Ug(y,C,n+1,e,t,r,i,jo(C.consts,o)),M&&Ug(y,C,n+2,u,l,h,p,jo(C.consts,m))}var Kg=class extends qg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-wt}at(e){return this.getLView(e)[_t].$implicit}attach(e,t){let r=t[Da];this.needsIndexUpdate||=e!==this.length,od(this.lContainer,t,e,Aa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,mL(this.lContainer,e)}create(e,t){let r=Ra(this.lContainer,this.templateTNode.tView.ssrId),i=id(this.hostLView,this.templateTNode,new Gg(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Xl(e[re],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[_t].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[_t].$index=e}getLView(e){return yL(this.lContainer,e)}};function $a(n){let e=fe(null),t=Li();try{let r=we(),i=r[re],o=r[t],s=t+1,a=Vl(r,s);if(o.liveCollection===void 0){let l=Qg(i,s);o.liveCollection=new Kg(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(gL(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Wo(),h=u.length===0;if(Vi(r,l,h)){let p=t+2,m=Vl(r,p);if(h){let y=Qg(i,p),C=Ra(m,y.tView.ssrId),M=id(r,y,void 0,{dehydratedView:C});od(m,M,0,Aa(y,C))}else hT(m,0)}}}finally{fe(e)}}function Vl(n,e){return n[e]}function mL(n,e){return Sa(n,e)}function yL(n,e){return dT(n,e)}function Qg(n,e){return lm(n,e)}function vL(n,e,t,r,i,o){let s=e.consts,a=jo(s,i),u=nd(e,n,2,r,a);return nT(e,t,u,jo(s,o)),u.attrs!==null&&Mg(u,u.attrs,!1),u.mergedAttrs!==null&&Mg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function N(n,e,t,r){let i=we(),o=Et(),s=hn+n,a=i[et],u=o.firstCreatePass?vL(s,o,i,e,t,r):o.data[s],l=_L(o,i,u,a,e,n);i[s]=l;let h=um(u);return La(u,!0),qD(a,l,u),!$F(u)&&ym()&&km(o,i,l,u),wO()===0&&Pi(l,i),IO(),h&&(JD(o,i,u),ZD(o,u,i)),r!==null&&XD(i,u),N}function x(){let n=bt();Z0()?SO():(n=n.parent,La(n,!1));let e=n;DO(e)&&TO(),EO();let t=Et();return t.firstCreatePass&&(_m(t,n),B0(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&BO(e)&&s0(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$O(e)&&s0(t,e,we(),e.stylesWithoutHost,!1),x}function An(n,e,t,r){return N(n,e,t,r),x(),An}var _L=(n,e,t,r,i,o)=>(vm(!0),LD(r,i,LO()));function Ha(){return we()}var jl="en-US";var wL=jl;function IL(n){typeof n=="string"&&(wL=n.toLowerCase().replace(/_/g,"-"))}var EL=(n,e,t)=>{};function Oe(n,e,t,r){let i=we(),o=Et(),s=bt();return MT(o,i,i[et],s,n,e,r),Oe}function bL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[El],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function MT(n,e,t,r,i,o,s){let a=um(r),l=n.firstCreatePass&&uT(n),h=e[_t],p=cT(e),m=!0;if(r.type&3||s){let M=en(r,e),R=s?s(M):M,V=p.length,W=s?ae=>s(bn(ae[r.index])):r.index,q=null;if(!s&&a&&(q=bL(n,e,i,r.index)),q!==null){let ae=q.__ngLastListenerFn__||q;ae.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,m=!1}else{o=d0(r,e,h,o),EL(M,i,o);let ae=t.listen(R,i,o);p.push(o,ae),l&&l.push(i,W,V,V+1)}}else o=d0(r,e,h,o);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let M=C.length;if(M)for(let R=0;R<M;R+=2){let V=C[R],W=C[R+1],Ne=e[V][W].subscribe(o),te=p.length;p.push(o,Ne),l&&l.push(i,r.index,te,-(te+1))}}}function l0(n,e,t,r){let i=fe(null);try{return In(6,e,t),t(r)!==!1}catch(o){return lT(n,o),!1}finally{In(7,e,t),fe(i)}}function d0(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Qr(n.index,e):e;Bm(s,5);let a=l0(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=l0(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Ce(n=1){return FO(n)}function NT(n,e,t,r){IF(n,e,t,r)}function xT(n){let e=we(),t=Et(),r=X0();fm(r+1);let i=Hm(t,r);if(n.dirty&&mO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=TF(e,r);n.reset(o,lk),n.notifyOnChanges()}return!0}return!1}function PT(){return _F(we(),X0())}function P(n,e=""){let t=we(),r=Et(),i=n+hn,o=r.firstCreatePass?nd(r,i,1,e,null):r.data[i],s=DL(r,t,o,e,n);t[i]=s,ym()&&km(r,t,s,o),La(o,!1)}var DL=(n,e,t,r,i)=>(vm(!0),Nk(e[et],r));function Ee(n){return ke("",n,""),Ee}function ke(n,e,t){let r=we(),i=JF(r,n,e,t);return i!==Xr&&x1(r,Li(),i),ke}function Rn(n,e,t){bT(e)&&(e=e());let r=we(),i=Wo();if(Vi(r,i,e)){let o=Et(),s=mm();tT(o,s,r,n,e,r[et],t,!1)}return Rn}function ur(n,e){let t=bT(n);return t&&n.set(e),t}function Mn(n,e){let t=we(),r=Et(),i=bt();return MT(r,t,t[et],i,n,e),Mn}function TL(n,e,t){let r=Et();if(r.firstCreatePass){let i=zr(n);Yg(t,r.data,r.blueprint,i,!0),Yg(e,r.data,r.blueprint,i,!1)}}function Yg(n,e,t,r,i){if(n=Rt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Yg(n[o],e,t,r,i);else{let o=Et(),s=we(),a=bt(),u=Fo(n)?n:Rt(n.provide),l=L0(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Fo(n)||!n.multi){let y=new Ni(l,i,U),C=Jp(u,e,i?h:h+m,p);C===-1?(pg(Sl(a,s),o,u),Zp(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[C]=y,s[C]=y)}else{let y=Jp(u,e,h+m,p),C=Jp(u,e,h,h+m),M=y>=0&&t[y],R=C>=0&&t[C];if(i&&!R||!i&&!M){pg(Sl(a,s),o,u);let V=AL(i?SL:CL,t.length,i,r,l);!i&&R&&(t[C].providerFactory=V),Zp(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=OT(t[i?C:y],l,!i&&r);Zp(o,n,y>-1?y:C,V)}!i&&r&&R&&t[C].componentProviders++}}}function Zp(n,e,t,r){let i=Fo(e),o=nO(e);if(i||o){let u=(o?Rt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function OT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Jp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function CL(n,e,t,r){return Zg(this.multi,[])}function SL(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xi(t,t[re],this.providerFactory.index,r);o=a.slice(0,s),Zg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Zg(i,o);return o}function Zg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function AL(n,e,t,r,i){let o=new Ni(n,t,U);return o.multi=[],o.index=e,o.componentProviders=0,OT(o,i,r&&!t),o}function Ui(n,e=[]){return t=>{t.providersResolver=(r,i)=>TL(r,i?i(n):n,e)}}function Gm(n,e,t){let r=AO()+n,i=we();return i[r]===Xr?UF(i,r,t?e.call(t):e()):BF(i,r)}var Jg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},cd=(()=>{class n{compileModuleSync(t){return new jg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=M0(t),o=FD(i.declarations).reduce((s,a)=>{let u=qr(a);return u&&s.push(new Ho(u)),s},[]);return new Jg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var RL=(()=>{class n{zone=F(Ue);changeDetectionScheduler=F(Uo);applicationRef=F(nr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ML=new G("",{factory:()=>!1});function kT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ue(he(j({},LT()),{scheduleInRootZone:t})),[{provide:Ue,useFactory:n},{provide:ko,multi:!0,useFactory:()=>{let r=F(RL,{optional:!0});return()=>r.initialize()}},{provide:ko,multi:!0,useFactory:()=>{let r=F(NL);return()=>{r.initialize()}}},e===!0?{provide:_D,useValue:!0}:[],{provide:wD,useValue:t??vD}]}function FT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=kT({ngZoneFactory:()=>{let i=LT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ar("NgZone_CoalesceEvent"),new Ue(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return zo([{provide:ML,useValue:!0},{provide:Zl,useValue:!1},r])}function LT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var NL=(()=>{class n{subscription=new Le;initialized=!1;zone=F(Ue);pendingTasks=F(Zr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xL=(()=>{class n{appRef=F(nr);taskService=F(Zr);ngZone=F(Ue);zonelessEnabled=F(Zl);tracing=F(Qo,{optional:!0});disableScheduling=F(_D,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(wD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _g||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Hb:ID;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PL(){return typeof $localize<"u"&&$localize.locale||jl}var Wm=new G("",{providedIn:"root",factory:()=>F(Wm,ue.Optional|ue.SkipSelf)||PL()});var Xg=new G(""),OL=new G("");function va(n){return!n.moduleRef}function kL(n){let e=va(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ue);return t.run(()=>{va(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(er,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),va(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Xg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Xg);s.add(o),n.moduleRef.onDestroy(()=>{ml(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return YF(r,t,()=>{let o=e.get(RT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Wm,jl);if(IL(s||jl),!e.get(OL,!0))return va(n)?e.get(nr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(va(n)){let u=e.get(nr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return FL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function FL(n,e){let t=n.injector.get(nr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new K(-403,!1);e.push(n)}var yl=null;function LL(n=[],e){return xt.create({name:e,providers:[{provide:Gl,useValue:"platform"},{provide:Xg,useValue:new Set([()=>yl=null])},...n]})}function VL(n=[]){if(yl)return yl;let e=LL(n);return yl=e,WF(),jL(e),e}function jL(n){let e=n.get(Cm,null);kt(n,()=>{e?.forEach(t=>t())})}var ni=(()=>{class n{static __NG_ELEMENT_ID__=UL}return n})();function UL(n){return BL(bt(),we(),(n&16)===16)}function BL(n,e,t){if(Kl(n)&&!t){let r=Qr(n.index,e);return new Oi(r,r)}else if(n.type&175){let r=e[dn];return new Oi(r,e)}return null}var em=class{constructor(){}supports(e){return CT(e)}create(e){return new tm(e)}},$L=(n,e)=>e,tm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||$L}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<h0(r,i,o)?t:r,a=h0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!CT(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,VF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new nm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ul),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ul),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},nm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},rm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ul=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new rm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function h0(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function f0(){return new Km([new em])}var Km=(()=>{class n{factories;static \u0275prov=$({token:n,providedIn:"root",factory:f0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||f0()),deps:[[n,new om,new zl]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new K(901,!1)}}return n})();function VT(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=VL(r),o=[kT({}),{provide:Uo,useExisting:xL},...t||[]],s=new kl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return kL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function ri(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Nn(n,e){ar("NgSignals");let t=KE(n);return e?.equal&&(t[$t].equal=e.equal),t}function lr(n){let e=fe(null);try{return n()}finally{fe(e)}}var p0=class{[$t];constructor(e){this[$t]=e}destroy(){this[$t].destroy()}};function jT(n){let e=qr(n);if(!e)return null;let t=new Ho(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qT=null;function hr(){return qT}function zT(n){qT??=n}var ud=class{};var Dt=new G(""),Xm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(HL),providedIn:"platform"})}return n})(),GT=new G(""),HL=(()=>{class n extends Xm{_location;_history;_doc=F(Dt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ey(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function UT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function dr(n){return n&&n[0]!=="?"?"?"+n:n}var fr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(ty),providedIn:"root"})}return n})(),WT=new G(""),ty=(()=>{class n extends fr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ey(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+dr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+dr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+dr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Xm),z(WT,8))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KT=(()=>{class n extends fr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=ey(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+dr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+dr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Xm),z(WT,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Zo=(()=>{class n{_subject=new Ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=GL(UT(BT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+dr(r))}normalize(t){return n.stripTrailingSlash(zL(this._basePath,BT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=dr;static joinWithSlash=ey;static stripTrailingSlash=UT;static \u0275fac=function(r){return new(r||n)(z(fr))};static \u0275prov=$({token:n,factory:()=>qL(),providedIn:"root"})}return n})();function qL(){return new Zo(z(fr))}function zL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function BT(n){return n.replace(/\/index.html$/,"")}function GL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function ld(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Qm=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},dd=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Qm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$T(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$T(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(U(ei),U(ki),U(Km))};static \u0275dir=Be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function $T(n,e){n.context.$implicit=e.item}var ii=(()=>{class n{_viewContainer;_context=new Ym;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){HT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){HT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(U(ei),U(ki))};static \u0275dir=Be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Ym=class{$implicit=null;ngIf=null};function HT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Mt(e)}'.`)}var gn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=cr({type:n});static \u0275inj=ir({})}return n})(),QT="browser",WL="server";function ny(n){return n===WL}var YT=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new Zm(F(Dt),window)})}return n})(),Zm=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=KL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function KL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Yo=class{};var Ga=class{},fd=class{},Bi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var iy=class{encodeKey(e){return ZT(e)}encodeValue(e){return ZT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function QL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var YL=/%(\d[a-f0-9])/gi,ZL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZT(n){return encodeURIComponent(n).replace(YL,(e,t)=>ZL[t]??e)}function hd(n){return`${n}`}var oi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new iy,e.fromString){if(e.fromObject)throw new K(2805,!1);this.map=QL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(hd):[hd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(hd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(hd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var oy=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function JL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function XT(n){return typeof Blob<"u"&&n instanceof Blob}function eC(n){return typeof FormData<"u"&&n instanceof FormData}function XL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var rC="X-Request-URL",iC="text/plain",oC="application/json",eV=`${oC}, ${iC}, */*`,za=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(JL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Bi,this.context??=new oy,!this.params)this.params=new oi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||JT(this.body)||XT(this.body)||eC(this.body)||XL(this.body)?this.body:this.body instanceof oi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||eC(this.body)?null:XT(this.body)?this.body.type||null:JT(this.body)?null:typeof this.body=="string"?iC:this.body instanceof oi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?oC:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Jo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Jo||{}),Wa=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Bi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},sy=class n extends Wa{constructor(e={}){super(e)}type=Jo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pd=class n extends Wa{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Jo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gd=class extends Wa{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},tV=200,nV=204;function ry(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Ka=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof za)o=t;else{let u;i.headers instanceof Bi?u=i.headers:u=new Bi(i.headers);let l;i.params&&(i.params instanceof oi?l=i.params:l=new oi({fromObject:i.params})),o=new za(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Q(o).pipe(Yn(u=>this.handler.handle(u)));if(t instanceof za||i.observe==="events")return s;let a=s.pipe(lt(u=>u instanceof pd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new oi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ry(i,r))}post(t,r,i={}){return this.request("POST",t,ry(i,r))}put(t,r,i={}){return this.request("PUT",t,ry(i,r))}static \u0275fac=function(r){return new(r||n)(z(Ga))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var rV=new G("");function iV(n,e){return e(n)}function oV(n,e,t){return(r,i)=>kt(t,()=>e(r,o=>n(o,i)))}var sC=new G(""),sV=new G(""),aV=new G("",{providedIn:"root",factory:()=>!0});var tC=(()=>{class n extends Ga{backend;injector;chain=null;pendingTasks=F(Zr);contributeToStability=F(aV);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(sC),...this.injector.get(sV,[])]));this.chain=r.reduceRight((i,o)=>oV(i,o,this.injector),iV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ti(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(z(fd),z(Nt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var cV=/^\)\]\}',?\n/,uV=RegExp(`^${rC}:`,"m");function lV(n){return"responseURL"in n&&n.responseURL?n.responseURL:uV.test(n.getAllResponseHeaders())?n.getResponseHeader(rC):null}var nC=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Re(r.\u0275loadImpl()):Q(null)).pipe(vt(()=>new ye(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,R)=>s.setRequestHeader(M,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept",eV),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",R=new Bi(s.getAllResponseHeaders()),V=lV(s)||t.url;return u=new sy({headers:R,status:s.status,statusText:M,url:V}),u},h=()=>{let{headers:M,status:R,statusText:V,url:W}=l(),q=null;R!==nV&&(q=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=q?tV:0);let ae=R>=200&&R<300;if(t.responseType==="json"&&typeof q=="string"){let Ne=q;q=q.replace(cV,"");try{q=q!==""?JSON.parse(q):null}catch(te){q=Ne,ae&&(ae=!1,q={error:te,text:q})}}ae?(o.next(new pd({body:q,headers:M,status:R,statusText:V,url:W||void 0})),o.complete()):o.error(new gd({error:q,headers:M,status:R,statusText:V,url:W||void 0}))},p=M=>{let{url:R}=l(),V=new gd({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)},m=!1,y=M=>{m||(o.next(l()),m=!0);let R={type:Jo.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},C=M=>{let R={type:Jo.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:Jo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(z(Yo))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),aC=new G(""),dV="XSRF-TOKEN",hV=new G("",{providedIn:"root",factory:()=>dV}),fV="X-XSRF-TOKEN",pV=new G("",{providedIn:"root",factory:()=>fV}),md=class{},gV=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ld(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(z(Dt),z(Jr),z(hV))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function mV(n,e){let t=n.url.toLowerCase();if(!F(aC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=F(md).getToken(),i=F(pV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function cC(...n){let e=[Ka,nC,tC,{provide:Ga,useExisting:tC},{provide:fd,useFactory:()=>F(rV,{optional:!0})??F(nC)},{provide:sC,useValue:mV,multi:!0},{provide:aC,useValue:!0},{provide:md,useClass:gV}];for(let t of n)e.push(...t.\u0275providers);return zo(e)}var cy=class extends ud{supportsDOMEvents=!0},uy=class n extends cy{static makeCurrent(){zT(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=yV();return t==null?null:vV(t)}resetBaseElement(){Qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ld(document.cookie,e)}},Qa=null;function yV(){return Qa=Qa||document.querySelector("base"),Qa?Qa.getAttribute("href"):null}function vV(n){return new URL(n,document.baseURI).pathname}var _V=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),ly=new G(""),gC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(ly),z(Ue))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),vd=class{_doc;constructor(e){this._doc=e}manager},yd="ng-app-id";function lC(n){for(let e of n)e.remove()}function dC(n,e){let t=e.createElement("style");return t.textContent=n,t}function wV(n,e,t,r){let i=n.head?.querySelectorAll(`style[${yd}="${e}"],link[${yd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(yd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function dy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var mC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ny(o),wV(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,dC);r?.forEach(i=>this.addUsage(i,this.external,dy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(lC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])lC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,dC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,dy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(yd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(Dt),z(Tm),z(Sm,8),z(Jr))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),ay={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fy=/%COMP%/g,yC="%COMP%",IV=`_nghost-${yC}`,EV=`_ngcontent-${yC}`,bV=!0,DV=new G("",{providedIn:"root",factory:()=>bV});function TV(n){return EV.replace(fy,n)}function CV(n){return IV.replace(fy,n)}function vC(n,e){return e.map(t=>t.replace(fy,n))}var hC=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=ny(a),this.defaultRenderer=new Ya(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Dn.ShadowDom&&(r=he(j({},r),{encapsulation:Dn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof _d?i.applyToHost(t):i instanceof Za&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Dn.Emulated:o=new _d(u,l,r,this.appId,h,s,a,p,this.tracingService);break;case Dn.ShadowDom:return new hy(u,l,t,r,s,a,this.nonce,p,this.tracingService);default:o=new Za(u,l,r,h,s,a,p,this.tracingService);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.get(t)?.destroy(),this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z(gC),z(mC),z(Tm),z(DV),z(Dt),z(Jr),z(Ue),z(Sm),z(Qo,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Ya=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ay[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(fC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=ay[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ay[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(tr.DashCase|tr.Important)?e.style.setProperty(t,r,i&tr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&tr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function fC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var hy=class extends Ya{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=vC(i.id,i.styles);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=dy(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Za=class extends Ya{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?vC(l,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_d=class extends Za{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=TV(h),this.hostAttr=CV(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},SV=(()=>{class n extends vd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(z(Dt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),pC=["alt","control","meta","shift"],AV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},MV=(()=>{class n extends vd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),pC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=AV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),pC.forEach(s=>{if(s!==i){let a=RV[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(Dt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function _C(n,e){return VT(j({rootComponent:n},NV(e)))}function NV(n){return{appProviders:[...FV,...n?.providers??[]],platformProviders:kV}}function xV(){uy.makeCurrent()}function PV(){return new er}function OV(){return MD(document),document}var kV=[{provide:Jr,useValue:QT},{provide:Cm,useValue:xV,multi:!0},{provide:Dt,useFactory:OV,deps:[]}];var FV=[{provide:Gl,useValue:"root"},{provide:er,useFactory:PV,deps:[]},{provide:ly,useClass:SV,multi:!0,deps:[Dt,Ue,Jr]},{provide:ly,useClass:MV,multi:!0,deps:[Dt]},hC,mC,gC,{provide:$o,useExisting:hC},{provide:Yo,useClass:_V,deps:[]},[]];var wC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(Dt))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ce="primary",dc=Symbol("RouteTitle"),vy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function is(n){return new vy(n)}function VV(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function jV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xn(n[t],e[t]))return!1;return!0}function xn(n,e){let t=n?_y(n):void 0,r=e?_y(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!NC(n[i],e[i]))return!1;return!0}function _y(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function NC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function xC(n){return n.length>0?n[n.length-1]:null}function ai(n){return xp(n)?n:ji(n)?Re(Promise.resolve(n)):Q(n)}var UV={exact:OC,subset:kC},PC={exact:BV,subset:$V,ignored:()=>!0};function IC(n,e,t){return UV[t.paths](n.root,e.root,t.matrixParams)&&PC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function BV(n,e){return xn(n,e)}function OC(n,e,t){if(!Hi(n.segments,e.segments)||!Ed(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!OC(n.children[r],e.children[r],t))return!1;return!0}function $V(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NC(n[t],e[t]))}function kC(n,e,t){return FC(n,e,e.segments,t)}function FC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Hi(i,t)||e.hasChildren()||!Ed(i,t,r))}else if(n.segments.length===t.length){if(!Hi(n.segments,t)||!Ed(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!kC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Hi(n.segments,i)||!Ed(n.segments,i,r)||!n.children[ce]?!1:FC(n.children[ce],e,o,r)}}function Ed(n,e,t){return e.every((r,i)=>PC[t](n[i].parameters,r.parameters))}var gr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){return zV.serialize(this)}},be=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bd(this)}},$i=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=is(this.parameters),this._parameterMap}toString(){return VC(this)}};function HV(n,e){return Hi(n,e)&&n.every((t,r)=>xn(t.parameters,e[r].parameters))}function Hi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function qV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ce&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ce&&(t=t.concat(e(i,r)))}),t}var hc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new os,providedIn:"root"})}return n})(),os=class{parse(e){let t=new Iy(e);return new gr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ja(e.root,!0)}`,r=KV(e.queryParams),i=typeof e.fragment=="string"?`#${GV(e.fragment)}`:"";return`${t}${r}${i}`}},zV=new os;function bd(n){return n.segments.map(e=>VC(e)).join("/")}function Ja(n,e){if(!n.hasChildren())return bd(n);if(e){let t=n.children[ce]?Ja(n.children[ce],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${Ja(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=qV(n,(r,i)=>i===ce?[Ja(n.children[ce],!1)]:[`${i}:${Ja(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${bd(n)}/${t[0]}`:`${bd(n)}/(${t.join("//")})`}}function LC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wd(n){return LC(n).replace(/%3B/gi,";")}function GV(n){return encodeURI(n)}function wy(n){return LC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dd(n){return decodeURIComponent(n)}function EC(n){return Dd(n.replace(/\+/g,"%20"))}function VC(n){return`${wy(n.path)}${WV(n.parameters)}`}function WV(n){return Object.entries(n).map(([e,t])=>`;${wy(e)}=${wy(t)}`).join("")}function KV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${wd(t)}=${wd(i)}`).join("&"):`${wd(t)}=${wd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var QV=/^[^\/()?;#]+/;function py(n){let e=n.match(QV);return e?e[0]:""}var YV=/^[^\/()?;=#]+/;function ZV(n){let e=n.match(YV);return e?e[0]:""}var JV=/^[^=?&#]+/;function XV(n){let e=n.match(JV);return e?e[0]:""}var ej=/^[^&#]+/;function tj(n){let e=n.match(ej);return e?e[0]:""}var Iy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new be(e,t)),r}parseSegment(){let e=py(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new $i(Dd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=ZV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=py(this.remaining);i&&(r=i,this.capture(r))}e[Dd(t)]=Dd(r)}parseQueryParam(e){let t=XV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=tj(this.remaining);s&&(r=s,this.capture(r))}let i=EC(t),o=EC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=py(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ce]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function jC(n){return n.segments.length>0?new be([],{[ce]:n}):n}function UC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=UC(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new be(n.segments,e);return nj(t)}function nj(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new be(n.segments.concat(e.segments),e.children)}return n}function qi(n){return n instanceof gr}function rj(n,e,t=null,r=null){let i=BC(n);return $C(i,e,t,r)}function BC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=jC(r);return e??i}function $C(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return gy(i,i,i,t,r);let o=ij(e);if(o.toRoot())return gy(i,i,new be([],{}),t,r);let s=oj(o,i,n),a=s.processChildren?ec(s.segmentGroup,s.index,o.commands):qC(s.segmentGroup,s.index,o.commands);return gy(i,s.segmentGroup,a,t,r)}function Td(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function rc(n){return typeof n=="object"&&n!=null&&n.outlets}function gy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=HC(n,e,t);let a=jC(UC(s));return new gr(a,o,i)}function HC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=HC(o,e,t)}),new be(n.segments,r)}var Cd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Td(r[0]))throw new K(4003,!1);let i=r.find(rc);if(i&&i!==xC(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ij(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Cd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Cd(t,e,r)}var ts=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function oj(n,e,t){if(n.isAbsolute)return new ts(e,!0,0);if(!t)return new ts(e,!1,NaN);if(t.parent===null)return new ts(t,!0,0);let r=Td(n.commands[0])?0:1,i=t.segments.length-1+r;return sj(t,i,n.numberOfDoubleDots)}function sj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new ts(r,!1,i-o)}function aj(n){return rc(n[0])?n[0].outlets:{[ce]:n}}function qC(n,e,t){if(n??=new be([],{}),n.segments.length===0&&n.hasChildren())return ec(n,e,t);let r=cj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new be(n.segments.slice(0,r.pathIndex),{});return o.children[ce]=new be(n.segments.slice(r.pathIndex),n.children),ec(o,0,i)}else return r.match&&i.length===0?new be(n.segments,{}):r.match&&!n.hasChildren()?Ey(n,e,t):r.match?ec(n,0,i):Ey(n,e,t)}function ec(n,e,t){if(t.length===0)return new be(n.segments,{});{let r=aj(t),i={};if(Object.keys(r).some(o=>o!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let o=ec(n.children[ce],e,t);return new be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(n.segments,i)}}function cj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(rc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!DC(u,l,s))return o;r+=2}else{if(!DC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ey(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(rc(o)){let u=uj(o.outlets);return new be(r,u)}if(i===0&&Td(t[0])){let u=n.segments[e];r.push(new $i(u.path,bC(t[0]))),i++;continue}let s=rc(o)?o.outlets[ce]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Td(a)?(r.push(new $i(s,bC(a))),i+=2):(r.push(new $i(s,{})),i++)}return new be(r,{})}function uj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ey(new be([],{}),0,r))}),e}function bC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function DC(n,e,t){return n==t.path&&xn(e,t.parameters)}var tc="imperative",it=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(it||{}),tn=class{id;url;constructor(e,t){this.id=e,this.url=t}},ss=class extends tn{type=it.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pt=class extends tn{urlAfterRedirects;type=it.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Wt||{}),Sd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Sd||{}),pr=class extends tn{reason;code;type=it.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},si=class extends tn{reason;code;type=it.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ic=class extends tn{error;target;type=it.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ad=class extends tn{urlAfterRedirects;state;type=it.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},by=class extends tn{urlAfterRedirects;state;type=it.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dy=class extends tn{urlAfterRedirects;state;shouldActivate;type=it.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ty=class extends tn{urlAfterRedirects;state;type=it.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cy=class extends tn{urlAfterRedirects;state;type=it.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sy=class{route;type=it.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ay=class{route;type=it.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ry=class{snapshot;type=it.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},My=class{snapshot;type=it.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ny=class{snapshot;type=it.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xy=class{snapshot;type=it.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rd=class{routerEvent;position;anchor;type=it.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},oc=class{},as=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function lj(n,e){return n.providers&&!n._injector&&(n._injector=sd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function mn(n){return n.outlet||ce}function dj(n,e){let t=n.filter(r=>mn(r)===e);return t.push(...n.filter(r=>mn(r)!==e)),t}function fc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Py=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new pc(this.rootInjector)}},pc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Py(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(Nt))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Md=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Oy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Oy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ky(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ky(e,this._root).map(t=>t.value)}};function Oy(n,e){if(n===e.value)return e;for(let t of e.children){let r=Oy(n,t);if(r)return r}return null}function ky(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ky(n,t);if(r.length)return r.unshift(e),r}return[]}var Gt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function es(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Nd=class extends Md{snapshot;constructor(e,t){super(e),this.snapshot=t,qy(this,e)}toString(){return this.snapshot.toString()}};function zC(n){let e=hj(n),t=new Ge([new $i("",{})]),r=new Ge({}),i=new Ge({}),o=new Ge({}),s=new Ge(""),a=new nn(t,r,o,s,i,ce,n,e.root);return a.snapshot=e.root,new Nd(new Gt(a,[]),e)}function hj(n){let e={},t={},r={},i="",o=new ns([],e,r,i,t,ce,n,null,{});return new Pd("",new Gt(o,[]))}var nn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[dc]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&WC(i)&&(r.resolve[dc]=i.title),r}var ns=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[dc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Pd=class extends Md{url;constructor(e,t){super(t),this.url=e,qy(this,t)}toString(){return GC(this._root)}};function qy(n,e){e.value._routerState=n,e.children.forEach(t=>qy(n,t))}function GC(n){let e=n.children.length>0?` { ${n.children.map(GC).join(", ")} } `:"";return`${n.value}${e}`}function my(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),xn(e.params,t.params)||n.paramsSubject.next(t.params),jV(e.url,t.url)||n.urlSubject.next(t.url),xn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fy(n,e){let t=xn(n.params,e.params)&&HV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Fy(n.parent,e.parent))}function WC(n){return typeof n.title=="string"||n.title===null}var fj=new G(""),zy=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce;activateEvents=new Xe;deactivateEvents=new Xe;attachEvents=new Xe;detachEvents=new Xe;routerOutletData=bD(void 0);parentContexts=F(pc);location=F(ei);changeDetector=F(ni);inputBinder=F(Vd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Ly(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Be({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Kr]})}return n})(),Ly=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===nn?this.route:e===pc?this.childContexts:e===fj?this.outletData:this.parent.get(e,t)}},Vd=new G(""),TC=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ya([r.queryParams,r.params,r.data]).pipe(vt(([o,s,a],u)=>(a=j(j(j({},o),s),a),u===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=jT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function pj(n,e,t){let r=sc(n,e._root,t?t._root:void 0);return new Nd(r,e)}function sc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=gj(n,e,t);return new Gt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>sc(n,a)),s}}let r=mj(e.value),i=e.children.map(o=>sc(n,o));return new Gt(r,i)}}function gj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sc(n,r,i);return sc(n,r)})}function mj(n){return new nn(new Ge(n.url),new Ge(n.params),new Ge(n.queryParams),new Ge(n.fragment),new Ge(n.data),n.outlet,n.component,n)}var ac=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},KC="ngNavigationCancelingError";function Od(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=qi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QC(!1,Wt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function QC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[KC]=!0,t.cancellationCode=e,t}function yj(n){return YC(n)&&qi(n.url)}function YC(n){return!!n&&n[KC]}var vj=(n,e,t,r)=>ee(i=>(new Vy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Vy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),my(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=es(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=es(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new xy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new My(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(my(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),my(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},kd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},rs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function _j(n,e,t){let r=n._root,i=e?e._root:null;return Xa(r,i,t,[r.value])}function wj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function us(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!w0(n)?n:e.get(n):r}function Xa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=es(e);return n.children.forEach(s=>{Ij(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>nc(a,t.getContext(s),i)),i}function Ij(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Ej(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new kd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xa(n,e,a?a.children:null,r,i):Xa(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rs(a.outlet.component,s))}else s&&nc(e,a,i),i.canActivateChecks.push(new kd(r)),o.component?Xa(n,null,a?a.children:null,r,i):Xa(n,null,t,r,i);return i}function Ej(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Hi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hi(n.url,e.url)||!xn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fy(n,e)||!xn(n.queryParams,e.queryParams);case"paramsChange":default:return!Fy(n,e)}}function nc(n,e,t){let r=es(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?nc(s,e.children.getContext(o),t):nc(s,null,t):nc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new rs(e.outlet.component,i)):t.canDeactivateChecks.push(new rs(null,i)):t.canDeactivateChecks.push(new rs(null,i))}function gc(n){return typeof n=="function"}function bj(n){return typeof n=="boolean"}function Dj(n){return n&&gc(n.canLoad)}function Tj(n){return n&&gc(n.canActivate)}function Cj(n){return n&&gc(n.canActivateChild)}function Sj(n){return n&&gc(n.canDeactivate)}function Aj(n){return n&&gc(n.canMatch)}function ZC(n){return n instanceof Qn||n?.name==="EmptyError"}var Id=Symbol("INITIAL_VALUE");function cs(){return vt(n=>ya(n.map(e=>e.pipe(Zt(1),Vp(Id)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===Id)return Id;if(t===!1||Rj(t))return t}return!0}),lt(e=>e!==Id),Zt(1)))}function Rj(n){return qi(n)||n instanceof ac}function Mj(n,e){return je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(he(j({},t),{guardsResult:!0})):Nj(s,r,i,n).pipe(je(a=>a&&bj(a)?xj(r,o,n,e):Q(a)),ee(a=>he(j({},t),{guardsResult:a})))})}function Nj(n,e,t,r){return Re(n).pipe(je(i=>Lj(i.component,i.route,t,e,r)),Zn(i=>i!==!0,!0))}function xj(n,e,t,r){return Re(e).pipe(Yn(i=>jr(Oj(i.route.parent,r),Pj(i.route,r),Fj(n,i.path,t),kj(n,i.route,t))),Zn(i=>i!==!0,!0))}function Pj(n,e){return n!==null&&e&&e(new Ny(n)),Q(!0)}function Oj(n,e){return n!==null&&e&&e(new Ry(n)),Q(!0)}function kj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>sl(()=>{let s=fc(e)??t,a=us(o,s),u=Tj(a)?a.canActivate(e,n):kt(s,()=>a(e,n));return ai(u).pipe(Zn())}));return Q(i).pipe(cs())}function Fj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>wj(s)).filter(s=>s!==null).map(s=>sl(()=>{let a=s.guards.map(u=>{let l=fc(s.node)??t,h=us(u,l),p=Cj(h)?h.canActivateChild(r,n):kt(l,()=>h(r,n));return ai(p).pipe(Zn())});return Q(a).pipe(cs())}));return Q(o).pipe(cs())}function Lj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=fc(e)??i,l=us(a,u),h=Sj(l)?l.canDeactivate(n,e,t,r):kt(u,()=>l(n,e,t,r));return ai(h).pipe(Zn())});return Q(s).pipe(cs())}function Vj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=us(s,n),u=Dj(a)?a.canLoad(e,t):kt(n,()=>a(e,t));return ai(u)});return Q(o).pipe(cs(),JC(r))}function JC(n){return Tp(rt(e=>{if(typeof e!="boolean")throw Od(n,e)}),ee(e=>e===!0))}function jj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=us(s,n),u=Aj(a)?a.canMatch(e,t):kt(n,()=>a(e,t));return ai(u)});return Q(o).pipe(cs(),JC(r))}var cc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},uc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Xo(n){return Lr(new cc(n))}function Uj(n){return Lr(new K(4e3,!1))}function Bj(n){return Lr(QC(!1,Wt.GuardRejected))}var jy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ce])return Uj(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:M}=i,R=kt(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof gr)throw new uc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new uc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new gr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Uy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $j(n,e,t,r,i){let o=XC(n,e,t);return o.matched?(r=lj(e,r),jj(r,e,t,i).pipe(ee(s=>s===!0?o:j({},Uy)))):Q(o)}function XC(n,e,t){if(e.path==="**")return Hj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},Uy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VV)(t,n,e);if(!i)return j({},Uy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Hj(n){return{matched:!0,parameters:n.length>0?xC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function CC(n,e,t,r){return t.length>0&&Gj(n,t,r)?{segmentGroup:new be(e,zj(r,new be(t,n.children))),slicedSegments:[]}:t.length===0&&Wj(n,t,r)?{segmentGroup:new be(n.segments,qj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new be(n.segments,n.children),slicedSegments:t}}function qj(n,e,t,r){let i={};for(let o of t)if(jd(n,e,o)&&!r[mn(o)]){let s=new be([],{});i[mn(o)]=s}return j(j({},r),i)}function zj(n,e){let t={};t[ce]=e;for(let r of n)if(r.path===""&&mn(r)!==ce){let i=new be([],{});t[mn(r)]=i}return t}function Gj(n,e,t){return t.some(r=>jd(n,e,r)&&mn(r)!==ce)}function Wj(n,e,t){return t.some(r=>jd(n,e,r))}function jd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Kj(n,e,t){return e.length===0&&!n.children[t]}var By=class{};function Qj(n,e,t,r,i,o,s="emptyOnly"){return new $y(n,e,t,r,i,s,o).recognize()}var Yj=31,$y=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new jy(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=CC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new Gt(r,t),o=new Pd("",i),s=rj(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ns([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(ee(r=>({children:r,rootSnapshot:t})),wn(r=>{if(r instanceof uc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof Gt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Re(o).pipe(Yn(s=>{let a=r.children[s],u=dj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Lp((s,a)=>(s.push(...a),s)),Ur(null),Fp(),je(s=>{if(s===null)return Xo(r);let a=eS(s);return Zj(a),Q(a)}))}processSegment(e,t,r,i,o,s,a){return Re(t).pipe(Yn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(wn(l=>{if(l instanceof cc)return Q(null);throw l}))),Zn(u=>!!u),wn(u=>{if(ZC(u))return Kj(r,i,o)?Q(new By):Xo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return mn(r)!==s&&(s===ce||!jd(i,o,r))?Xo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Xo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=XC(t,i,o);if(!u)return Xo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Yj&&(this.allowRedirects=!1));let y=new ns(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,SC(i),mn(i),i.component??i._loadedComponent??null,i,AC(i)),C=xd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(je(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=$j(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(vt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new ns(m,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,SC(r),mn(r),r.component??r._loadedComponent??null,r,AC(r)),M=xd(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:V}=CC(t,m,y,l);if(V.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(ee(q=>new Gt(C,q)));if(l.length===0&&V.length===0)return Q(new Gt(C,[]));let W=mn(r)===o;return this.processSegment(h,l,R,V,W?ce:o,!0,C).pipe(ee(q=>new Gt(C,q instanceof Gt?[q]:[])))}))):Xo(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):Vj(e,t,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,t).pipe(rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Bj(t))):Q({routes:[],injector:e})}};function Zj(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function Jj(n){let e=n.value.routeConfig;return e&&e.path===""}function eS(n){let e=[],t=new Set;for(let r of n){if(!Jj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=eS(r.children);e.push(new Gt(r.value,i))}return e.filter(r=>!t.has(r))}function SC(n){return n.data||{}}function AC(n){return n.resolve||{}}function Xj(n,e,t,r,i,o){return je(s=>Qj(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:u})=>he(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function e2(n,e){return je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of tS(u))s.add(l);let a=0;return Re(s).pipe(Yn(u=>o.has(u)?t2(u,r,n,e):(u.data=xd(u,u.parent,n).resolve,Q(void 0))),rt(()=>a++),Co(1),je(u=>a===s.size?Q(t):qt))})}function tS(n){let e=n.children.map(t=>tS(t)).flat();return[n,...e]}function t2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!WC(i)&&(o[dc]=i.title),n2(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=xd(n,n.parent,t).resolve,null)))}function n2(n,e,t,r){let i=_y(n);if(i.length===0)return Q({});let o={};return Re(i).pipe(je(s=>r2(n[s],e,t,r).pipe(Zn(),rt(a=>{if(a instanceof ac)throw Od(new os,a);o[s]=a}))),Co(1),ee(()=>o),wn(s=>ZC(s)?qt:Lr(s)))}function r2(n,e,t,r){let i=fc(e)??r,o=us(n,i),s=o.resolve?o.resolve(e,t):kt(i,()=>o(e,t));return ai(s)}function yy(n){return vt(e=>{let t=n(e);return t?Re(t).pipe(ee(()=>e)):Q(e)})}var nS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[dc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(i2),providedIn:"root"})}return n})(),i2=(()=>{class n extends nS{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(wC))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mc=new G("",{providedIn:"root",factory:()=>({})}),o2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&An(0,"router-outlet")},dependencies:[zy],encapsulation:2})}return n})();function Gy(n){let e=n.children&&n.children.map(Gy),t=e?he(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=o2),t}var lc=new G(""),Wy=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(cd);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ai(t.loadComponent()).pipe(ee(rS),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ti(()=>{this.componentLoaders.delete(t)})),i=new Do(r,()=>new Ke).pipe(bo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=s2(r,this.compiler,t,this.onLoadEndListener).pipe(Ti(()=>{this.childrenLoaders.delete(r)})),s=new Do(o,()=>new Ke).pipe(bo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function s2(n,e,t,r){return ai(n.loadChildren()).pipe(ee(rS),je(i=>i instanceof Ma||Array.isArray(i)?Q(i):Re(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(lc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Gy),injector:o}}))}function a2(n){return n&&typeof n=="object"&&"default"in n}function rS(n){return a2(n)?n.default:n}var Ky=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(c2),providedIn:"root"})}return n})(),c2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iS=new G(""),oS=new G("");function u2(n,e,t){let r=n.get(oS),i=n.get(Dt);return n.get(Ue).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),l2(n))),{onViewTransitionCreated:u}=r;return u&&kt(n,()=>u({transition:a,from:e,to:t})),s})}function l2(n){return new Promise(e=>{Rm({read:()=>setTimeout(e)},{injector:n})})}var sS=new G(""),Qy=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ke;transitionAbortSubject=new Ke;configLoader=F(Wy);environmentInjector=F(Nt);urlSerializer=F(hc);rootContexts=F(pc);location=F(Zo);inputBindingEnabled=F(Vd,{optional:!0})!==null;titleStrategy=F(nS);options=F(mc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(Ky);createViewTransition=F(iS,{optional:!0});navigationErrorHandler=F(sS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;constructor(){let t=i=>this.events.next(new Sy(i)),r=i=>this.events.next(new Ay(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(he(j(j({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ge({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:tc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lt(o=>o.id!==0),ee(o=>he(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vt(o=>{let s=!1,a=!1;return Q(o).pipe(vt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),qt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?he(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new si(u.id,this.urlSerializer.serialize(u.rawUrl),p,Sd.IgnoredSameUrlNavigation)),u.resolve(!1),qt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(vt(p=>{let m=this.transitions?.getValue();return this.events.next(new ss(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?qt:Promise.resolve(p)}),Xj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=he(j({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Ad(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:C,extras:M}=u,R=new ss(p,this.urlSerializer.serialize(m),y,C);this.events.next(R);let V=zC(this.rootComponentType).snapshot;return this.currentTransition=o=he(j({},u),{targetSnapshot:V,urlAfterRedirects:m,extras:he(j({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Q(o)}else{let p="";return this.events.next(new si(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Sd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),qt}}),rt(u=>{let l=new by(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=o=he(j({},u),{guards:_j(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Mj(this.environmentInjector,u=>this.events.next(u)),rt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Od(this.urlSerializer,u.guardsResult);let l=new Dy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),lt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Wt.GuardRejected),!1)),yy(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(rt(l=>{let h=new Ty(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),vt(l=>{let h=!1;return Q(l).pipe(e2(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Wt.NoDataFromResolver)}}))}),rt(l=>{let h=new Cy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),yy(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(rt(m=>{h.component=m}),ee(()=>{})));for(let m of h.children)p.push(...l(m));return p};return ya(l(u.targetSnapshot.root)).pipe(Ur(null),Zt(1))}),yy(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Re(h).pipe(ee(()=>o)):Q(o)}),ee(u=>{let l=pj(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=he(j({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),rt(()=>{this.events.next(new oc)}),vj(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Zt(1),rt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),jp(this.transitionAbortSubject.pipe(rt(u=>{throw u}))),Ti(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wn(u=>{if(a=!0,YC(u))this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),yj(u)?this.events.next(new as(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new ic(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=kt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof ac){let{message:p,cancellationCode:m}=Od(this.urlSerializer,h);this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,m)),this.events.next(new as(h.redirectTo,h.navigationBehaviorOptions))}else throw this.events.next(l),u}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return qt}))}))}cancelNavigationTransition(t,r,i){let o=new pr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d2(n){return n!==tc}var h2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(f2),providedIn:"root"})}return n})(),Hy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},f2=(()=>{class n extends Hy{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>F(p2),providedIn:"root"})}return n})(),p2=(()=>{class n extends aS{location=F(Zo);urlSerializer=F(hc);options=F(mc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=F(Ky);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=zC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ss)this.stateMemento=this.createStateMemento();else if(t instanceof si)this.rawUrlTree=r.initialUrl;else if(t instanceof Ad){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof oc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof pr&&(t.code===Wt.GuardRejected||t.code===Wt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ic?this.restoreHistory(r,!0):t instanceof Pt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof gr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cS(n,e){n.events.pipe(lt(t=>t instanceof Pt||t instanceof pr||t instanceof ic||t instanceof si),ee(t=>t instanceof Pt||t instanceof si?0:(t instanceof pr?t.code===Wt.Redirect||t.code===Wt.SupersededByNewNavigation:!1)?2:1),lt(t=>t!==2),Zt(1)).subscribe(()=>{e()})}var g2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},He=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(zm);stateManager=F(aS);options=F(mc,{optional:!0})||{};pendingTasks=F(Zr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(Qy);urlSerializer=F(hc);location=F(Zo);urlHandlingStrategy=F(Ky);_events=new Ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(h2);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(lc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(Vd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pr&&r.code!==Wt.Redirect&&r.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Pt)this.navigated=!0;else if(r instanceof as){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||d2(i.source)},s);this.scheduleNavigation(a,tc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}v2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),tc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Gy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=BC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return $C(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=qi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,tc,null,r)}navigate(t,r={skipLocationChange:!1}){return y2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},g2):r===!1?i=j({},m2):i=r,qi(t))return IC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return IC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return cS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function y2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function v2(n){return!(n instanceof oc)&&!(n instanceof as)}var Fd=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ke;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Pt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:OD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:qi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(U(He),U(nn),Im("tabindex"),U(Tn),U(Ft),U(fr))};static \u0275dir=Be({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Oe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ua("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ri],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ri],replaceUrl:[2,"replaceUrl","replaceUrl",ri],routerLink:"routerLink"},features:[qm,Kr]})}return n})(),uS=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Xe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Pt&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(Vr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Re(t).pipe(Vr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=_2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(U(He),U(Ft),U(Tn),U(ni),U(Fd,8))};static \u0275dir=Be({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&NT(o,Fd,5),r&2){let s;xT(s=PT())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Kr]})}return n})();function _2(n){return!!n.paths}var Ld=class{};var w2=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(lt(t=>t instanceof Pt),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=sd(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Re(i).pipe(Vr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Q(null);let o=i.pipe(je(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Re([o,s]).pipe(Vr())}else return o})}static \u0275fac=function(r){return new(r||n)(z(He),z(cd),z(Nt),z(Ld),z(Wy))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lS=new G(""),I2=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ss?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof si&&t.code===Sd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){WD()};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function dS(n,...e){return zo([{provide:lc,multi:!0,useValue:n},[],{provide:nn,useFactory:hS,deps:[He]},{provide:ja,multi:!0,useFactory:fS},e.map(t=>t.\u0275providers)])}function hS(n){return n.routerState.root}function yc(n,e){return{\u0275kind:n,\u0275providers:e}}function fS(){let n=F(xt);return e=>{let t=n.get(nr);if(e!==t.components[0])return;let r=n.get(He),i=n.get(pS);n.get(Yy)===1&&r.initialNavigation(),n.get(gS,null,ue.Optional)?.setUpPreloading(),n.get(lS,null,ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var pS=new G("",{factory:()=>new Ke}),Yy=new G("",{providedIn:"root",factory:()=>1});function E2(){return yc(2,[{provide:Yy,useValue:0},{provide:ad,multi:!0,deps:[xt],useFactory:e=>{let t=e.get(GT,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(He),o=e.get(pS);cS(i,()=>{r(!0)}),e.get(Qy).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}])}function b2(){return yc(3,[{provide:ad,multi:!0,useFactory:()=>{let e=F(He);return()=>{e.setUpLocationChangeListener()}}},{provide:Yy,useValue:2}])}var gS=new G("");function D2(n){return yc(0,[{provide:gS,useExisting:w2},{provide:Ld,useExisting:n}])}function T2(){return yc(8,[TC,{provide:Vd,useExisting:TC}])}function C2(n){let e=[{provide:iS,useValue:u2},{provide:oS,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return yc(9,e)}var RC=new G("ROUTER_FORROOT_GUARD"),S2=[Zo,{provide:hc,useClass:os},He,pc,{provide:nn,useFactory:hS,deps:[He]},Wy,[]],mS=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[S2,[],{provide:lc,multi:!0,useValue:t},{provide:RC,useFactory:N2,deps:[[He,new zl,new om]]},r?.errorHandler?{provide:sS,useValue:r.errorHandler}:[],{provide:mc,useValue:r||{}},r?.useHash?R2():M2(),A2(),r?.preloadingStrategy?D2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?x2(r):[],r?.bindToComponentInputs?T2().\u0275providers:[],r?.enableViewTransitions?C2().\u0275providers:[],P2()]}}static forChild(t){return{ngModule:n,providers:[{provide:lc,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)(z(RC,8))};static \u0275mod=cr({type:n});static \u0275inj=ir({})}return n})();function A2(){return{provide:lS,useFactory:()=>{let n=F(YT),e=F(Ue),t=F(mc),r=F(Qy),i=F(hc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new I2(i,r,n,e,t)}}}function R2(){return{provide:fr,useClass:KT}}function M2(){return{provide:fr,useClass:ty}}function N2(n){return"guarded"}function x2(n){return[n.initialNavigation==="disabled"?b2().\u0275providers:[],n.initialNavigation==="enabledBlocking"?E2().\u0275providers:[]]}var MC=new G("");function P2(){return[{provide:MC,useFactory:fS},{provide:ja,multi:!0,useExisting:MC}]}var Ud=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-home"]],decls:28,vars:0,template:function(t,r){t&1&&(N(0,"p"),P(1,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(2,"p"),P(3,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(4,"p"),P(5,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(6,"p"),P(7,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(8,"p"),P(9,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(10,"p"),P(11,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(12,"p"),P(13,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(14,"p"),P(15,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(16,"p"),P(17,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(18,"p"),P(19,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(20,"p"),P(21,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(22,"p"),P(23,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(24,"p"),P(25,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(26,"p"),P(27,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x())},styles:["*[_ngcontent-%COMP%]{margin:1%}"]})};var Bd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-aboutus"]],decls:28,vars:0,template:function(t,r){t&1&&(N(0,"p"),P(1,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(2,"p"),P(3,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(4,"p"),P(5,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(6,"p"),P(7,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(8,"p"),P(9,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(10,"p"),P(11,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(12,"p"),P(13,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(14,"p"),P(15,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(16,"p"),P(17,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(18,"p"),P(19,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(20,"p"),P(21,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(22,"p"),P(23,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(24,"p"),P(25,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(26,"p"),P(27,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x())},styles:["*[_ngcontent-%COMP%]{margin:1%}"]})};var $d=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-services"]],decls:28,vars:0,template:function(t,r){t&1&&(N(0,"p"),P(1,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(2,"p"),P(3,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(4,"p"),P(5,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(6,"p"),P(7,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(8,"p"),P(9,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(10,"p"),P(11,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(12,"p"),P(13,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(14,"p"),P(15,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(16,"p"),P(17,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(18,"p"),P(19,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(20,"p"),P(21,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(22,"p"),P(23,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(24,"p"),P(25,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(26,"p"),P(27,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x())},styles:["*[_ngcontent-%COMP%]{margin:1%}"]})};var Hd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-contact"]],decls:28,vars:0,template:function(t,r){t&1&&(N(0,"p"),P(1,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(2,"p"),P(3,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(4,"p"),P(5,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(6,"p"),P(7,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(8,"p"),P(9,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(10,"p"),P(11,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(12,"p"),P(13,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(14,"p"),P(15,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(16,"p"),P(17,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(18,"p"),P(19,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(20,"p"),P(21,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(22,"p"),P(23,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(24,"p"),P(25,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x(),N(26,"p"),P(27,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti, quos est nulla mollitia dignissimos fugiat ullam tempora sapiente nemo a, soluta voluptatum minus nesciunt consectetur fugit eos sed non numquam!"),x())},styles:["*[_ngcontent-%COMP%]{margin:1%}"]})};var CS=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(U(Tn),U(Ft))};static \u0275dir=Be({type:n})}return n})(),Jy=(()=>{class n extends CS{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275dir=Be({type:n,features:[pn]})}return n})(),Zd=new G("");var O2={provide:Zd,useExisting:rr(()=>gs),multi:!0};function k2(){let n=hr()?hr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var F2=new G(""),gs=(()=>{class n extends CS{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!k2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(U(Tn),U(Ft),U(F2,8))};static \u0275dir=Be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ui([O2]),pn]})}return n})();function L2(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Xy=new G(""),SS=new G("");function V2(n){return L2(n.value)?{required:!0}:null}function yS(n){return null}function AS(n){return n!=null}function RS(n){return ji(n)?Re(n):n}function MS(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function NS(n,e){return e.map(t=>t(n))}function j2(n){return!n.validate}function xS(n){return n.map(e=>j2(e)?e:t=>e.validate(t))}function U2(n){if(!n)return null;let e=n.filter(AS);return e.length==0?null:function(t){return MS(NS(t,e))}}function ev(n){return n!=null?U2(xS(n)):null}function B2(n){if(!n)return null;let e=n.filter(AS);return e.length==0?null:function(t){let r=NS(t,e).map(RS);return Pp(r).pipe(ee(MS))}}function tv(n){return n!=null?B2(xS(n)):null}function vS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $2(n){return n._rawValidators}function H2(n){return n._rawAsyncValidators}function Zy(n){return n?Array.isArray(n)?n:[n]:[]}function zd(n,e){return Array.isArray(n)?n.includes(e):n===e}function _S(n,e){let t=Zy(e);return Zy(n).forEach(i=>{zd(t,i)||t.push(i)}),t}function wS(n,e){return Zy(e).filter(t=>!zd(n,t))}var Gd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ev(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},fs=class extends Gd{name;get formDirective(){return null}get path(){return null}},bc=class extends Gd{_parent=null;name=null;valueAccessor=null},Wd=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},q2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},K7=he(j({},q2),{"[class.ng-submitted]":"isSubmitted"}),ms=(()=>{class n extends Wd{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(U(bc,2))};static \u0275dir=Be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ti("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[pn]})}return n})(),ys=(()=>{class n extends Wd{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(U(fs,10))};static \u0275dir=Be({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ti("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[pn]})}return n})();var vc="VALID",qd="INVALID",ds="PENDING",_c="DISABLED",ps=class{},Kd=class extends ps{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ic=class extends ps{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ec=class extends ps{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},hs=class extends ps{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function PS(n){return(Jd(n)?n.validators:n)||null}function z2(n){return Array.isArray(n)?ev(n):n||null}function OS(n,e){return(Jd(e)?e.asyncValidators:n)||null}function G2(n){return Array.isArray(n)?tv(n):n||null}function Jd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function W2(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function K2(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new K(1002,"")})}var Qd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return lr(this.statusReactive)}set status(e){lr(()=>this.statusReactive.set(e))}_status=Nn(()=>this.statusReactive());statusReactive=Cn(void 0);get valid(){return this.status===vc}get invalid(){return this.status===qd}get pending(){return this.status==ds}get disabled(){return this.status===_c}get enabled(){return this.status!==_c}errors;get pristine(){return lr(this.pristineReactive)}set pristine(e){lr(()=>this.pristineReactive.set(e))}_pristine=Nn(()=>this.pristineReactive());pristineReactive=Cn(!0);get dirty(){return!this.pristine}get touched(){return lr(this.touchedReactive)}set touched(e){lr(()=>this.touchedReactive.set(e))}_touched=Nn(()=>this.touchedReactive());touchedReactive=Cn(!1);get untouched(){return!this.touched}_events=new Ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_S(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_S(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wS(e,this._rawAsyncValidators))}hasValidator(e){return zd(this._rawValidators,e)}hasAsyncValidator(e){return zd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ec(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ec(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ic(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ic(!0,r))}markAsPending(e={}){this.status=ds;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_c,this.errors=null,this._forEachChild(i=>{i.disable(he(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kd(this.value,r)),this._events.next(new hs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=vc,this._forEachChild(r=>{r.enable(he(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vc||this.status===ds)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kd(this.value,t)),this._events.next(new hs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_c:vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ds,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=RS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new hs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?_c:this.errors?qd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ds)?ds:this._anyControlsHaveStatus(qd)?qd:vc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ic(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ec(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=z2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=G2(this._rawAsyncValidators)}},Yd=class extends Qd{constructor(e,t,r){super(PS(t),OS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){K2(this,!0,e),Object.keys(e).forEach(r=>{W2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var nv=new G("",{providedIn:"root",factory:()=>rv}),rv="always";function Q2(n,e){return[...e.path,n]}function kS(n,e,t=rv){FS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Z2(n,e),X2(n,e),J2(n,e),Y2(n,e)}function IS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Y2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function FS(n,e){let t=$2(n);e.validator!==null?n.setValidators(vS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=H2(n);e.asyncValidator!==null?n.setAsyncValidators(vS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();IS(e._rawValidators,i),IS(e._rawAsyncValidators,i)}function Z2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&LS(n,e)})}function J2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&LS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function LS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function X2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function eU(n,e){n==null,FS(n,e)}function tU(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function nU(n){return Object.getPrototypeOf(n.constructor)===Jy}function rU(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function iU(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===gs?t=o:nU(o)?r=o:i=o}),i||r||t||null}var oU={provide:fs,useExisting:rr(()=>zi)},wc=Promise.resolve(),zi=(()=>{class n extends fs{callSetDisabledState;get submitted(){return lr(this.submittedReactive)}_submitted=Nn(()=>this.submittedReactive());submittedReactive=Cn(!1);_directives=new Set;form;ngSubmit=new Xe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Yd({},ev(t),tv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),kS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){wc.then(()=>{let r=this._findContainer(t.path),i=new Yd({});eU(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){wc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),rU(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(U(Xy,10),U(SS,10),U(nv,8))};static \u0275dir=Be({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ui([oU]),pn]})}return n})();function ES(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var sU=class extends Qd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(PS(t),OS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(bS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ES(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ES(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){bS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var aU={provide:bc,useExisting:rr(()=>Gi)},DS=Promise.resolve(),Gi=(()=>{class n extends bc{_changeDetectorRef;callSetDisabledState;control=new sU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Xe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=iU(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),tU(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){DS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ri(r);DS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Q2(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(U(fs,9),U(Xy,10),U(SS,10),U(Zd,10),U(ni,8),U(nv,8))};static \u0275dir=Be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ui([aU]),pn,Kr]})}return n})(),vs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Be({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var cU={provide:Zd,useExisting:rr(()=>Xd),multi:!0};function VS(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function uU(n){return n.split(":")[0]}var Xd=(()=>{class n extends Jy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=VS(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=uU(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275dir=Be({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Oe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ui([cU]),pn]})}return n})(),jS=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(VS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(U(Ft),U(Tn),U(Xd,9))};static \u0275dir=Be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),lU={provide:Zd,useExisting:rr(()=>US),multi:!0};function TS(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function dU(n){return n.split(":")[0]}var US=(()=>{class n extends Jy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=dU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275dir=Be({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Oe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ui([lU]),pn]})}return n})(),BS=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(TS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(TS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(U(Ft),U(Tn),U(US,9))};static \u0275dir=Be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var hU=(()=>{class n{_validator=yS;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Be({type:n,features:[Kr]})}return n})();var fU={provide:Xy,useExisting:rr(()=>Wi),multi:!0};var Wi=(()=>{class n extends hU{required;inputName="required";normalizeInput=ri;createValidator=t=>V2;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yr(n)))(i||n)}})();static \u0275dir=Be({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ua("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ui([fU]),pn]})}return n})();var pU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=cr({type:n});static \u0275inj=ir({})}return n})();var _s=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nv,useValue:t.callSetDisabledState??rv}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=cr({type:n});static \u0275inj=ir({imports:[pU]})}return n})();var HS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},gU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new sv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},sv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mU=function(n){let e=HS(n);return qS.encodeByteArray(e,!0)},Dc=function(n){return mU(n).replace(/\./g,"")},th=function(n){try{return qS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var vU=()=>yU().__FIREBASE_DEFAULTS__,_U=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&th(n[1]);return e&&JSON.parse(e)},nh=()=>{try{return vU()||_U()||wU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cv=n=>{var e,t;return(t=(e=nh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zS=n=>{let e=cv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},uv=()=>{var n;return(n=nh())===null||n===void 0?void 0:n.config},lv=n=>{var e;return(e=nh())===null||e===void 0?void 0:e[`_${n}`]};var eh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function GS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dc(JSON.stringify(t)),Dc(JSON.stringify(s)),""].join(".")}function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function IU(){var n;let e=(n=nh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rh(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YS(){let n=ot();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZS(){return!IU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tc(){try{return typeof indexedDB=="object"}catch{return!1}}function ih(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function JS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var EU="FirebaseError",dt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=EU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kt.prototype.create)}},Kt=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?bU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new dt(i,a,r)}};function bU(n,e){return n.replace(DU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var DU=/\{\$([^}]+)}/g;function XS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if($S(o)&&$S(s)){if(!mr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function $S(n){return n!==null&&typeof n=="object"}function Cc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ws(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Is(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eA(n,e){let t=new av(n,e);return t.subscribe.bind(t)}var av=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");TU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ov),i.error===void 0&&(i.error=ov),i.complete===void 0&&(i.complete=ov);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function TU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ov(){}var CU=1e3,SU=2,AU=4*60*60*1e3,RU=.5;function dv(n,e=CU,t=SU){let r=e*Math.pow(t,n),i=Math.round(RU*r*(Math.random()-.5)*2);return Math.min(AU,r+i)}function tt(n){return n&&n._delegate?n._delegate:n}var st=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ki="[DEFAULT]";var hv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new eh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NU(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function MU(n){return n===Ki?void 0:n}function NU(n){return n.instantiationMode==="EAGER"}var oh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new hv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var xU=[],pe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(pe||{}),PU={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},OU=pe.INFO,kU={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},FU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=kU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pn=class{constructor(e){this.name=e,this._logLevel=OU,this._logHandler=FU,this._userLogHandler=null,xU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var LU=(n,e)=>e.some(t=>n instanceof t),tA,nA;function VU(){return tA||(tA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jU(){return nA||(nA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var rA=new WeakMap,pv=new WeakMap,iA=new WeakMap,fv=new WeakMap,mv=new WeakMap;function UU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(On(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&rA.set(t,n)}).catch(()=>{}),mv.set(e,n),e}function BU(n){if(pv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});pv.set(n,e)}var gv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return pv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return On(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oA(n){gv=n(gv)}function $U(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(sh(this),e,...t);return iA.set(r,e.sort?e.sort():[e]),On(r)}:jU().includes(n)?function(...e){return n.apply(sh(this),e),On(rA.get(this))}:function(...e){return On(n.apply(sh(this),e))}}function HU(n){return typeof n=="function"?$U(n):(n instanceof IDBTransaction&&BU(n),LU(n,VU())?new Proxy(n,gv):n)}function On(n){if(n instanceof IDBRequest)return UU(n);if(fv.has(n))return fv.get(n);let e=HU(n);return e!==n&&(fv.set(n,e),mv.set(e,n)),e}var sh=n=>mv.get(n);function ah(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=On(s);return r&&s.addEventListener("upgradeneeded",u=>{r(On(s.result),u.oldVersion,u.newVersion,On(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var qU=["get","getKey","getAll","getAllKeys","count"],zU=["put","add","delete","clear"],yv=new Map;function sA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yv.get(e))return yv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=zU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qU.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return yv.set(e,o),o}oA(n=>he(j({},n),{get:(e,t,r)=>sA(e,t)||n.get(e,t,r),has:(e,t)=>!!sA(e,t)||n.has(e,t)}));var _v=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function GU(n){let e=n.getComponent();return e?.type==="VERSION"}var wv="@firebase/app",aA="0.11.1";var yr=new Pn("@firebase/app"),WU="@firebase/app-compat",KU="@firebase/analytics-compat",QU="@firebase/analytics",YU="@firebase/app-check-compat",ZU="@firebase/app-check",JU="@firebase/auth",XU="@firebase/auth-compat",eB="@firebase/database",tB="@firebase/data-connect",nB="@firebase/database-compat",rB="@firebase/functions",iB="@firebase/functions-compat",oB="@firebase/installations",sB="@firebase/installations-compat",aB="@firebase/messaging",cB="@firebase/messaging-compat",uB="@firebase/performance",lB="@firebase/performance-compat",dB="@firebase/remote-config",hB="@firebase/remote-config-compat",fB="@firebase/storage",pB="@firebase/storage-compat",gB="@firebase/firestore",mB="@firebase/vertexai",yB="@firebase/firestore-compat",vB="firebase",_B="11.3.1";var Iv="[DEFAULT]",wB={[wv]:"fire-core",[WU]:"fire-core-compat",[QU]:"fire-analytics",[KU]:"fire-analytics-compat",[ZU]:"fire-app-check",[YU]:"fire-app-check-compat",[JU]:"fire-auth",[XU]:"fire-auth-compat",[eB]:"fire-rtdb",[tB]:"fire-data-connect",[nB]:"fire-rtdb-compat",[rB]:"fire-fn",[iB]:"fire-fn-compat",[oB]:"fire-iid",[sB]:"fire-iid-compat",[aB]:"fire-fcm",[cB]:"fire-fcm-compat",[uB]:"fire-perf",[lB]:"fire-perf-compat",[dB]:"fire-rc",[hB]:"fire-rc-compat",[fB]:"fire-gcs",[pB]:"fire-gcs-compat",[gB]:"fire-fst",[yB]:"fire-fst-compat",[mB]:"fire-vertex","fire-js":"fire-js",[vB]:"fire-js-all"};var ch=new Map,IB=new Map,Ev=new Map;function cA(n,e){try{n.container.addComponent(e)}catch(t){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lt(n){let e=n.name;if(Ev.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Ev.set(e,n);for(let t of ch.values())cA(t,n);for(let t of IB.values())cA(t,n);return!0}function yn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vt(n){return n==null?!1:n.settings!==void 0}var EB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Kt("app","Firebase",EB);var bv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new st("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}};var ui=_B;function Ac(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Iv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(t||(t=uv()),!t)throw ci.create("no-options");let o=ch.get(i);if(o){if(mr(t,o.options)&&mr(r,o.config))return o;throw ci.create("duplicate-app",{appName:i})}let s=new oh(i);for(let u of Ev.values())s.addComponent(u);let a=new bv(t,r,s);return ch.set(i,a),a}function Qi(n=Iv){let e=ch.get(n);if(!e&&n===Iv&&uv())return Ac();if(!e)throw ci.create("no-app",{appName:n});return e}function ht(n,e,t){var r;let i=(r=wB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}Lt(new st(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bB="firebase-heartbeat-database",DB=1,Sc="firebase-heartbeat-store",vv=null;function hA(){return vv||(vv=ah(bB,DB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ci.create("idb-open",{originalErrorMessage:n.message})})),vv}function TB(n){return v(this,null,function*(){try{let t=(yield hA()).transaction(Sc),r=yield t.objectStore(Sc).get(fA(n));return yield t.done,r}catch(e){if(e instanceof dt)yr.warn(e.message);else{let t=ci.create("idb-get",{originalErrorMessage:e?.message});yr.warn(t.message)}}})}function uA(n,e){return v(this,null,function*(){try{let r=(yield hA()).transaction(Sc,"readwrite");yield r.objectStore(Sc).put(e,fA(n)),yield r.done}catch(t){if(t instanceof dt)yr.warn(t.message);else{let r=ci.create("idb-set",{originalErrorMessage:t?.message});yr.warn(r.message)}}})}function fA(n){return`${n.name}!${n.options.appId}`}var CB=1024,SB=30,Dv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Tv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=lA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>SB){let s=RB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=lA(),{heartbeatsToSend:r,unsentEntries:i}=AB(this._heartbeatsCache.heartbeats),o=Dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yr.warn(t),""}})}};function lA(){return new Date().toISOString().substring(0,10)}function AB(n,e=CB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),dA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),dA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Tv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Tc()?ih().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield TB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function dA(n){return Dc(JSON.stringify({version:2,heartbeats:n})).length}function RB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function MB(n){Lt(new st("platform-logger",e=>new _v(e),"PRIVATE")),Lt(new st("heartbeat",e=>new Dv(e),"PRIVATE")),ht(wv,aA,n),ht(wv,aA,"esm2017"),ht("fire-js","")}MB("");var NB="firebase",xB="11.3.1";ht(NB,xB,"app");function RA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var MA=RA,NA=new Kt("auth","Firebase",RA());var ph=new Pn("@firebase/auth");function PB(n,...e){ph.logLevel<=pe.WARN&&ph.warn(`Auth (${ui}): ${n}`,...e)}function lh(n,...e){ph.logLevel<=pe.ERROR&&ph.error(`Auth (${ui}): ${n}`,...e)}function Fn(n,...e){throw Qv(n,...e)}function Yi(n,...e){return Qv(n,...e)}function xA(n,e,t){let r=Object.assign(Object.assign({},MA()),{[e]:t});return new Kt("auth","Firebase",r).create(e,{appName:n.name})}function wr(n){return xA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NA.create(n,...e)}function Z(n,e,...t){if(!n)throw Qv(e,...t)}function vr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw lh(e),new Error(e)}function di(n,e){n||vr(e)}function Rv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OB(){return pA()==="http:"||pA()==="https:"}function pA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function kB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OB()||rh()||"connection"in navigator)?navigator.onLine:!0}function FB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Zi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=WS()||QS()}get(){return kB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Yv(n,e){di(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var gh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var LB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var VB=new Zi(3e4,6e4);function Ir(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Er(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return PA(n,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Cc(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return KS()||(y.referrerPolicy="no-referrer"),gh.fetch()(OA(n,n.config.apiHost,t,p),y)}))})}function PA(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},LB),e);try{let i=new Mv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw uh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw uh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw uh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xA(n,h,l);Fn(n,h)}}catch(i){if(i instanceof dt)throw i;Fn(n,"network-request-failed",{message:String(i)})}})}function Lc(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Er(n,e,t,r,i);return"mfaPendingCredential"in l&&Fn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function OA(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Yv(n.config,i):`${n.config.apiScheme}://${i}`}function jB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Mv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Yi(this.auth,"network-request-failed")),VB.get())})}};function uh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Yi(n,e,r);return i.customData._tokenResponse=t,i}function gA(n){return n!==void 0&&n.enterprise!==void 0}var Nv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function UB(n,e){return v(this,null,function*(){return Er(n,"GET","/v2/recaptchaConfig",Ir(n,e))})}function BB(n,e){return v(this,null,function*(){return Er(n,"POST","/v1/accounts:delete",e)})}function kA(n,e){return v(this,null,function*(){return Er(n,"POST","/v1/accounts:lookup",e)})}function Mc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function FA(n,e=!1){return v(this,null,function*(){let t=tt(n),r=yield t.getIdToken(e),i=Zv(r);Z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Mc(Cv(i.auth_time)),issuedAtTime:Mc(Cv(i.iat)),expirationTime:Mc(Cv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Cv(n){return Number(n)*1e3}function Zv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{let i=th(t);return i?JSON.parse(i):(lh("Failed to decode base64 JWT payload"),null)}catch(i){return lh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mA(n){let e=Zv(n);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xc(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof dt&&$B(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function $B({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var xv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Pc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mh(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield xc(n,kA(t,{idToken:r}));Z(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?VA(o.providerUserInfo):[],a=HB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Pc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function LA(n){return v(this,null,function*(){let e=tt(n);yield mh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function HB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VA(n){return n.map(e=>{var{providerId:t}=e,r=Np(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function qB(n,e){return v(this,null,function*(){let t=yield PA(n,{},()=>v(this,null,function*(){let r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=OA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function zB(n,e){return v(this,null,function*(){return Er(n,"POST","/v2/accounts:revokeToken",Ir(n,e))})}var Nc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let t=mA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield qB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return vr("not implemented")}};function li(n,e){Z(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Es=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield xc(this,this.stsTokenManager.getToken(this.auth,e));return Z(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return FA(this,e)}reload(){return LA(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield mh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Vt(this.auth.app))return Promise.reject(wr(this.auth));let e=yield this.getIdToken();return yield xc(this,BB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:ae,isAnonymous:Ne,providerData:te,stsTokenManager:b}=t;Z(q&&b,e,"internal-error");let _=Nc.fromJSON(this.name,b);Z(typeof q=="string",e,"internal-error"),li(p,e.name),li(m,e.name),Z(typeof ae=="boolean",e,"internal-error"),Z(typeof Ne=="boolean",e,"internal-error"),li(y,e.name),li(C,e.name),li(M,e.name),li(R,e.name),li(V,e.name),li(W,e.name);let w=new n({uid:q,auth:e,email:m,emailVerified:ae,displayName:p,isAnonymous:Ne,photoURL:C,phoneNumber:y,tenantId:M,stsTokenManager:_,createdAt:V,lastLoginAt:W});return te&&Array.isArray(te)&&(w.providerData=te.map(E=>Object.assign({},E))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Nc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield mh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?VA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Nc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var yA=new Map;function _r(n){di(n instanceof Function,"Expected a class definition");let e=yA.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yA.set(n,e),e)}var GB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Pv=GB;function dh(n,e,t){return`firebase:${n}:${e}:${t}`}var yh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=dh(this.userKey,i.apiKey,o),this.fullPersistenceKey=dh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Es._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(_r(Pv),e,r);let i=(yield Promise.all(t.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||_r(Pv),s=dh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=Es._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function vA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qA(e))return"Blackberry";if(zA(e))return"Webos";if(UA(e))return"Safari";if((e.includes("chrome/")||BA(e))&&!e.includes("edge/"))return"Chrome";if(HA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function jA(n=ot()){return/firefox\//i.test(n)}function UA(n=ot()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BA(n=ot()){return/crios\//i.test(n)}function $A(n=ot()){return/iemobile/i.test(n)}function HA(n=ot()){return/android/i.test(n)}function qA(n=ot()){return/blackberry/i.test(n)}function zA(n=ot()){return/webos/i.test(n)}function Jv(n=ot()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WB(n=ot()){var e;return Jv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KB(){return YS()&&document.documentMode===10}function GA(n=ot()){return Jv(n)||HA(n)||zA(n)||qA(n)||/windows phone/i.test(n)||$A(n)}function WA(n,e=[]){let t;switch(n){case"Browser":t=vA(ot());break;case"Worker":t=`${vA(ot())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ui}/${r}`}var Ov=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function QB(t){return v(this,arguments,function*(n,e={}){return Er(n,"GET","/v2/passwordPolicy",Ir(n,e))})}var YB=6,kv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:YB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Fv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vh(this),this.idTokenSubscription=new vh(this),this.beforeStateQueue=new Ov(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_r(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield yh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield kA(this,{idToken:e}),r=yield Es._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Vt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield mh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=FB()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Vt(this.app))return Promise.reject(wr(this));let t=e?tt(e):null;return t&&Z(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Vt(this.app)?Promise.reject(wr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Vt(this.app)?Promise.reject(wr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(_r(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield QB(this),t=new kv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield zB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&_r(e)||this._popupRedirectResolver;Z(t,this,"argument-error"),this.redirectPersistenceManager=yield yh.create(this,[_r(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&PB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function hi(n){return tt(n)}var vh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=eA(t=>this.observer=t)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ch={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZB(n){Ch=n}function KA(n){return Ch.loadJS(n)}function JB(){return Ch.recaptchaEnterpriseScript}function XB(){return Ch.gapiScript}function QA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Lv=class{constructor(){this.enterprise=new Vv}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Vv=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var e$="recaptcha-enterprise",YA="NO_RECAPTCHA",jv=class{constructor(e){this.type=e$,this.auth=hi(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){UB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Nv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;gA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(YA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&gA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=JB();u.length!==0&&(u+=a),KA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Rc(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new jv(n),s;if(i)s=YA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function _h(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Rc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Rc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Rc(n,e,t);return r(n,a).catch(u=>v(this,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Rc(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield Rc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function ZA(n,e){let t=yn(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(mr(o,e??{}))return i;Fn(i,"already-initialized")}return t.initialize({options:e})}function t$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_r);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function JA(n,e,t){let r=hi(n);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=XA(e),{host:s,port:a}=n$(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||r$()}function XA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function n$(n){let e=XA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:_A(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:_A(s)}}}function _A(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function r$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Oc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,t){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}};function i$(n,e){return v(this,null,function*(){return Er(n,"POST","/v1/accounts:signUp",e)})}function o$(n,e){return v(this,null,function*(){return Lc(n,"POST","/v1/accounts:signInWithPassword",Ir(n,e))})}function eR(n,e){return v(this,null,function*(){return Er(n,"POST","/v1/accounts:sendOobCode",Ir(n,e))})}function s$(n,e){return v(this,null,function*(){return eR(n,e)})}function a$(n,e){return v(this,null,function*(){return eR(n,e)})}function c$(n,e){return v(this,null,function*(){return Lc(n,"POST","/v1/accounts:signInWithEmailLink",Ir(n,e))})}function u$(n,e){return v(this,null,function*(){return Lc(n,"POST","/v1/accounts:signInWithEmailLink",Ir(n,e))})}var kc=class n extends Oc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,t,"signInWithPassword",o$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return c$(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,r,"signUpPassword",i$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return u$(e,{idToken:t,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Sv(n,e){return v(this,null,function*(){return Lc(n,"POST","/v1/accounts:signInWithIdp",Ir(n,e))})}function l$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function d$(n){let e=ws(Is(n)).link,t=e?ws(Is(e)).deep_link_id:null,r=ws(Is(n)).deep_link_id;return(r?ws(Is(r)).link:null)||r||t||e||n}var wh=class n{constructor(e){var t,r,i,o,s,a;let u=ws(Is(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=l$((i=u.mode)!==null&&i!==void 0?i:null);Z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=d$(e);try{return new n(t)}catch{return null}}};var tR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return kc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=wh.parseLink(r);return Z(i,"argument-error"),kc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Ih=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Uv=class extends Ih{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function h$(n,e){return v(this,null,function*(){return Lc(n,"POST","/v1/accounts:signUp",Ir(n,e))})}var bs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield Es._fromIdTokenResponse(e,r,i),s=wA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=wA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function wA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Bv=class n extends dt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function nR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bv._fromErrorAndOperation(n,o,e,r):o})}function f$(n,e,t=!1){return v(this,null,function*(){let r=yield xc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return bs._forOperation(n,"link",r)})}function p$(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(Vt(r.app))return Promise.reject(wr(r));let i="reauthenticate";try{let o=yield xc(n,nR(r,i,e,n),t);Z(o.idToken,r,"internal-error");let s=Zv(o.idToken);Z(s,r,"internal-error");let{sub:a}=s;return Z(n.uid===a,r,"user-mismatch"),bs._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Fn(r,"user-mismatch"),o}})}function rR(n,e,t=!1){return v(this,null,function*(){if(Vt(n.app))return Promise.reject(wr(n));let r="signIn",i=yield nR(n,r,e),o=yield bs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function iR(n,e){return v(this,null,function*(){return rR(hi(n),e)})}function oR(n,e,t){var r;Z(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),Z(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Z(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Z(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Z(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function sR(n){return v(this,null,function*(){let e=hi(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Xv(n,e,t){return v(this,null,function*(){let r=hi(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&oR(r,i,t),yield _h(r,i,"getOobCode",a$,"EMAIL_PASSWORD_PROVIDER")})}function e_(n,e,t){return v(this,null,function*(){if(Vt(n.app))return Promise.reject(wr(n));let r=hi(n),s=yield _h(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h$,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&sR(n),u}),a=yield bs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function t_(n,e,t){return Vt(n.app)?Promise.reject(wr(n)):iR(tt(n),tR.credential(e,t)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&sR(n),r}))}function n_(n,e){return v(this,null,function*(){let t=tt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&oR(t.auth,i,e);let{email:o}=yield s$(t.auth,i);o!==n.email&&(yield n.reload())})}function aR(n,e,t,r){return tt(n).onIdTokenChanged(e,t,r)}function cR(n,e,t){return tt(n).beforeAuthStateChanged(e,t)}function r_(n,e,t,r){return tt(n).onAuthStateChanged(e,t,r)}function Vc(n){return tt(n).signOut()}var Eh="__sak";var bh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var g$=1e3,m$=10,y$=(()=>{class n extends bh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);KB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,m$):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},g$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield kr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield kr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield kr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),uR=y$;var v$=(()=>{class n extends bh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),i_=v$;function _$(n){return Promise.all(n.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var w$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield _$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function lR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var $v=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=lR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function kn(){return window}function I$(n){kn().location.href=n}function dR(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}function E$(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function b$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function D$(){return dR()?self:null}var hR="firebaseLocalStorageDb",T$=1,Dh="firebaseLocalStorage",fR="fbase_key",Ji=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Sh(n,e){return n.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function C$(){let n=indexedDB.deleteDatabase(hR);return new Ji(n).toPromise()}function Hv(){let n=indexedDB.open(hR,T$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Dh,{keyPath:fR})}catch(i){t(i)}}),n.addEventListener("success",()=>v(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),yield C$(),e(yield Hv()))}))})}function IA(n,e,t){return v(this,null,function*(){let r=Sh(n,!0).put({[fR]:e,value:t});return new Ji(r).toPromise()})}function S$(n,e){return v(this,null,function*(){let t=Sh(n,!1).get(e),r=yield new Ji(t).toPromise();return r===void 0?null:r.value})}function EA(n,e){let t=Sh(n,!0).delete(e);return new Ji(t).toPromise()}var A$=800,R$=3,M$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Hv(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>R$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return dR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=w$._getInstance(D$()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield E$(),!this.activeServiceWorker)return;this.sender=new $v(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||b$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Hv();return yield IA(t,Eh,"1"),yield EA(t,Eh),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>IA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>S$(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>EA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Sh(o,!1).getAll();return new Ji(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),A$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),pR=M$;var CQ=QA("rcb"),SQ=new Zi(3e4,6e4);function N$(n,e){return e?_r(e):(Z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Fc=class extends Oc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function x$(n){return rR(n.auth,new Fc(n),n.bypassAuthState)}function P$(n){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),p$(t,new Fc(n),n.bypassAuthState)}function O$(n){return v(this,null,function*(){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),f$(t,new Fc(n),n.bypassAuthState)})}var qv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x$;case"linkViaPopup":case"linkViaRedirect":return O$;case"reauthViaPopup":case"reauthViaRedirect":return P$;default:Fn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var AQ=new Zi(2e3,1e4);var k$="pendingRedirect",hh=new Map,zv=class n extends qv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=hh.get(this.auth._key());if(!e){try{let r=(yield F$(this.resolver,this.auth))?yield kr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return kr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,kr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function F$(n,e){return v(this,null,function*(){let t=j$(e),r=V$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function L$(n,e){hh.set(n._key(),e)}function V$(n){return _r(n._redirectPersistence)}function j$(n){return dh(k$,n.config.apiKey,n.name)}function U$(n,e,t=!1){return v(this,null,function*(){if(Vt(n.app))return Promise.reject(wr(n));let r=hi(n),i=N$(r,e),s=yield new zv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var B$=10*60*1e3,Gv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Yi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B$&&this.cachedEventUids.clear(),this.cachedEventUids.has(bA(e))}saveEventToCache(e){this.cachedEventUids.add(bA(e)),this.lastProcessedEventTime=Date.now()}};function bA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function $$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gR(n);default:return!1}}function H$(t){return v(this,arguments,function*(n,e={}){return Er(n,"GET","/v1/projects",e)})}var q$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z$=/^https?/;function G$(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield H$(n);for(let t of e)try{if(W$(t))return}catch{}Fn(n,"unauthorized-domain")})}function W$(n){let e=Rv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!z$.test(t))return!1;if(q$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var K$=new Zi(3e4,6e4);function DA(){let n=kn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Q$(n){return new Promise((e,t)=>{var r,i,o;function s(){DA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DA(),t(Yi(n,"network-request-failed"))},timeout:K$.get()})}if(!((i=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=kn().gapi)===null||o===void 0)&&o.load)s();else{let a=QA("iframefcb");return kn()[a]=()=>{gapi.load?s():t(Yi(n,"network-request-failed"))},KA(`${XB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw fh=null,e})}var fh=null;function Y$(n){return fh=fh||Q$(n),fh}var Z$=new Zi(5e3,15e3),J$="__/auth/iframe",X$="emulator/auth/iframe",eH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nH(n){let e=n.config;Z(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Yv(e,X$):`https://${n.config.authDomain}/${J$}`,r={apiKey:e.apiKey,appName:n.name,v:ui},i=tH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Cc(r).slice(1)}`}function rH(n){return v(this,null,function*(){let e=yield Y$(n),t=kn().gapi;return Z(t,n,"internal-error"),e.open({where:document.body,url:nH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eH,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Yi(n,"network-request-failed"),a=kn().setTimeout(()=>{o(s)},Z$.get());function u(){kn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var iH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oH=500,sH=600,aH="_blank",cH="http://localhost",Th=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uH(n,e,t,r=oH,i=sH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},iH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ot().toLowerCase();t&&(a=BA(l)?aH:t),jA(l)&&(e=e||cH,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(WB(l)&&a!=="_self")return lH(e||"",a),new Th(null);let p=window.open(e||"",a,h);Z(p,n,"popup-blocked");try{p.focus()}catch{}return new Th(p)}function lH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var dH="__/auth/handler",hH="emulator/auth/handler",fH=encodeURIComponent("fac");function TA(n,e,t,r,i,o){return v(this,null,function*(){Z(n.config.authDomain,n,"auth-domain-config-required"),Z(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ui,eventId:i};if(e instanceof Ih){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",XS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Uv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${fH}=${encodeURIComponent(u)}`:"";return`${pH(n)}?${Cc(a).slice(1)}${l}`})}function pH({config:n}){return n.emulator?Yv(n,hH):`https://${n.authDomain}/${dH}`}var Av="webStorageSupport",Wv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i_,this._completeRedirectFn=U$,this._overrideRedirectResult=L$}_openPopup(e,t,r,i){return v(this,null,function*(){var o;di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield TA(e,t,r,Rv(),i);return uH(e,s,lR())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield TA(e,t,r,Rv(),i);return I$(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(di(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield rH(e),r=new Gv(e);return t.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Av,{type:Av},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Av];s!==void 0&&t(!!s),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=G$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GA()||UA()||Jv()}},mR=Wv;var CA="@firebase/auth",SA="1.9.0";var Kv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mH(n){Lt(new st("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(n)},l=new Fv(r,i,o,u);return t$(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Lt(new st("auth-internal",e=>{let t=hi(e.getProvider("auth").getImmediate());return(r=>new Kv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ht(CA,SA,gH(n)),ht(CA,SA,"esm2017")}var yH=5*60,vH=lv("authIdTokenMaxAge")||yH,AA=null,_H=n=>e=>v(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>vH)return;let i=t?.token;AA!==i&&(AA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function o_(n=Qi()){let e=yn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ZA(n,{popupRedirectResolver:mR,persistence:[pR,uR,i_]}),r=lv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=_H(o.toString());cR(t,s,()=>s(t.currentUser)),aR(t,a=>s(a))}}let i=cv("auth");return i&&JA(t,`http://${i}`),t}function wH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Yi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",wH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mH("Browser");var _R="@firebase/installations",u_="0.6.12";var wR=1e4,IR=`w:${u_}`,ER="FIS_v2",IH="https://firebaseinstallations.googleapis.com/v1",EH=60*60*1e3,bH="installations",DH="Installations";var TH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},eo=new Kt(bH,DH,TH);function bR(n){return n instanceof dt&&n.code.includes("request-failed")}function DR({projectId:n}){return`${IH}/projects/${n}/installations`}function TR(n){return{token:n.token,requestStatus:2,expiresIn:SH(n.expiresIn),creationTime:Date.now()}}function CR(n,e){return v(this,null,function*(){let r=(yield e.json()).error;return eo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function SR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function CH(n,{refreshToken:e}){let t=SR(n);return t.append("Authorization",AH(e)),t}function AR(n){return v(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function SH(n){return Number(n.replace("s","000"))}function AH(n){return`${ER} ${n}`}function RH(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=DR(n),s=SR(n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:t,authVersion:ER,appId:n.appId,sdkVersion:IR},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield AR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:TR(p.authToken)}}else throw yield CR("Create Installation",h)})}function RR(n){return new Promise(e=>{setTimeout(e,n)})}function MH(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var NH=/^[cdef][\w-]{21}$/,c_="";function xH(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=PH(n);return NH.test(t)?t:c_}catch{return c_}}function PH(n){return MH(n).substr(0,22)}function Rh(n){return`${n.appName}!${n.appId}`}var MR=new Map;function NR(n,e){let t=Rh(n);xR(t,e),OH(t,e)}function xR(n,e){let t=MR.get(n);if(t)for(let r of t)r(e)}function OH(n,e){let t=kH();t&&t.postMessage({key:n,fid:e}),FH()}var Xi=null;function kH(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=n=>{xR(n.data.key,n.data.fid)}),Xi}function FH(){MR.size===0&&Xi&&(Xi.close(),Xi=null)}var LH="firebase-installations-database",VH=1,to="firebase-installations-store",s_=null;function l_(){return s_||(s_=ah(LH,VH,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(to)}}})),s_}function Ah(n,e){return v(this,null,function*(){let t=Rh(n),i=(yield l_()).transaction(to,"readwrite"),o=i.objectStore(to),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&NR(n,e.fid),e})}function PR(n){return v(this,null,function*(){let e=Rh(n),r=(yield l_()).transaction(to,"readwrite");yield r.objectStore(to).delete(e),yield r.done})}function Mh(n,e){return v(this,null,function*(){let t=Rh(n),i=(yield l_()).transaction(to,"readwrite"),o=i.objectStore(to),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&NR(n,a.fid),a})}function d_(n){return v(this,null,function*(){let e,t=yield Mh(n.appConfig,r=>{let i=jH(r),o=UH(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===c_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function jH(n){let e=n||{fid:xH(),registrationStatus:0};return OR(e)}function UH(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(eo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=BH(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$H(n)}:{installationEntry:e}}function BH(n,e){return v(this,null,function*(){try{let t=yield RH(n,e);return Ah(n.appConfig,t)}catch(t){throw bR(t)&&t.customData.serverCode===409?yield PR(n.appConfig):yield Ah(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function $H(n){return v(this,null,function*(){let e=yield yR(n.appConfig);for(;e.registrationStatus===1;)yield RR(100),e=yield yR(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield d_(n);return r||t}return e})}function yR(n){return Mh(n,e=>{if(!e)throw eo.create("installation-not-found");return OR(e)})}function OR(n){return HH(n)?{fid:n.fid,registrationStatus:0}:n}function HH(n){return n.registrationStatus===1&&n.registrationTime+wR<Date.now()}function qH(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=zH(n,t),s=CH(n,t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:IR,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield AR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return TR(p)}else throw yield CR("Generate Auth Token",h)})}function zH(n,{fid:e}){return`${DR(n)}/${e}/authTokens:generate`}function h_(n,e=!1){return v(this,null,function*(){let t,r=yield Mh(n.appConfig,o=>{if(!kR(o))throw eo.create("not-registered");let s=o.authToken;if(!e&&KH(s))return o;if(s.requestStatus===1)return t=GH(n,e),o;{if(!navigator.onLine)throw eo.create("app-offline");let a=YH(o);return t=WH(n,a),a}});return t?yield t:r.authToken})}function GH(n,e){return v(this,null,function*(){let t=yield vR(n.appConfig);for(;t.authToken.requestStatus===1;)yield RR(100),t=yield vR(n.appConfig);let r=t.authToken;return r.requestStatus===0?h_(n,e):r})}function vR(n){return Mh(n,e=>{if(!kR(e))throw eo.create("not-registered");let t=e.authToken;return ZH(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function WH(n,e){return v(this,null,function*(){try{let t=yield qH(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Ah(n.appConfig,r),t}catch(t){if(bR(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield PR(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ah(n.appConfig,r)}throw t}})}function kR(n){return n!==void 0&&n.registrationStatus===2}function KH(n){return n.requestStatus===2&&!QH(n)}function QH(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+EH}function YH(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function ZH(n){return n.requestStatus===1&&n.requestTime+wR<Date.now()}function JH(n){return v(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield d_(e);return r?r.catch(console.error):h_(e).catch(console.error),t.fid})}function XH(n,e=!1){return v(this,null,function*(){let t=n;return yield eq(t),(yield h_(t,e)).token})}function eq(n){return v(this,null,function*(){let{registrationPromise:e}=yield d_(n);e&&(yield e)})}function tq(n){if(!n||!n.options)throw a_("App Configuration");if(!n.name)throw a_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw a_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function a_(n){return eo.create("missing-app-config-values",{valueName:n})}var FR="installations",nq="installations-internal",rq=n=>{let e=n.getProvider("app").getImmediate(),t=tq(e),r=yn(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},iq=n=>{let e=n.getProvider("app").getImmediate(),t=yn(e,FR).getImmediate();return{getId:()=>JH(t),getToken:i=>XH(t,i)}};function oq(){Lt(new st(FR,rq,"PUBLIC")),Lt(new st(nq,iq,"PRIVATE"))}oq();ht(_R,u_);ht(_R,u_,"esm2017");var Nh="analytics",sq="firebase_id",aq="origin",cq=60*1e3,uq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",__="https://www.googletagmanager.com/gtag/js";var jt=new Pn("@firebase/analytics");var lq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qt=new Kt("analytics","Analytics",lq);function dq(n){if(!n.startsWith(__)){let e=Qt.create("invalid-gtag-resource",{gtagURL:n});return jt.warn(e.message),""}return n}function HR(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function hq(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function fq(n,e){let t=hq("firebase-js-sdk-policy",{createScriptURL:dq}),r=document.createElement("script"),i=`${__}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function pq(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function gq(n,e,t,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield HR(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){jt.error(a)}n("config",i,o)})}function mq(n,e,t,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield HR(t);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){jt.error(o)}})}function yq(n,e,t,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield mq(n,e,t,a,u)}else if(o==="config"){let[a,u]=s;yield gq(n,e,t,r,a,u)}else if(o==="consent"){let[a,u]=s;n("consent",a,u)}else if(o==="get"){let[a,u,l]=s;n("get",a,u,l)}else if(o==="set"){let[a]=s;n("set",a)}else n(o,...s)}catch(a){jt.error(a)}})}return i}function vq(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=yq(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function _q(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(__)&&t.src.includes(n))return t;return null}var wq=30,Iq=1e3,p_=class{constructor(e={},t=Iq){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},qR=new p_;function Eq(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function bq(n){return v(this,null,function*(){var e;let{appId:t,apiKey:r}=n,i={method:"GET",headers:Eq(r)},o=uq.replace("{app-id}",t),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Qt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function Dq(r){return v(this,arguments,function*(n,e=qR,t){let{appId:i,apiKey:o,measurementId:s}=n.options;if(!i)throw Qt.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw Qt.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new g_;return setTimeout(()=>v(this,null,function*(){u.abort()}),t!==void 0?t:cq),zR({appId:i,apiKey:o,measurementId:s},a,u,e)})}function zR(o,s,a){return v(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=qR){var u;let{appId:l,measurementId:h}=n;try{yield Tq(r,e)}catch(p){if(h)return jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield bq(n);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!Cq(m)){if(i.deleteThrottleMetadata(l),h)return jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:h};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?dv(t,i.intervalMillis,wq):dv(t,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(l,C),jt.debug(`Calling attemptFetch again in ${y} millis`),zR(n,C,r,i)}})}function Tq(n,e){return new Promise((t,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Cq(n){if(!(n instanceof dt)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var g_=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var m_;function Sq(n,e,t,r,i){return v(this,null,function*(){if(i&&i.global){n("event",t,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});n("event",t,s)}})}var y_;function Aq(n){y_=n}function Rq(n){m_=n}function Mq(){return v(this,null,function*(){if(Tc())try{yield ih()}catch(n){return jt.warn(Qt.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return jt.warn(Qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Nq(n,e,t,r,i,o,s){return v(this,null,function*(){var a;let u=Dq(n);u.then(y=>{t[y.measurementId]=y.appId,n.options.measurementId&&y.measurementId!==n.options.measurementId&&jt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>jt.error(y)),e.push(u);let l=Mq().then(y=>{if(y)return r.getId()}),[h,p]=yield Promise.all([u,l]);_q(o)||fq(o,h.measurementId),y_&&(i("consent","default",y_),Aq(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[aq]="firebase",m.update=!0,p!=null&&(m[sq]=p),i("config",h.measurementId,m),m_&&(i("set",m_),Rq(void 0)),h.measurementId})}var v_=class{constructor(e){this.app=e}_delete(){return delete jc[this.app.options.appId],Promise.resolve()}},jc={},LR=[],VR={},f_="dataLayer",xq="gtag",jR,GR,UR=!1;function Pq(){let n=[];if(rh()&&n.push("This is a browser extension environment."),JS()||n.push("Cookies are not available."),n.length>0){let e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Qt.create("invalid-analytics-context",{errorInfo:e});jt.warn(t.message)}}function Oq(n,e,t){Pq();let r=n.options.appId;if(!r)throw Qt.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qt.create("no-api-key");if(jc[r]!=null)throw Qt.create("already-exists",{id:r});if(!UR){pq(f_);let{wrappedGtag:o,gtagCore:s}=vq(jc,LR,VR,f_,xq);GR=o,jR=s,UR=!0}return jc[r]=Nq(n,LR,VR,e,jR,f_,t),new v_(n)}function WR(n=Qi()){n=tt(n);let e=yn(n,Nh);return e.isInitialized()?e.getImmediate():kq(n)}function kq(n,e={}){let t=yn(n,Nh);if(t.isInitialized()){let i=t.getImmediate();if(mr(e,t.getOptions()))return i;throw Qt.create("already-initialized")}return t.initialize({options:e})}function Fq(n,e,t,r){n=tt(n),Sq(GR,jc[n.app.options.appId],e,t,r).catch(i=>jt.error(i))}var BR="@firebase/analytics",$R="0.10.11";function Lq(){Lt(new st(Nh,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Oq(r,i,t)},"PUBLIC")),Lt(new st("analytics-internal",n,"PRIVATE")),ht(BR,$R),ht(BR,$R,"esm2017");function n(e){try{let t=e.getProvider(Nh).getImmediate();return{logEvent:(r,i,o)=>Fq(t,r,i,o)}}catch(t){throw Qt.create("interop-component-reg-failed",{reason:t})}}}Lq();var KR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},QR={};var br,w_;(function(){var n;function e(b,_){function w(){}w.prototype=_.prototype,b.D=_.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(E,D,S){for(var I=Array(arguments.length-2),Gn=2;Gn<arguments.length;Gn++)I[Gn-2]=arguments[Gn];return _.prototype[D].apply(E,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,w){w||(w=0);var E=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)E[D]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(D=0;16>D;++D)E[D]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=b.g[0],w=b.g[1],D=b.g[2];var S=b.g[3],I=_+(S^w&(D^S))+E[0]+3614090360&4294967295;_=w+(I<<7&4294967295|I>>>25),I=S+(D^_&(w^D))+E[1]+3905402710&4294967295,S=_+(I<<12&4294967295|I>>>20),I=D+(w^S&(_^w))+E[2]+606105819&4294967295,D=S+(I<<17&4294967295|I>>>15),I=w+(_^D&(S^_))+E[3]+3250441966&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(S^w&(D^S))+E[4]+4118548399&4294967295,_=w+(I<<7&4294967295|I>>>25),I=S+(D^_&(w^D))+E[5]+1200080426&4294967295,S=_+(I<<12&4294967295|I>>>20),I=D+(w^S&(_^w))+E[6]+2821735955&4294967295,D=S+(I<<17&4294967295|I>>>15),I=w+(_^D&(S^_))+E[7]+4249261313&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(S^w&(D^S))+E[8]+1770035416&4294967295,_=w+(I<<7&4294967295|I>>>25),I=S+(D^_&(w^D))+E[9]+2336552879&4294967295,S=_+(I<<12&4294967295|I>>>20),I=D+(w^S&(_^w))+E[10]+4294925233&4294967295,D=S+(I<<17&4294967295|I>>>15),I=w+(_^D&(S^_))+E[11]+2304563134&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(S^w&(D^S))+E[12]+1804603682&4294967295,_=w+(I<<7&4294967295|I>>>25),I=S+(D^_&(w^D))+E[13]+4254626195&4294967295,S=_+(I<<12&4294967295|I>>>20),I=D+(w^S&(_^w))+E[14]+2792965006&4294967295,D=S+(I<<17&4294967295|I>>>15),I=w+(_^D&(S^_))+E[15]+1236535329&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(D^S&(w^D))+E[1]+4129170786&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^D&(_^w))+E[6]+3225465664&4294967295,S=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(S^_))+E[11]+643717713&4294967295,D=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(D^S))+E[0]+3921069994&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^S&(w^D))+E[5]+3593408605&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^D&(_^w))+E[10]+38016083&4294967295,S=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(S^_))+E[15]+3634488961&4294967295,D=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(D^S))+E[4]+3889429448&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^S&(w^D))+E[9]+568446438&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^D&(_^w))+E[14]+3275163606&4294967295,S=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(S^_))+E[3]+4107603335&4294967295,D=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(D^S))+E[8]+1163531501&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^S&(w^D))+E[13]+2850285829&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^D&(_^w))+E[2]+4243563512&4294967295,S=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(S^_))+E[7]+1735328473&4294967295,D=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(D^S))+E[12]+2368359562&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(w^D^S)+E[5]+4294588738&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^D)+E[8]+2272392833&4294967295,S=_+(I<<11&4294967295|I>>>21),I=D+(S^_^w)+E[11]+1839030562&4294967295,D=S+(I<<16&4294967295|I>>>16),I=w+(D^S^_)+E[14]+4259657740&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^S)+E[1]+2763975236&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^D)+E[4]+1272893353&4294967295,S=_+(I<<11&4294967295|I>>>21),I=D+(S^_^w)+E[7]+4139469664&4294967295,D=S+(I<<16&4294967295|I>>>16),I=w+(D^S^_)+E[10]+3200236656&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^S)+E[13]+681279174&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^D)+E[0]+3936430074&4294967295,S=_+(I<<11&4294967295|I>>>21),I=D+(S^_^w)+E[3]+3572445317&4294967295,D=S+(I<<16&4294967295|I>>>16),I=w+(D^S^_)+E[6]+76029189&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^S)+E[9]+3654602809&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^D)+E[12]+3873151461&4294967295,S=_+(I<<11&4294967295|I>>>21),I=D+(S^_^w)+E[15]+530742520&4294967295,D=S+(I<<16&4294967295|I>>>16),I=w+(D^S^_)+E[2]+3299628645&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(D^(w|~S))+E[0]+4096336452&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~D))+E[7]+1126891415&4294967295,S=_+(I<<10&4294967295|I>>>22),I=D+(_^(S|~w))+E[14]+2878612391&4294967295,D=S+(I<<15&4294967295|I>>>17),I=w+(S^(D|~_))+E[5]+4237533241&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~S))+E[12]+1700485571&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~D))+E[3]+2399980690&4294967295,S=_+(I<<10&4294967295|I>>>22),I=D+(_^(S|~w))+E[10]+4293915773&4294967295,D=S+(I<<15&4294967295|I>>>17),I=w+(S^(D|~_))+E[1]+2240044497&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~S))+E[8]+1873313359&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~D))+E[15]+4264355552&4294967295,S=_+(I<<10&4294967295|I>>>22),I=D+(_^(S|~w))+E[6]+2734768916&4294967295,D=S+(I<<15&4294967295|I>>>17),I=w+(S^(D|~_))+E[13]+1309151649&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~S))+E[4]+4149444226&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~D))+E[11]+3174756917&4294967295,S=_+(I<<10&4294967295|I>>>22),I=D+(_^(S|~w))+E[2]+718787259&4294967295,D=S+(I<<15&4294967295|I>>>17),I=w+(S^(D|~_))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+S&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var w=_-this.blockSize,E=this.B,D=this.h,S=0;S<_;){if(D==0)for(;S<=w;)i(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<_;)if(E[D++]=b.charCodeAt(S++),D==this.blockSize){i(this,E),D=0;break}}else for(;S<_;)if(E[D++]=b[S++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var w=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=w&255,w/=256;for(this.u(b),b=Array(16),_=w=0;4>_;++_)for(var E=0;32>E;E+=8)b[w++]=this.g[_]>>>E&255;return b};function o(b,_){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=_(b)}function s(b,_){this.h=_;for(var w=[],E=!0,D=b.length-1;0<=D;D--){var S=b[D]|0;E&&S==_||(w[D]=S,E=!1)}this.g=w}var a={};function u(b){return-128<=b&&128>b?o(b,function(_){return new s([_|0],0>_?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var _=[],w=1,E=0;b>=w;E++)_[E]=b/w|0,w*=4294967296;return new s(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return R(h(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),E=p,D=0;D<b.length;D+=8){var S=Math.min(8,b.length-D),I=parseInt(b.substring(D,D+S),_);8>S?(S=l(Math.pow(_,S)),E=E.j(S).add(l(I))):(E=E.j(w),E=E.add(l(I)))}return E}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var b=0,_=1,w=0;w<this.g.length;w++){var E=this.i(w);b+=(0<=E?E:4294967296+E)*_,_*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(M(this))return"-"+R(this).toString(b);for(var _=l(Math.pow(b,6)),w=this,E="";;){var D=ae(w,_).g;w=V(w,D.j(_));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=D,C(w))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function M(b){return b.h==-1}n.l=function(b){return b=V(this,b),M(b)?-1:C(b)?0:1};function R(b){for(var _=b.g.length,w=[],E=0;E<_;E++)w[E]=~b.g[E];return new s(w,~b.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],E=0,D=0;D<=_;D++){var S=E+(this.i(D)&65535)+(b.i(D)&65535),I=(S>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);E=I>>>16,S&=65535,I&=65535,w[D]=I<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function V(b,_){return b.add(R(_))}n.j=function(b){if(C(this)||C(b))return p;if(M(this))return M(b)?R(this).j(R(b)):R(R(this).j(b));if(M(b))return R(this.j(R(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var _=this.g.length+b.g.length,w=[],E=0;E<2*_;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<b.g.length;D++){var S=this.i(E)>>>16,I=this.i(E)&65535,Gn=b.i(D)>>>16,Qs=b.i(D)&65535;w[2*E+2*D]+=I*Qs,W(w,2*E+2*D),w[2*E+2*D+1]+=S*Qs,W(w,2*E+2*D+1),w[2*E+2*D+1]+=I*Gn,W(w,2*E+2*D+1),w[2*E+2*D+2]+=S*Gn,W(w,2*E+2*D+2)}for(E=0;E<_;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=_;E<2*_;E++)w[E]=0;return new s(w,0)};function W(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function q(b,_){this.g=b,this.h=_}function ae(b,_){if(C(_))throw Error("division by zero");if(C(b))return new q(p,p);if(M(b))return _=ae(R(b),_),new q(R(_.g),R(_.h));if(M(_))return _=ae(b,R(_)),new q(R(_.g),_.h);if(30<b.g.length){if(M(b)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=_;0>=E.l(b);)w=Ne(w),E=Ne(E);var D=te(w,1),S=te(E,1);for(E=te(E,2),w=te(w,2);!C(E);){var I=S.add(E);0>=I.l(b)&&(D=D.add(w),S=I),E=te(E,1),w=te(w,1)}return _=V(b,D.j(_)),new q(D,_)}for(D=p;0<=b.l(_);){for(w=Math.max(1,Math.floor(b.m()/_.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(w),I=S.j(_);M(I)||0<I.l(b);)w-=E,S=l(w),I=S.j(_);C(S)&&(S=m),D=D.add(S),b=V(b,I)}return new q(D,b)}n.A=function(b){return ae(this,b).h},n.and=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)&b.i(E);return new s(w,this.h&b.h)},n.or=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)|b.i(E);return new s(w,this.h|b.h)},n.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)^b.i(E);return new s(w,this.h^b.h)};function Ne(b){for(var _=b.g.length+1,w=[],E=0;E<_;E++)w[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(w,b.h)}function te(b,_){var w=_>>5;_%=32;for(var E=b.g.length-w,D=[],S=0;S<E;S++)D[S]=0<_?b.i(S+w)>>>_|b.i(S+w+1)<<32-_:b.i(S+w);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w_=QR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,br=QR.Integer=s}).apply(typeof KR<"u"?KR:typeof self<"u"?self:typeof window<"u"?window:{});var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={};var I_,Vq,Ds,E_,Uc,Ph,b_,D_,T_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,A){for(var L=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)L[Se-2]=arguments[Se];return d.prototype[T].apply(g,L)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,A=g.length||0;c.length=T+A;for(let L=0;L<A;L++)c[T+L]=g[L]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var Ne=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function te(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let A=0;A<w.length;A++)f=w[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=jf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Gn{constructor(){this.h=this.g=null}add(d,f){let g=Qs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Qs=new V(()=>new hx,c=>c.reset());class hx{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ys,Zs=!1,jf=new Gn,jI=()=>{let c=a.Promise.resolve(void 0);Ys=()=>{c.then(fx)}};var fx=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Qs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Zs=!1};function Nr(){this.s=this.s,this.C=this.C}Nr.prototype.s=!1,Nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var px=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Js(c,d){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{ae(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:gx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Js.aa.h.call(this)}}C(Js,pt);var gx={2:"touch",3:"pen",4:"mouse"};Js.prototype.h=function(){Js.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),mx=0;function yx(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++mx,this.da=this.fa=!1}function du(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hu(c){this.src=c,this.g={},this.h=0}hu.prototype.add=function(c,d,f,g,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var L=Bf(c,d,g,T);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new yx(d,this.src,A,!!g,T),d.fa=f,c.push(d)),d};function Uf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(g,T,1),A&&(du(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Bf(c,d,f,g){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return T}return-1}var $f="closure_lm_"+(1e6*Math.random()|0),Hf={};function UI(c,d,f,g,T){if(g&&g.once)return $I(c,d,f,g,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)UI(c,d[A],f,g,T);return null}return f=Wf(f),c&&c[Xs]?c.K(d,f,l(g)?!!g.capture:!!g,T):BI(c,d,f,!1,g,T)}function BI(c,d,f,g,T,A){if(!d)throw Error("Invalid event type");var L=l(T)?!!T.capture:!!T,Se=zf(c);if(Se||(c[$f]=Se=new hu(c)),f=Se.add(d,f,g,L,A),f.proxy)return f;if(g=vx(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)px||(T=L),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(qI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function vx(){function c(f){return d.call(c.src,c.listener,f)}let d=_x;return c}function $I(c,d,f,g,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)$I(c,d[A],f,g,T);return null}return f=Wf(f),c&&c[Xs]?c.L(d,f,l(g)?!!g.capture:!!g,T):BI(c,d,f,!0,g,T)}function HI(c,d,f,g,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)HI(c,d[A],f,g,T);else g=l(g)?!!g.capture:!!g,f=Wf(f),c&&c[Xs]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Bf(A,f,g,T),-1<f&&(du(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=zf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Bf(d,f,g,T)),(f=-1<c?d[c]:null)&&qf(f))}function qf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Xs])Uf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(qI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=zf(d))?(Uf(f,c),f.h==0&&(f.src=null,d[$f]=null)):du(c)}}}function qI(c){return c in Hf?Hf[c]:Hf[c]="on"+c}function _x(c,d){if(c.da)c=!0;else{d=new Js(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&qf(c),c=f.call(g,d)}return c}function zf(c){return c=c[$f],c instanceof hu?c:null}var Gf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wf(c){return typeof c=="function"?c:(c[Gf]||(c[Gf]=function(d){return c.handleEvent(d)}),c[Gf])}function gt(){Nr.call(this),this.i=new hu(this),this.M=this,this.F=null}C(gt,Nr),gt.prototype[Xs]=!0,gt.prototype.removeEventListener=function(c,d,f,g){HI(this,c,d,f,g)};function St(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new pt(d,c);else if(d instanceof pt)d.target=d.target||c;else{var T=d;d=new pt(g,c),E(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var L=d.g=f[A];T=fu(L,g,!0,d)&&T}if(L=d.g=c,T=fu(L,g,!0,d)&&T,T=fu(L,g,!1,d)&&T,f)for(A=0;A<f.length;A++)L=d.g=f[A],T=fu(L,g,!1,d)&&T}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)du(f[g]);delete c.g[d],c.h--}}this.F=null},gt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},gt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function fu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==f){var Se=L.listener,ut=L.ha||L.src;L.fa&&Uf(c.i,L),T=Se.call(ut,g)!==!1&&T}}return T&&!g.defaultPrevented}function zI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function GI(c){c.g=zI(()=>{c.g=null,c.i&&(c.i=!1,GI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class wx extends Nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:GI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(c){Nr.call(this),this.h=c,this.g={}}C(ea,Nr);var WI=[];function KI(c){te(c.g,function(d,f){this.g.hasOwnProperty(f)&&qf(d)},c),c.g={}}ea.prototype.N=function(){ea.aa.N.call(this),KI(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kf=a.JSON.stringify,Ix=a.JSON.parse,Ex=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Qf(){}Qf.prototype.h=null;function QI(c){return c.h||(c.h=c.i())}function YI(){}var ta={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yf(){pt.call(this,"d")}C(Yf,pt);function Zf(){pt.call(this,"c")}C(Zf,pt);var mi={},ZI=null;function pu(){return ZI=ZI||new gt}mi.La="serverreachability";function JI(c){pt.call(this,mi.La,c)}C(JI,pt);function na(c){let d=pu();St(d,new JI(d))}mi.STAT_EVENT="statevent";function XI(c,d){pt.call(this,mi.STAT_EVENT,c),this.stat=d}C(XI,pt);function At(c){let d=pu();St(d,new XI(d,c))}mi.Ma="timingevent";function eE(c,d){pt.call(this,mi.Ma,c),this.size=d}C(eE,pt);function ra(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function bx(c,d,f,g,T,A){c.info(function(){if(c.g)if(A)for(var L="",Se=A.split("&"),ut=0;ut<Se.length;ut++){var Ie=Se[ut].split("=");if(1<Ie.length){var mt=Ie[0];Ie=Ie[1];var yt=mt.split("_");L=2<=yt.length&&yt[1]=="type"?L+(mt+"="+Ie+"&"):L+(mt+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+L})}function Dx(c,d,f,g,T,A,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+L})}function po(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Cx(c,f)+(g?" "+g:"")})}function Tx(c,d){c.info(function(){return"TIMEOUT: "+d})}ia.prototype.info=function(){};function Cx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<T.length;L++)T[L]=""}}}}return Kf(f)}catch{return d}}var gu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jf;function mu(){}C(mu,Qf),mu.prototype.g=function(){return new XMLHttpRequest},mu.prototype.i=function(){return{}},Jf=new mu;function xr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nE}function nE(){this.i=null,this.g="",this.h=!1}var rE={},Xf={};function ep(c,d,f){c.L=1,c.v=wu(Wn(d)),c.m=f,c.P=!0,iE(c,null)}function iE(c,d){c.F=Date.now(),yu(c),c.A=Wn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),vE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new nE,c.g=FE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new wx(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(WI[0]=T.toString()),T=WI);for(var A=0;A<T.length;A++){var L=UI(f,T[A],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),na(),bx(c.i,c.u,c.A,c.l,c.R,c.m)}xr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Kn(c)==3?d.j():this.Y(c)},xr.prototype.Y=function(c){try{if(c==this.g)e:{let yt=Kn(this.g);var d=this.g.Ba();let yo=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||TE(this.g)))){this.J||yt!=4||d==7||(d==8||0>=yo?na(3):na(2)),tp(this);var f=this.g.Z();this.X=f;t:if(oE(this)){var g=TE(this.g);c="";var T=g.length,A=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),oa(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,Dx(this.i,this.u,this.A,this.l,this.R,yt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ut=this.g;if((Se=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Se)){var Ie=Se;break t}}Ie=null}if(f=Ie)po(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,np(this,f);else{this.o=!1,this.s=3,At(12),yi(this),oa(this);break e}}if(this.P){f=!0;let an;for(;!this.J&&this.C<L.length;)if(an=Sx(this,L),an==Xf){yt==4&&(this.s=4,At(14),f=!1),po(this.i,this.l,null,"[Incomplete Response]");break}else if(an==rE){this.s=4,At(15),po(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else po(this.i,this.l,an,null),np(this,an);if(oE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||L.length!=0||this.h.h||(this.s=1,At(16),f=!1),this.o=this.o&&f,!f)po(this.i,this.l,L,"[Invalid Chunked Response]"),yi(this),oa(this);else if(0<L.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),cp(mt),mt.M=!0,At(11))}}else po(this.i,this.l,L,null),np(this,L);yt==4&&yi(this),this.o&&!this.J&&(yt==4?xE(this.j,this):(this.o=!1,yu(this)))}else qx(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),yi(this),oa(this)}}}catch{}finally{}};function oE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Sx(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Xf:(f=Number(d.substring(f,g)),isNaN(f)?rE:(g+=1,g+f>d.length?Xf:(d=d.slice(g,g+f),c.C=g+f,d)))}xr.prototype.cancel=function(){this.J=!0,yi(this)};function yu(c){c.S=Date.now()+c.I,sE(c,c.I)}function sE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ra(m(c.ba,c),d)}function tp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}xr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Tx(this.i,this.A),this.L!=2&&(na(),At(17)),yi(this),this.s=2,oa(this)):sE(this,this.S-c)};function oa(c){c.j.G==0||c.J||xE(c.j,c)}function yi(c){tp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,KI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function np(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||rp(f.h,c))){if(!c.K&&rp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Tu(f),bu(f);else break e;ap(f),At(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=ra(m(f.Za,f),6e3));if(1>=uE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else _i(f,11)}else if((c.K||f.g==c)&&Tu(f),!W(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let Ie=T[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let mt=Ie[3];mt!=null&&(f.la=mt,f.j.info("VER="+f.la));let yt=Ie[4];yt!=null&&(f.Aa=yt,f.j.info("SVER="+f.Aa));let yo=Ie[5];yo!=null&&typeof yo=="number"&&0<yo&&(g=1.5*yo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let an=c.g;if(an){let Su=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var A=g.h;A.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(ip(A,A.h),A.h=null))}if(g.D){let up=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;up&&(g.ya=up,Me(g.I,g.D,up))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=kE(g,g.J?g.ia:null,g.W),L.K){lE(g.h,L);var Se=L,ut=g.L;ut&&(Se.I=ut),Se.B&&(tp(Se),yu(Se)),g.g=L}else ME(g);0<f.i.length&&Du(f)}else Ie[0]!="stop"&&Ie[0]!="close"||_i(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?_i(f,7):sp(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}na(4)}catch{}}var Ax=class{constructor(c,d){this.g=c,this.map=d}};function aE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uE(c){return c.h?1:c.g?c.g.size:0}function rp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function ip(c,d){c.g?c.g.add(d):c.h=d}function lE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}aE.prototype.cancel=function(){if(this.i=dE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function dE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function Rx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Mx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function hE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Mx(c),g=Rx(c),T=g.length,A=0;A<T;A++)d.call(void 0,g[A],f&&f[A],c)}var fE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var A=c[f].substring(0,g);T=c[f].substring(g+1)}else A=c[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,vu(this,c.j),this.o=c.o,this.g=c.g,_u(this,c.s),this.l=c.l;var d=c.i,f=new ca;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),pE(this,f),this.m=c.m}else c&&(d=String(c).match(fE))?(this.h=!1,vu(this,d[1]||"",!0),this.o=sa(d[2]||""),this.g=sa(d[3]||"",!0),_u(this,d[4]),this.l=sa(d[5]||"",!0),pE(this,d[6]||"",!0),this.m=sa(d[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}vi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(aa(d,gE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(aa(d,gE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(aa(f,f.charAt(0)=="/"?Ox:Px,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",aa(f,Fx)),c.join("")};function Wn(c){return new vi(c)}function vu(c,d,f){c.j=f?sa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function _u(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function pE(c,d,f){d instanceof ca?(c.i=d,Lx(c.i,c.h)):(f||(d=aa(d,kx)),c.i=new ca(d,c.h))}function Me(c,d,f){c.i.set(d,f)}function wu(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function sa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function aa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,xx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gE=/[#\/\?@]/g,Px=/[#\?:]/g,Ox=/[#\?]/g,kx=/[#\?@]/g,Fx=/#/g;function ca(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Pr(c){c.g||(c.g=new Map,c.h=0,c.i&&Nx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ca.prototype,n.add=function(c,d){Pr(this),this.i=null,c=go(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function mE(c,d){Pr(c),d=go(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function yE(c,d){return Pr(c),d=go(c,d),c.g.has(d)}n.forEach=function(c,d){Pr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},n.na=function(){Pr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let A=0;A<T.length;A++)f.push(d[g])}return f},n.V=function(c){Pr(this);let d=[];if(typeof c=="string")yE(this,c)&&(d=d.concat(this.g.get(go(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Pr(this),this.i=null,c=go(this,c),yE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function vE(c,d,f){mE(c,d),0<f.length&&(c.i=null,c.g.set(go(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var T=A;L[g]!==""&&(T+="="+encodeURIComponent(String(L[g]))),c.push(T)}}return this.i=c.join("&")};function go(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Lx(c,d){d&&!c.j&&(Pr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(mE(this,g),vE(this,T,f))},c)),c.j=d}function Vx(c,d){let f=new ia;if(a.Image){let g=new Image;g.onload=y(Or,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Or,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Or,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Or,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function jx(c,d){let f=new ia,g=new AbortController,T=setTimeout(()=>{g.abort(),Or(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(T),A.ok?Or(f,"TestPingServer: ok",!0,d):Or(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Or(f,"TestPingServer: error",!1,d)})}function Or(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function Ux(){this.g=new Ex}function Bx(c,d,f){let g=f||"";try{hE(c,function(T,A){let L=T;l(T)&&(L=Kf(T)),d.push(g+A+"="+encodeURIComponent(L))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function ua(c){this.l=c.Ub||null,this.j=c.eb||!1}C(ua,Qf),ua.prototype.g=function(){return new Iu(this.l,this.j)},ua.prototype.i=function(c){return function(){return c}}({});function Iu(c,d){gt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Iu,gt),n=Iu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,da(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_E(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _E(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?la(this):da(this),this.readyState==3&&_E(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,la(this))},n.Qa=function(c){this.g&&(this.response=c,la(this))},n.ga=function(){this.g&&la(this)};function la(c){c.readyState=4,c.l=null,c.j=null,c.v=null,da(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function da(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wE(c){let d="";return te(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function op(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=wE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Me(c,d,f))}function Fe(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Fe,gt);var $x=/^https?$/i,Hx=["POST","PUT"];n=Fe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jf.g(),this.v=this.o?QI(this.o):QI(Jf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){IE(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Hx,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of f)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DE(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){IE(this,A)}};function IE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,EE(c),Eu(c)}function EE(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),Eu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eu(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bE(this):this.bb())},n.bb=function(){bE(this)};function bE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)zI(c.Ea,0,c);else if(St(c,"readystatechange"),Kn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var T=String(c.D).match(fE)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!$x.test(T?T.toLowerCase():"")}f=g}if(f)St(c,"complete"),St(c,"success");else{c.m=6;try{var A=2<Kn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",EE(c)}}finally{Eu(c)}}}}function Eu(c,d){if(c.g){DE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||St(c,"ready");try{f.onreadystatechange=g}catch{}}}function DE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Ix(d)}};function TE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qx(c){let d={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=D(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}b(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function CE(c){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,c),this.cb=ha("retryDelaySeedMs",1e4,c),this.Wa=ha("forwardChannelMaxRetries",2,c),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new aE(c&&c.concurrentRequestLimit),this.Da=new Ux,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=CE.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){At(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=kE(this,null,this.W),Du(this)};function sp(c){if(SE(c),c.G==3){var d=c.U++,f=Wn(c.I);if(Me(f,"SID",c.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),fa(c,f),d=new xr(c,c.j,d),d.L=2,d.v=wu(Wn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=FE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),yu(d)}OE(c)}function bu(c){c.g&&(cp(c),c.g.cancel(),c.g=null)}function SE(c){bu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Tu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Du(c){if(!cE(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ys||jI(),Zs||(Ys(),Zs=!0),jf.add(d,c),c.B=0}}function zx(c,d){return uE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ra(m(c.Ga,c,d),PE(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new xr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=RE(this,T,d),f=Wn(this.I),Me(f,"RID",c),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),fa(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(wE(A)))+"&"+d:this.m&&op(f,this.m,A)),ip(this.h,T),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),T.T=!0,ep(T,f,null)):ep(T,f,d),this.G=2}}else this.G==3&&(c?AE(this,c):this.i.length==0||cE(this.h)||AE(this))};function AE(c,d){var f;d?f=d.l:f=c.U++;let g=Wn(c.I);Me(g,"SID",c.K),Me(g,"RID",f),Me(g,"AID",c.T),fa(c,g),c.m&&c.o&&op(g,c.m,c.o),f=new xr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=RE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ip(c.h,f),ep(f,g,d)}function fa(c,d){c.H&&te(c.H,function(f,g){Me(d,g,f)}),c.l&&hE({},function(f,g){Me(d,g,f)})}function RE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let L=["count="+f];A==-1?0<f?(A=T[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let Se=!0;for(let ut=0;ut<f;ut++){let Ie=T[ut].g,mt=T[ut].map;if(Ie-=A,0>Ie)A=Math.max(0,T[ut].g-100),Se=!1;else try{Bx(mt,L,"req"+Ie+"_")}catch{g&&g(mt)}}if(Se){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ME(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ys||jI(),Zs||(Ys(),Zs=!0),jf.add(d,c),c.v=0}}function ap(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ra(m(c.Fa,c),PE(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,NE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ra(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),bu(this),NE(this))};function cp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function NE(c){c.g=new xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Wn(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),fa(c,d),c.m&&c.o&&op(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=wu(Wn(d)),f.m=null,f.P=!0,iE(f,c)}n.Za=function(){this.C!=null&&(this.C=null,bu(this),ap(this),At(19))};function Tu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function xE(c,d){var f=null;if(c.g==d){Tu(c),cp(c),c.g=null;var g=2}else if(rp(c.h,d))f=d.D,lE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=pu(),St(g,new eE(g,f)),Du(c)}else ME(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&zx(c,d)||g==2&&ap(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function PE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function _i(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new vi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vu(g,"https"),wu(g),T?Vx(g.toString(),f):jx(g.toString(),f)}else At(2);c.G=0,c.l&&c.l.sa(d),OE(c),SE(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function OE(c){if(c.G=0,c.ka=[],c.l){let d=dE(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function kE(c,d,f){var g=f instanceof vi?Wn(f):new vi(f);if(g.g!="")d&&(g.g=d+"."+g.g),_u(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new vi(null);g&&vu(A,g),d&&(A.g=d),T&&_u(A,T),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Me(g,f,d),Me(g,"VER",c.la),fa(c,g),g}function FE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Fe(new ua({eb:f})):new Fe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function LE(){}n=LE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Cu(){}Cu.prototype.g=function(c,d){return new Bt(c,d)};function Bt(c,d){gt.call(this),this.g=new CE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new mo(this)}C(Bt,gt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){sp(this.g)},Bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Kf(c),c=f);d.i.push(new Ax(d.Ya++,c)),d.G==3&&Du(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,sp(this.g),delete this.g,Bt.aa.N.call(this)};function VE(c){Yf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(VE,Yf);function jE(){Zf.call(this),this.status=1}C(jE,Zf);function mo(c){this.g=c}C(mo,LE),mo.prototype.ua=function(){St(this.g,"a")},mo.prototype.ta=function(c){St(this.g,new VE(c))},mo.prototype.sa=function(c){St(this.g,new jE)},mo.prototype.ra=function(){St(this.g,"b")},Cu.prototype.createWebChannel=Cu.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,T_=Dr.createWebChannelTransport=function(){return new Cu},D_=Dr.getStatEventTarget=function(){return pu()},b_=Dr.Event=mi,Ph=Dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gu.NO_ERROR=0,gu.TIMEOUT=8,gu.HTTP_ERROR=6,Uc=Dr.ErrorCode=gu,tE.COMPLETE="complete",E_=Dr.EventType=tE,YI.EventType=ta,ta.OPEN="a",ta.CLOSE="b",ta.ERROR="c",ta.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Ds=Dr.WebChannel=YI,Vq=Dr.FetchXmlHttpFactory=ua,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,I_=Dr.XhrIo=Fe}).apply(typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{});var YR="@firebase/firestore",ZR="4.7.8";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var qs="11.3.1";var oo=new Pn("@firebase/firestore");function Ts(){return oo.logLevel}function H(n,...e){if(oo.logLevel<=pe.DEBUG){let t=e.map(pI);oo.debug(`Firestore (${qs}): ${n}`,...t)}}function Tr(n,...e){if(oo.logLevel<=pe.ERROR){let t=e.map(pI);oo.error(`Firestore (${qs}): ${n}`,...t)}}function Ns(n,...e){if(oo.logLevel<=pe.WARN){let t=e.map(pI);oo.warn(`Firestore (${qs}): ${n}`,...t)}}function pI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n="Unexpected state"){let e=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+n;throw Tr(e),new Error(e)}function De(n,e){n||X()}function ie(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends dt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Vn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Uh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},M_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(at.UNAUTHENTICATED))}shutdown(){}},N_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},x_=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){De(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Uh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new at(e)}},P_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},O_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new P_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Bh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},k_=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Vt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){De(this.o===void 0);let r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Bh(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(De(typeof t.token=="string"),this.R=t.token,new Bh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function jq(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var $h=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=jq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ve(n,e){return n<e?-1:n>e?1:0}function xs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var JR=-62135596800,XR=1e6,ft=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*XR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<JR)throw new Y(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XR}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-JR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ft(0,0))}static max(){return new n(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var eM="__name__",Hh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(),r===void 0?r=e.length-t:r>e.length-t&&X(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}},Ze=class n extends Hh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Uq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class n extends Hh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Uq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eM}static keyField(){return new n([eM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Y(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ze.fromString(e))}static fromName(e){return new n(Ze.fromString(e).popFirst(5))}static empty(){return new n(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ze(e.slice()))}};var Gc=-1,F_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};F_.UNKNOWN_ID=-1;function Bq(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new so(i,J.empty(),e)}function $q(n){return new so(n.readTime,n.key,Gc)}var so=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),J.empty(),Gc)}static max(){return new n(se.max(),J.empty(),Gc)}};function Hq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:ve(n.largestBatchId,e.largestBatchId))}var qq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",L_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function zs(n){return v(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==qq)throw n;H("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function zq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gs(n){return n.name==="IndexedDbTransactionError"}var gI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this._e&&this._e(t),t}}n.ae=-1;return n})(),mI=-1;function wf(n){return n==null}function Wc(n){return n===0&&1/n==-1/0}function Gq(n){return typeof n=="number"&&Number.isInteger(n)&&!Wc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var FM="";function Wq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tM(e)),e=Kq(n.get(t),e);return tM(e)}function Kq(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case FM:t+="";break;default:t+=o}}return t}function tM(n){return n+FM+""}var Qq="remoteDocuments",LM="owner";var VM="mutationQueues";var jM="mutations";var UM="documentMutations",Yq="remoteDocumentsV14";var BM="remoteDocumentGlobal";var $M="targets";var HM="targetDocuments";var qM="targetGlobal",zM="collectionParents";var GM="clientMetadata";var WM="bundles";var KM="namedQueries";var Zq="indexConfiguration";var Jq="indexState";var Xq="indexEntries";var QM="documentOverlays";var ez="globals";var tz=[VM,jM,UM,Qq,$M,LM,qM,HM,GM,BM,zM,WM,KM],yZ=[...tz,QM],nz=[VM,jM,UM,Yq,$M,LM,qM,HM,GM,BM,zM,WM,KM,QM],rz=nz,iz=[...rz,Zq,Jq,Xq];var vZ=[...iz,ez];function nM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ho(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var qe=class n{constructor(e,t){this.comparator=e,this.root=t||jn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rs(this.root,e,this.comparator,!0)}},Rs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,t,r,i,o){return this}insert(e,t,r){return new jn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class n{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qh(this.data.getIterator())}getIteratorFrom(e){return new qh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},qh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ln=class n{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ct(Yt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var zh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ct.EMPTY_BYTE_STRING=new Ct("");var oz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(n){if(De(!!n),typeof n=="string"){let e=0,t=oz.exec(n);if(De(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Sr(n){return typeof n=="string"?Ct.fromBase64String(n):Ct.fromUint8Array(n)}var ZM="server_timestamp",JM="__type__",XM="__previous_value__",eN="__local_write_time__";function yI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[JM])===null||t===void 0?void 0:t.stringValue)===ZM}function If(n){let e=n.mapValue.fields[XM];return yI(e)?If(e):e}function Kc(n){let e=Cr(n.mapValue.fields[eN].timestampValue);return new ft(e.seconds,e.nanos)}var V_=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Gh="(default)",Wh=class n{constructor(e,t){this.projectId=e,this.database=t||Gh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var vI="__type__",tN="__max__",Oh={mapValue:{fields:{__type__:{stringValue:tN}}}},_I="__vector__",Ps="value";function fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yI(n)?4:rN(n)?9007199254740991:nN(n)?10:11:X()}function $n(n,e){if(n===e)return!0;let t=fi(n);if(t!==fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kc(n).isEqual(Kc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Cr(i.timestampValue),a=Cr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Sr(i.bytesValue).isEqual(Sr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?Wc(s)===Wc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return xs(n.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nM(s)!==nM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!$n(s[u],a[u])))return!1;return!0}(n,e);default:return X()}}function Qc(n,e){return(n.values||[]).find(t=>$n(t,e))!==void 0}function Os(n,e){if(n===e)return 0;let t=fi(n),r=fi(e);if(t!==r)return ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ve(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Pe(o.integerValue||o.doubleValue),u=Pe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return rM(n.timestampValue,e.timestampValue);case 4:return rM(Kc(n),Kc(e));case 5:return ve(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Sr(o),u=Sr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ve(a[l],u[l]);if(h!==0)return h}return ve(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ve(Pe(o.latitude),Pe(s.latitude));return a!==0?a:ve(Pe(o.longitude),Pe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return iM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Ps])===null||a===void 0?void 0:a.arrayValue,C=(u=m[Ps])===null||u===void 0?void 0:u.arrayValue,M=ve(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:iM(y,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Oh.mapValue&&s===Oh.mapValue)return 0;if(o===Oh.mapValue)return 1;if(s===Oh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ve(u[p],h[p]);if(m!==0)return m;let y=Os(a[u[p]],l[h[p]]);if(y!==0)return y}return ve(u.length,h.length)}(n.mapValue,e.mapValue);default:throw X()}}function rM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ve(n,e);let t=Cr(n),r=Cr(e),i=ve(t.seconds,r.seconds);return i!==0?i:ve(t.nanos,r.nanos)}function iM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Os(t[i],r[i]);if(o)return o}return ve(t.length,r.length)}function ks(n){return j_(n)}function j_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Cr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Sr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return J.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=j_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${j_(t.fields[s])}`;return i+"}"}(n.mapValue):X()}function Lh(n){switch(fi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=If(n);return e?16+Lh(e):16;case 5:return 2*n.stringValue.length;case 6:return Sr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Lh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ho(r.fields,(o,s)=>{i+=o.length+Lh(s)}),i}(n.mapValue);default:throw X()}}function U_(n){return!!n&&"integerValue"in n}function wI(n){return!!n&&"arrayValue"in n}function oM(n){return!!n&&"nullValue"in n}function sM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vh(n){return!!n&&"mapValue"in n}function nN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vI])===null||t===void 0?void 0:t.stringValue)===_I}function $c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ho(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$c(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tN}var wZ={mapValue:{fields:{[vI]:{stringValue:_I},[Ps]:{arrayValue:{}}}}};var vn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=$c(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ho(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n($c(this.value))}};function iN(n){let e=[];return ho(n.fields,(t,r)=>{let i=new Yt([t]);if(Vh(r)){let o=iN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Ln(e)}var _n=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),vn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Fs=class{constructor(e,t){this.position=e,this.inclusive=t}};function aM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),t.key):r=Os(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$n(n.position[t],e.position[t]))return!1;return!0}var Ls=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function sz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Kh=class{},nt=class n extends Kh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $_(e,t,r):t==="array-contains"?new z_(e,r):t==="in"?new G_(e,r):t==="not-in"?new W_(e,r):t==="array-contains-any"?new K_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new H_(e,r):new q_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Os(t,this.value)):t!==null&&fi(this.value)===fi(t)&&this.matchesComparison(Os(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Hn=class n extends Kh{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new n(e,t)}matches(e){return oN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function oN(n){return n.op==="and"}function sN(n){return az(n)&&oN(n)}function az(n){for(let e of n.filters)if(e instanceof Hn)return!1;return!0}function B_(n){if(n instanceof nt)return n.field.canonicalString()+n.op.toString()+ks(n.value);if(sN(n))return n.filters.map(e=>B_(e)).join(",");{let e=n.filters.map(t=>B_(t)).join(",");return`${n.op}(${e})`}}function aN(n,e){return n instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)}(n,e):n instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&aN(s,i.filters[a]),!0):!1}(n,e):void X()}function cN(n){return n instanceof nt?function(t){return`${t.field.canonicalString()} ${t.op} ${ks(t.value)}`}(n):n instanceof Hn?function(t){return t.op.toString()+" {"+t.getFilters().map(cN).join(" ,")+"}"}(n):"Filter"}var $_=class extends nt{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},H_=class extends nt{constructor(e,t){super(e,"in",t),this.keys=uN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},q_=class extends nt{constructor(e,t){super(e,"not-in",t),this.keys=uN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function uN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var z_=class extends nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return wI(t)&&Qc(t.arrayValue,this.value)}},G_=class extends nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Qc(this.value.arrayValue,t)}},W_=class extends nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Qc(this.value.arrayValue,t)}},K_=class extends nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!wI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qc(this.value.arrayValue,r))}};var Q_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}};function uM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Q_(n,e,t,r,i,o,s)}function II(n){let e=ie(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>B_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),wf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ks(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ks(r)).join(",")),e.le=t}return e.le}function EI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cM(n.startAt,e.startAt)&&cM(n.endAt,e.endAt)}function Y_(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Vs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function cz(n,e,t,r,i,o,s,a){return new Vs(n,e,t,r,i,o,s,a)}function bI(n){return new Vs(n)}function lM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uz(n){return n.collectionGroup!==null}function Hc(n){let e=ie(n);if(e.he===null){e.he=[];let t=new Set;for(let o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ct(Yt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Ls(o,r))}),t.has(Yt.keyField().canonicalString())||e.he.push(new Ls(Yt.keyField(),r))}return e.he}function Un(n){let e=ie(n);return e.Pe||(e.Pe=lz(e,Hc(n))),e.Pe}function lz(n,e){if(n.limitType==="F")return uM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ls(i.field,o)});let t=n.endAt?new Fs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fs(n.startAt.position,n.startAt.inclusive):null;return uM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Z_(n,e,t){return new Vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ef(n,e){return EI(Un(n),Un(e))&&n.limitType===e.limitType}function lN(n){return`${II(Un(n))}|lt:${n.limitType}`}function Cs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>cN(i)).join(", ")}]`),wf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ks(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ks(i)).join(",")),`Target(${r})`}(Un(n))}; limitType=${n.limitType})`}function bf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Hc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=aM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Hc(r),i)||r.endAt&&!function(s,a,u){let l=aM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Hc(r),i))}(n,e)}function dz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dN(n){return(e,t)=>{let r=!1;for(let i of Hc(n)){let o=hz(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function hz(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Os(u,l):X()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var Ar=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return YM(this.inner)}size(){return this.innerSize}};var fz=new qe(J.comparator);function Rr(){return fz}var hN=new qe(J.comparator);function Bc(...n){let e=hN;for(let t of n)e=e.insert(t.key,t);return e}function fN(n){let e=hN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function no(){return qc()}function pN(){return qc()}function qc(){return new Ar(n=>n.toString(),(n,e)=>n.isEqual(e))}var pz=new qe(J.comparator),gz=new ct(J.comparator);function me(...n){let e=gz;for(let t of n)e=e.add(t);return e}var mz=new ct(ve);function yz(){return mz}function DI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function gN(n){return{integerValue:""+n}}function vz(n,e){return Gq(e)?gN(e):DI(n,e)}var js=class{constructor(){this._=void 0}};function _z(n,e,t){return n instanceof Us?function(i,o){let s={fields:{[JM]:{stringValue:ZM},[eN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yI(o)&&(o=If(o)),o&&(s.fields[XM]=o),{mapValue:s}}(t,e):n instanceof ao?yN(n,e):n instanceof co?vN(n,e):function(i,o){let s=mN(i,o),a=dM(s)+dM(i.Ie);return U_(s)&&U_(i.Ie)?gN(a):DI(i.serializer,a)}(n,e)}function wz(n,e,t){return n instanceof ao?yN(n,e):n instanceof co?vN(n,e):t}function mN(n,e){return n instanceof Bs?function(r){return U_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Us=class extends js{},ao=class extends js{constructor(e){super(),this.elements=e}};function yN(n,e){let t=_N(e);for(let r of n.elements)t.some(i=>$n(i,r))||t.push(r);return{arrayValue:{values:t}}}var co=class extends js{constructor(e){super(),this.elements=e}};function vN(n,e){let t=_N(e);for(let r of n.elements)t=t.filter(i=>!$n(i,r));return{arrayValue:{values:t}}}var Bs=class extends js{constructor(e,t){super(),this.serializer=e,this.Ie=t}};function dM(n){return Pe(n.integerValue||n.doubleValue)}function _N(n){return wI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Iz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ao&&i instanceof ao||r instanceof co&&i instanceof co?xs(r.elements,i.elements,$n):r instanceof Bs&&i instanceof Bs?$n(r.Ie,i.Ie):r instanceof Us&&i instanceof Us}(n.transform,e.transform)}var J_=class{constructor(e,t){this.version=e,this.transformResults=t}},io=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var $s=class{};function wN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qh(n.key,io.none()):new uo(n.key,n.data,io.none());{let t=n.data,r=vn.empty(),i=new ct(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mr(n.key,r,new Ln(i.toArray()),io.none())}}function Ez(n,e,t){n instanceof uo?function(i,o,s){let a=i.value.clone(),u=fM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Mr?function(i,o,s){if(!jh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=fM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(IN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function zc(n,e,t,r){return n instanceof uo?function(o,s,a,u){if(!jh(o.precondition,s))return a;let l=o.value.clone(),h=pM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Mr?function(o,s,a,u){if(!jh(o.precondition,s))return a;let l=pM(o.fieldTransforms,u,s),h=s.data;return h.setAll(IN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return jh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function bz(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=mN(r.transform,i||null);o!=null&&(t===null&&(t=vn.empty()),t.set(r.field,o))}return t||null}function hM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xs(r,i,(o,s)=>Iz(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var uo=class extends $s{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Mr=class extends $s{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function IN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function fM(n,e,t){let r=new Map;De(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,wz(s,a,t[i]))}return r}function pM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,_z(o,s,e))}return r}var Qh=class extends $s{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},X_=class extends $s{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ew=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Ez(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=zc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=zc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=pN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=wN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(t,r)=>hM(t,r))&&xs(this.baseMutations,e.baseMutations,(t,r)=>hM(t,r))}},tw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){De(e.mutations.length===r.length);let i=function(){return pz}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var nw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var rw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Qe,_e;function Dz(n){switch(n){case k.OK:return X();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return X()}}function EN(n){if(n===void 0)return Tr("GRPC error has no .code"),k.UNKNOWN;switch(n){case Qe.OK:return k.OK;case Qe.CANCELLED:return k.CANCELLED;case Qe.UNKNOWN:return k.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return k.INTERNAL;case Qe.UNAVAILABLE:return k.UNAVAILABLE;case Qe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Qe.NOT_FOUND:return k.NOT_FOUND;case Qe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Qe.ABORTED:return k.ABORTED;case Qe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Qe.DATA_LOSS:return k.DATA_LOSS;default:return X()}}(_e=Qe||(Qe={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var gM=null;function Tz(){return new TextEncoder}var Cz=new br([4294967295,4294967295],0);function mM(n){let e=Tz().encode(n),t=new w_;return t.update(e),new Uint8Array(t.digest())}function yM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new br([t,r],0),new br([i,o],0)]}var iw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ro(`Invalid padding: ${t}`);if(r<0)throw new ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ro(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=br.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(br.fromNumber(r)));return i.compare(Cz)===1&&(i=new br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let t=mM(e),[r,i]=yM(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;let t=mM(e),[r,i]=yM(t);for(let o=0;o<this.hashCount;o++){let s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ro=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new qe(ve),Rr(),me())}},Yc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,me(),me(),me())}};var Ms=class{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}},Zh=class{constructor(e,t){this.targetId=e,this.ge=t}},Jh=class{constructor(e,t,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Xh=class{constructor(){this.pe=0,this.ye=vM(),this.we=Ct.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=me(),t=me(),r=me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Yc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=vM()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,De(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},ow=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Rr(),this.$e=kh(),this.Ke=kh(),this.Ue=new qe(ve)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:X()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){let t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){let o=i.target;if(Y_(o))if(r===0){let s=new J(o.path);this.ze(t,s,_n.newNoDocument(s,se.min()))}else De(r===1);else{let s=this.et(t);if(s!==r){let a=this.tt(e),u=a?this.nt(a,e,s):1;if(u!==0){this.Ye(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,l)}gM?.rt(function(h,p,m,y,C){var M,R,V,W,q,ae;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},te=p.unchangedNames;return te&&(Ne.bloomFilter={applied:C===0,hashCount:(M=te?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(W=(V=(R=te?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&W!==void 0?W:0,padding:(ae=(q=te?.bits)===null||q===void 0?void 0:q.padding)!==null&&ae!==void 0?ae:0,mightContain:b=>{var _;return(_=y?.mightContain(b))!==null&&_!==void 0&&_}}),Ne}(s,e.ge,this.ke.it(),a,u))}}}}tt(e){let t=e.ge.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Sr(r).toUint8Array()}catch(u){if(u instanceof zh)return Ns("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new iw(s,i,o)}catch(u){return Ns(u instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,o,null),i++)}),i}ot(e){let t=new Map;this.qe.forEach((o,s)=>{let a=this.Xe(s);if(a){if(o.current&&Y_(a.target)){let u=new J(a.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,_n.newNoDocument(u,e))}o.ve&&(t.set(s,o.Fe()),o.Me())}});let r=me();this.Ke.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));let i=new Yh(e,t,this.Ue,this.Qe,r);return this.Qe=Rr(),this.$e=kh(),this.Ke=kh(),this.Ue=new qe(ve),i}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Xh,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new ct(ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ct(ve),this.$e=this.$e.insert(e,t)),t}Je(e){let t=this.Xe(e)!==null;return t||H("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Xh),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}};function kh(){return new qe(J.comparator)}function vM(){return new qe(J.comparator)}var Sz={asc:"ASCENDING",desc:"DESCENDING"},Az={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rz={and:"AND",or:"OR"},sw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function aw(n,e){return n.useProto3Json||wf(e)?e:{value:e}}function ef(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mz(n,e){return ef(n,e.toTimestamp())}function Bn(n){return De(!!n),se.fromTimestamp(function(t){let r=Cr(t);return new ft(r.seconds,r.nanos)}(n))}function TI(n,e){return cw(n,e).canonicalString()}function cw(n,e){let t=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DN(n){let e=Ze.fromString(n);return De(RN(e)),e}function uw(n,e){return TI(n.databaseId,e.path)}function C_(n,e){let t=DN(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(CN(t))}function TN(n,e){return TI(n.databaseId,e)}function Nz(n){let e=DN(n);return e.length===4?Ze.emptyPath():CN(e)}function lw(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CN(n){return De(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function _M(n,e,t){return{name:uw(n,e),fields:t.value.mapValue.fields}}function xz(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(De(h===void 0||typeof h=="string"),Ct.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ct.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:EN(l.code);return new Y(h,l.message||"")}(s);t=new Jh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=C_(n,r.document.name),o=Bn(r.document.updateTime),s=r.document.createTime?Bn(r.document.createTime):se.min(),a=new vn({mapValue:{fields:r.document.fields}}),u=_n.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ms(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=C_(n,r.document),o=r.readTime?Bn(r.readTime):se.min(),s=_n.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ms([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=C_(n,r.document),o=r.removedTargetIds||[];t=new Ms([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new rw(i,o),a=r.targetId;t=new Zh(a,s)}}return t}function Pz(n,e){let t;if(e instanceof uo)t={update:_M(n,e.key,e.value)};else if(e instanceof Qh)t={delete:uw(n,e.key)};else if(e instanceof Mr)t={update:_M(n,e.key,e.data),updateMask:$z(e.fieldMask)};else{if(!(e instanceof X_))return X();t={verify:uw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Us)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bs)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw X()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Mz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(n,e.precondition)),t}function Oz(n,e){return n&&n.length>0?(De(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Bn(i.updateTime):Bn(o);return s.isEqual(se.min())&&(s=Bn(o)),new J_(s,i.transformResults||[])}(t,e))):[]}function kz(n,e){return{documents:[TN(n,e.path)]}}function Fz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=TN(n,i);let o=function(l){if(l.length!==0)return AN(Hn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ss(m.field),direction:jz(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=aw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:t,parent:i}}function Lz(n){let e=Nz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){De(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=SN(p);return m instanceof Hn&&sN(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(C){return new Ls(As(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,wf(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Fs(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Fs(y,m)}(t.endAt)),cz(e,i,s,o,a,"F",u,l)}function Vz(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=As(t.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=As(t.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=As(t.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=As(t.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(n):n.fieldFilter!==void 0?function(t){return nt.create(As(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hn.create(t.compositeFilter.filters.map(r=>SN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(t.compositeFilter.op))}(n):X()}function jz(n){return Sz[n]}function Uz(n){return Az[n]}function Bz(n){return Rz[n]}function Ss(n){return{fieldPath:n.canonicalString()}}function As(n){return Yt.fromServerFormat(n.fieldPath)}function AN(n){return n instanceof nt?function(t){if(t.op==="=="){if(sM(t.value))return{unaryFilter:{field:Ss(t.field),op:"IS_NAN"}};if(oM(t.value))return{unaryFilter:{field:Ss(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sM(t.value))return{unaryFilter:{field:Ss(t.field),op:"IS_NOT_NAN"}};if(oM(t.value))return{unaryFilter:{field:Ss(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(t.field),op:Uz(t.op),value:t.value}}}(n):n instanceof Hn?function(t){let r=t.getFilters().map(i=>AN(i));return r.length===1?r[0]:{compositeFilter:{op:Bz(t.op),filters:r}}}(n):X()}function $z(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Zc=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var dw=class{constructor(e){this.Tt=e}};function Hz(n){let e=Lz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Z_(e,e.limit,"L"):e}var tf=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Wc(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Cr(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Sr(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?rN(e)?this.ft(t,Number.MAX_SAFE_INTEGER):nN(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):X()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=Ps,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Pe(a)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),J.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};tf.xt=new tf;var hw=class{constructor(){this.Tn=new fw}addToCollectionParentIndex(e,t){return this.Tn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(so.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(so.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},fw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(Ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Ze.comparator)).toArray()}};var IZ=new Uint8Array(0);var wM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MN=41943040,on=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(MN,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);var Jc=class n{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new n(0)}static Un(){return new n(-1)}};var IM="LruGarbageCollector",qz=1048576;function EM([n,e],[t,r]){let i=ve(n,t);return i===0?ve(e,r):i}var pw=class{constructor(e){this.Hn=e,this.buffer=new ct(EM),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();EM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},gw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){H(IM,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gs(t)?H(IM,"Ignoring IndexedDB error during garbage collection: ",t):yield zs(t)}yield this.er(3e5)}))}},mw=class{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(gI.ae);let r=new pw(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(wM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wM):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ts()<=pe.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function zz(n,e){return new mw(n,e)}var yw=class{constructor(){this.changes=new Ar(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var _w=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&zc(r.mutation,i,Ln.empty(),ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){let i=no();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Bc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=no();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Rr(),s=qc(),a=function(){return qc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Mr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),zc(h.mutation,l,h.mutation.getFieldMask(),ft.now())):s.set(l.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new vw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=qc(),i=new qe((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Ln.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=pN();h.forEach(m=>{if(!o.has(m)){let y=wN(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(no()),a=Gc,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:fN(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=Bc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Bc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=function(p,m){return new Vs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,_n.newInvalidDocument(h)))});let a=Bc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&zc(h.mutation,l,Ln.empty(),ft.now()),bf(t,l)&&(a=a.insert(u,l))}),a})}};var ww=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return O.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}}(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Hz(i.bundledQuery),readTime:Bn(i.readTime)}}(t)),O.resolve()}};var Iw=class{constructor(){this.overlays=new qe(J.comparator),this.Rr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=no();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=no(),o=t.length+1,s=new J(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new qe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=no(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=no(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}Et(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nw(t,r));let o=this.Rr.get(t);o===void 0&&(o=me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}};var Ew=class{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var Xc=class{constructor(){this.Vr=new ct(Ye.mr),this.gr=new ct(Ye.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new Ye(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ye(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){let t=new J(new Ze([])),r=new Ye(t,e),i=new Ye(t,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new J(new Ze([])),r=new Ye(t,e),i=new Ye(t,e+1),o=me();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ye(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ye=class{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return J.comparator(e.key,t.key)||ve(e.Cr,t.Cr)}static pr(e,t){return ve(e.Cr,t.Cr)||J.comparator(e.key,t.key)}};var bw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ct(Ye.mr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ew(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Mr=this.Mr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Nr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?mI:this.Fr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ye(t,0),i=new Ye(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{let a=this.Or(s.Cr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(ve);return t.forEach(i=>{let o=new Ye(i,0),s=new Ye(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),O.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new J(o),0),a=new ct(ve);return this.Mr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Cr)),!0)},s),O.resolve(this.Br(a))}Br(e){let t=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){De(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return O.forEach(t.mutations,i=>{let o=new Ye(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new Ye(t,0),i=this.Mr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Dw=class{constructor(e){this.kr=e,this.docs=function(){return new qe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let r=Rr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():_n.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Rr(),s=t.path,a=new J(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Hq($q(h),r)<=0||(i.has(h.key)||bf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X()}qr(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Tw(this)}getSize(e){return O.resolve(this.size)}},Tw=class extends yw{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}};var Cw=class{constructor(e){this.persistence=e,this.Qr=new Ar(t=>II(t),EI),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Xc,this.targetCount=0,this.Ur=Jc.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),O.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Ur=new Jc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.zn(t),O.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Kr.vr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.Kr.containsKey(t))}};var nf=class{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new gI(0),this.zr=!1,this.zr=!0,this.jr=new Ew,this.referenceDelegate=e(this),this.Hr=new Cw(this),this.indexManager=new hw,this.remoteDocumentCache=function(i){return new Dw(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new dw(t),this.Yr=new ww(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Iw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new bw(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){H("MemoryPersistence","Starting transaction:",e);let i=new Sw(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return O.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}},Sw=class extends L_{constructor(e){super(),this.currentSequenceNumber=e}},Aw=class n{constructor(e){this.persistence=e,this.ti=new Xc,this.ni=null}static ri(e){return new n(e)}get ii(){if(this.ni)return this.ni;throw X()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),O.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.ii,r=>{let i=J.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return O.or([()=>O.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}},rf=class n{constructor(e,t){this.persistence=e,this.oi=new Ar(r=>Wq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=zz(this,t)}static ri(e,t){return new n(e,t)}Zr(){}Xr(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return O.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,t).next(a=>{a||(r++,o.removeEntry(s,se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),O.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lh(e.data.value)),t}ar(e,t,r){return O.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.oi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Rw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=me(),i=me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Mw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Nw=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ZS()?8:zq(ot())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Mw;return this._s(e,t,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,t,s,a.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Ts()<=pe.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Cs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),O.resolve()):(Ts()<=pe.DEBUG&&H("QueryEngine","Query:",Cs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ts()<=pe.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Cs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):O.resolve())}rs(e,t){if(lM(t))return O.resolve(null);let r=Un(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Z_(t,null,"F"),r=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.cs(t,a);return this.ls(t,l,s,u.readTime)?this.rs(e,Z_(t,null,"F")):this.hs(e,l,t,u)}))})))}ss(e,t,r,i){return lM(t)||i.isEqual(se.min())?O.resolve(null):this.ns.getDocuments(e,r).next(o=>{let s=this.cs(t,o);return this.ls(t,s,r,i)?O.resolve(null):(Ts()<=pe.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cs(t)),this.hs(e,s,t,Bq(i,Gc)).next(a=>a))})}cs(e,t){let r=new ct(dN(e));return t.forEach((i,o)=>{bf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Ts()<=pe.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Cs(t)),this.ns.getDocumentsMatchingQuery(e,t,so.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var CI="LocalStore",Gz=3e8,xw=class{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new qe(ve),this.Is=new Ar(o=>II(o),EI),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _w(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}};function Wz(n,e,t,r){return new xw(n,e,t,r)}function NN(n,e){return v(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Rs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Kz(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(M=>{let R=l.docVersions.get(C);De(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function xN(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Qz(n,e){let t=ie(n),r=e.snapshotVersion,i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Hr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Hr.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ct.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,R,V){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Gz?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,h)&&a.push(t.Hr.updateTargetData(o,y))});let u=Rr(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Yz(o,s,e.documentUpdates).next(h=>{u=h.Vs,l=h.fs})),!r.isEqual(se.min())){let h=t.Hr.getLastRemoteSnapshotVersion(o).next(p=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ts=i,o))}function Yz(n,e,t){let r=me(),i=me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Rr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):H(CI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function Zz(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=mI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jz(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.Hr.allocateTargetId(r).next(s=>(i=new Zc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}function Pw(n,e,t){return v(this,null,function*(){let r=ie(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Gs(s))throw s;H(CI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function bM(n,e,t){let r=ie(n),i=se.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ie(u),m=p.Is.get(h);return m!==void 0?O.resolve(p.Ts.get(m)):p.Hr.getTargetData(l,h)}(r,s,Un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:me())).next(a=>(Xz(r,dz(e),a),{documents:a,gs:o})))}function Xz(n,e,t){let r=n.Es.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}var of=class{constructor(){this.activeTargetIds=yz()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ow=class{constructor(){this.ho=new of,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new of,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kw=class{To(e){}shutdown(){}};var DM="ConnectivityMonitor",sf=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){H(DM,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){H(DM,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fh=null;function Fw(){return Fh===null?Fh=function(){return 268435456+Math.round(2147483648*Math.random())}():Fh++,"0x"+Fh.toString(16)}var S_="RestConnection",e4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Lw=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Gh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){let s=Fw(),a=this.bo(e,t.toUriEncodedString());H(S_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,a,u,r).then(l=>(H(S_,`Received RPC '${e}' ${s}: `,l),l),l=>{throw Ns(S_,`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}Co(e,t,r,i,o,s){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){let r=e4[e];return`${this.po}/v1/${t}:${r}`}terminate(){}};var Vw=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}};var Tt="WebChannelConnection",jw=class extends Lw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){let o=Fw();return new Promise((s,a)=>{let u=new I_;u.setWithCredentials(!0),u.listenOnce(E_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uc.NO_ERROR:let h=u.getResponseJson();H(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Uc.TIMEOUT:H(Tt,`RPC '${e}' ${o} timed out`),a(new Y(k.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:let p=u.getStatus();if(H(Tt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(R){let V=R.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(V)>=0?V:k.UNKNOWN}(y.status);a(new Y(C,y.message))}else a(new Y(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Y(k.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{H(Tt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);H(Tt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Wo(e,t,r){let i=Fw(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=T_(),a=D_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");H(Tt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,C=new Vw({Fo:R=>{y?H(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(H(Tt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),H(Tt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Mo:()=>p.close()}),M=(R,V,W)=>{R.listen(V,q=>{try{W(q)}catch(ae){setTimeout(()=>{throw ae},0)}})};return M(p,Ds.EventType.OPEN,()=>{y||(H(Tt,`RPC '${e}' stream ${i} transport opened.`),C.Qo())}),M(p,Ds.EventType.CLOSE,()=>{y||(y=!0,H(Tt,`RPC '${e}' stream ${i} transport closed`),C.Ko())}),M(p,Ds.EventType.ERROR,R=>{y||(y=!0,Ns(Tt,`RPC '${e}' stream ${i} transport errored:`,R),C.Ko(new Y(k.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ds.EventType.MESSAGE,R=>{var V;if(!y){let W=R.data[0];De(!!W);let q=W,ae=q?.error||((V=q[0])===null||V===void 0?void 0:V.error);if(ae){H(Tt,`RPC '${e}' stream ${i} received error:`,ae);let Ne=ae.status,te=function(w){let E=Qe[w];if(E!==void 0)return EN(E)}(Ne),b=ae.message;te===void 0&&(te=k.INTERNAL,b="Unknown error status: "+Ne+" with message "+ae.message),y=!0,C.Ko(new Y(te,b)),p.close()}else H(Tt,`RPC '${e}' stream ${i} received:`,W),C.Uo(W)}}),M(a,b_.STAT_EVENT,R=>{R.stat===Ph.PROXY?H(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ph.NOPROXY&&H(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}};function A_(){return typeof document<"u"?document:null}function Df(n){return new sw(n,!0)}var af=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var TM="PersistentStream",cf=class{constructor(e,t,r,i,o,s,a,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new af(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return v(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return v(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,t){return v(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(t)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{let i=new Y(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>v(this,null,function*(){this.state=0,this.start()}))}m_(e){return H(TM,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(H(TM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Uw=class extends cf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=xz(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Bn(s.readTime):se.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=lw(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Y_(u)?{documents:kz(o,u)}:{query:Fz(o,u).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=bN(o,s.resumeToken);let l=aw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=ef(o,s.snapshotVersion.toTimestamp());let l=aw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Vz(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=lw(this.serializer),t.removeTarget=e,this.I_(t)}},Bw=class extends cf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let t=Oz(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.v_(r,t)}C_(){let e={};e.database=lw(this.serializer),this.I_(e)}b_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Pz(this.serializer,r))};this.I_(t)}};var $w=class{},Hw=class extends $w{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Y(k.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,cw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(k.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,cw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(k.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},qw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Tr(t),this.N_=!1):H("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var lo="RemoteStore",zw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(()=>v(this,null,function*(){fo(this)&&(H(lo,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ie(u);l.W_.add(4),yield cu(l),l.j_.set("Unknown"),l.W_.delete(4),yield Tf(l)})}(this))}))}),this.j_=new qw(r,i)}};function Tf(n){return v(this,null,function*(){if(fo(n))for(let e of n.G_)yield e(!0)})}function cu(n){return v(this,null,function*(){for(let e of n.G_)yield e(!1)})}function PN(n,e){let t=ie(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),MI(t)?RI(t):Ws(t).c_()&&AI(t,e))}function SI(n,e){let t=ie(n),r=Ws(t);t.U_.delete(e),r.c_()&&ON(t,e),t.U_.size===0&&(r.c_()?r.P_():fo(t)&&t.j_.set("Unknown"))}function AI(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ws(n).y_(e)}function ON(n,e){n.H_.Ne(e),Ws(n).w_(e)}function RI(n){n.H_=new ow({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ws(n).start(),n.j_.B_()}function MI(n){return fo(n)&&!Ws(n).u_()&&n.U_.size>0}function fo(n){return ie(n).W_.size===0}function kN(n){n.H_=void 0}function t4(n){return v(this,null,function*(){n.j_.set("Online")})}function n4(n){return v(this,null,function*(){n.U_.forEach((e,t)=>{AI(n,e)})})}function r4(n,e){return v(this,null,function*(){kN(n),MI(n)?(n.j_.q_(e),RI(n)):n.j_.set("Unknown")})}function i4(n,e,t){return v(this,null,function*(){if(n.j_.set("Online"),e instanceof Jh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.U_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.U_.delete(a),i.H_.removeTarget(a))})}(n,e)}catch(r){H(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uf(n,r)}else if(e instanceof Ms?n.H_.We(e):e instanceof Zh?n.H_.Ze(e):n.H_.je(e),!t.isEqual(se.min()))try{let r=yield xN(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.H_.ot(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.U_.get(l);h&&o.U_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.U_.get(u);if(!h)return;o.U_.set(u,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),ON(o,u);let p=new Zc(h.target,u,l,h.sequenceNumber);AI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){H(lo,"Failed to raise snapshot:",r),yield uf(n,r)}})}function uf(n,e,t){return v(this,null,function*(){if(!Gs(e))throw e;n.W_.add(1),yield cu(n),n.j_.set("Offline"),t||(t=()=>xN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){H(lo,"Retrying IndexedDB access"),yield t(),n.W_.delete(1),yield Tf(n)}))})}function FN(n,e){return e().catch(t=>uf(n,t,e))}function Cf(n){return v(this,null,function*(){let e=ie(n),t=pi(e),r=e.K_.length>0?e.K_[e.K_.length-1].batchId:mI;for(;o4(e);)try{let i=yield Zz(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,s4(e,i)}catch(i){yield uf(e,i)}LN(e)&&VN(e)})}function o4(n){return fo(n)&&n.K_.length<10}function s4(n,e){n.K_.push(e);let t=pi(n);t.c_()&&t.S_&&t.b_(e.mutations)}function LN(n){return fo(n)&&!pi(n).u_()&&n.K_.length>0}function VN(n){pi(n).start()}function a4(n){return v(this,null,function*(){pi(n).C_()})}function c4(n){return v(this,null,function*(){let e=pi(n);for(let t of n.K_)e.b_(t.mutations)})}function u4(n,e,t){return v(this,null,function*(){let r=n.K_.shift(),i=tw.from(r,e,t);yield FN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Cf(n)})}function l4(n,e){return v(this,null,function*(){e&&pi(n).S_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return Dz(s)&&s!==k.ABORTED}(i.code)){let o=r.K_.shift();pi(r).h_(),yield FN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Cf(r)}})}(n,e)),LN(n)&&VN(n)})}function CM(n,e){return v(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),H(lo,"RemoteStore received new credentials");let r=fo(t);t.W_.add(3),yield cu(t),r&&t.j_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),yield Tf(t)})}function d4(n,e){return v(this,null,function*(){let t=ie(n);e?(t.W_.delete(2),yield Tf(t)):e||(t.W_.add(2),yield cu(t),t.j_.set("Unknown"))})}function Ws(n){return n.J_||(n.J_=function(t,r,i){let o=ie(t);return o.M_(),new Uw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:t4.bind(null,n),No:n4.bind(null,n),Lo:r4.bind(null,n),p_:i4.bind(null,n)}),n.G_.push(e=>v(this,null,function*(){e?(n.J_.h_(),MI(n)?RI(n):n.j_.set("Unknown")):(yield n.J_.stop(),kN(n))}))),n.J_}function pi(n){return n.Y_||(n.Y_=function(t,r,i){let o=ie(t);return o.M_(),new Bw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:a4.bind(null,n),Lo:l4.bind(null,n),D_:c4.bind(null,n),v_:u4.bind(null,n)}),n.G_.push(e=>v(this,null,function*(){e?(n.Y_.h_(),yield Cf(n)):(yield n.Y_.stop(),n.K_.length>0&&(H(lo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))}))),n.Y_}var Gw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function NI(n,e){if(Tr("AsyncQueue",`${e}: ${n}`),Gs(n))return new Y(k.UNAVAILABLE,`${e}: ${n}`);throw n}var lf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=Bc(),this.sortedSet=new qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var df=class{constructor(){this.Z_=new qe(J.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):X():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}},Hs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,lf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ww=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},Kw=class{constructor(){this.queries=SM(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=SM(),o.forEach((s,a)=>{for(let u of a.ta)u.onError(r)})})(this,new Y(k.ABORTED,"Firestore shutting down"))}};function SM(){return new Ar(n=>lN(n),Ef)}function h4(n,e){return v(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new Ww,r=e.ra()?0:1);try{switch(r){case 0:o.ea=yield t.onListen(i,!0);break;case 1:o.ea=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=NI(s,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&xI(t)})}function f4(n,e){return v(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function p4(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&xI(t)}function g4(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.ta)o.onError(t);r.queries.delete(e)}function xI(n){n.ia.forEach(e=>{e.next()})}var Qw,AM;(AM=Qw||(Qw={}))._a="default",AM.Cache="cache";var Yw=class{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;let r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;let t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Qw.Cache}};var hf=class{constructor(e){this.key=e}},ff=class{constructor(e){this.key=e}},Zw=class{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=me(),this.mutatedKeys=me(),this.ya=dN(e),this.wa=new lf(this.ya)}get Sa(){return this.fa}ba(e,t){let r=t?t.Da:new df,i=t?t.wa:this.wa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=bf(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==M&&(r.track({type:3,doc:y}),R=!0):this.va(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.ya(y,u)>0||l&&this.ya(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((h,p)=>function(y,C){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return M(y)-M(C)}(h.type,p.type)||this.ya(h.doc,p.doc)),this.Ca(r),i=i!=null&&i;let a=t&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,l=u!==this.ga;return this.ga=u,s.length!==0||l?{snapshot:new Hs(this.query,e.wa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new df,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new ff(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new hf(r))}),t}Oa(e){this.fa=e.gs,this.pa=me();let t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Hs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},PI="SyncEngine",Jw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Xw=class{constructor(e){this.key=e,this.Ba=!1}},eI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new Ar(a=>lN(a),Ef),this.qa=new Map,this.Qa=new Set,this.$a=new qe(J.comparator),this.Ka=new Map,this.Ua=new Xc,this.Wa={},this.Ga=new Map,this.za=Jc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function m4(n,e,t=!0){return v(this,null,function*(){let r=qN(n),i,o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=yield jN(r,e,t,!0),i})}function y4(n,e){return v(this,null,function*(){let t=qN(n);yield jN(t,e,!0,!1)})}function jN(n,e,t,r){return v(this,null,function*(){let i=yield Jz(n.localStore,Un(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield v4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&PN(n.remoteStore,i),a})}function v4(n,e,t,r,i){return v(this,null,function*(){n.Ha=(p,m,y)=>function(M,R,V,W){return v(this,null,function*(){let q=R.view.ba(V);q.ls&&(q=yield bM(M.localStore,R.query,!1).then(({documents:b})=>R.view.ba(b,q)));let ae=W&&W.targetChanges.get(R.targetId),Ne=W&&W.targetMismatches.get(R.targetId)!=null,te=R.view.applyChanges(q,M.isPrimaryClient,ae,Ne);return MM(M,R.targetId,te.Ma),te.snapshot})}(n,p,m,y);let o=yield bM(n.localStore,e,!0),s=new Zw(e,o.gs),a=s.ba(o.documents),u=Yc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);MM(n,t,l.Ma);let h=new Jw(e,t,s);return n.ka.set(e,h),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),l.snapshot})}function _4(n,e,t){return v(this,null,function*(){let r=ie(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!Ef(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Pw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&SI(r.remoteStore,i.targetId),tI(r,i.targetId)}).catch(zs))):(tI(r,i.targetId),yield Pw(r.localStore,i.targetId,!0))})}function w4(n,e){return v(this,null,function*(){let t=ie(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),SI(t.remoteStore,r.targetId))})}function I4(n,e,t){return v(this,null,function*(){let r=A4(n);try{let i=yield function(s,a){let u=ie(s),l=ft.now(),h=a.reduce((y,C)=>y.add(C.key),me()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Rr(),M=me();return u.ds.getEntries(y,h).next(R=>{C=R,C.forEach((V,W)=>{W.isValidDocument()||(M=M.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let V=[];for(let W of a){let q=bz(W,p.get(W.key).overlayedDocument);q!=null&&V.push(new Mr(W.key,q,iN(q.value.mapValue),io.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(R=>{m=R;let V=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,V)})}).then(()=>({batchId:m.batchId,changes:fN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Wa[s.currentUser.toKey()];l||(l=new qe(ve)),l=l.insert(a,u),s.Wa[s.currentUser.toKey()]=l}(r,i.batchId,t),yield uu(r,i.changes),yield Cf(r.remoteStore)}catch(i){let o=NI(i,"Failed to persist write");t.reject(o)}})}function UN(n,e){return v(this,null,function*(){let t=ie(n);try{let r=yield Qz(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Ka.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?De(s.Ba):i.removedDocuments.size>0&&(De(s.Ba),s.Ba=!1))}),yield uu(t,r,e)}catch(r){yield zs(r)}})}function RM(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ka.forEach((o,s)=>{let a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.ta)m.sa(a)&&(l=!0)}),l&&xI(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function E4(n,e,t){return v(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ka.get(e),o=i&&i.key;if(o){let s=new qe(J.comparator);s=s.insert(o,_n.newNoDocument(o,se.min()));let a=me().add(o),u=new Yh(se.min(),new Map,new qe(ve),s,a);yield UN(r,u),r.$a=r.$a.remove(o),r.Ka.delete(e),OI(r)}else yield Pw(r.localStore,e,!1).then(()=>tI(r,e,t)).catch(zs)})}function b4(n,e){return v(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield Kz(t.localStore,e);$N(t,r,null),BN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield uu(t,i)}catch(i){yield zs(i)}})}function D4(n,e,t){return v(this,null,function*(){let r=ie(n);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(De(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);$N(r,e,t),BN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield uu(r,i)}catch(i){yield zs(i)}})}function BN(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function $N(n,e,t){let r=ie(n),i=r.Wa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function tI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||HN(n,r)})}function HN(n,e){n.Qa.delete(e.path.canonicalString());let t=n.$a.get(e);t!==null&&(SI(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),OI(n))}function MM(n,e,t){for(let r of t)r instanceof hf?(n.Ua.addReference(r.key,e),T4(n,r)):r instanceof ff?(H(PI,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||HN(n,r.key)):X()}function T4(n,e){let t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(H(PI,"New document in limbo: "+t),n.Qa.add(r),OI(n))}function OI(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){let e=n.Qa.values().next().value;n.Qa.delete(e);let t=new J(Ze.fromString(e)),r=n.za.next();n.Ka.set(r,new Xw(t)),n.$a=n.$a.insert(t,r),PN(n.remoteStore,new Zc(Un(bI(t.path)),r,"TargetPurposeLimboResolution",gI.ae))}}function uu(n,e,t){return v(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,u)=>{s.push(r.Ha(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Rw.Yi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.La.p_(i),yield function(u,l){return v(this,null,function*(){let h=ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.Hi,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.Ji,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Gs(p))throw p;H(CI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Ts.get(m),C=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(C);h.Ts=h.Ts.insert(m,M)}}})}(r.localStore,o))})}function C4(n,e){return v(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){H(PI,"User change. New user:",e.toKey());let r=yield NN(t.localStore,e);t.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(u=>{u.reject(new Y(k.CANCELLED,s))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uu(t,r.Rs)}})}function S4(n,e){let t=ie(n),r=t.Ka.get(e);if(r&&r.Ba)return me().add(r.key);{let i=me(),o=t.qa.get(e);if(!o)return i;for(let s of o){let a=t.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function qN(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E4.bind(null,e),e.La.p_=p4.bind(null,e.eventManager),e.La.Ja=g4.bind(null,e.eventManager),e}function A4(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D4.bind(null,e),e}var zN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Df(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),yield this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)})}tu(t,r){return null}nu(t,r){return null}eu(t){return Wz(this.persistence,new Nw,t.initialUser,this.serializer)}Xa(t){return new nf(Aw.ri,this.serializer)}Za(t){return new Ow}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),nI=class extends zN{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){De(this.persistence.referenceDelegate instanceof rf);let r=this.persistence.referenceDelegate.garbageCollector;return new gw(r,e.asyncQueue,t)}Xa(e){let t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new nf(r=>rf.ri(r,t),this.serializer)}};var R4=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=C4.bind(null,this.syncEngine),yield d4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Kw}()}createDatastore(t){let r=Df(t.databaseInfo.databaseId),i=function(s){return new jw(s)}(t.databaseInfo);return function(s,a,u,l){return new Hw(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new zw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>RM(this.syncEngine,r,0),function(){return sf.D()?new sf:new kw}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new eI(o,s,a,u,l,h);return p&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=ie(o);H(lo,"RemoteStore shutting down."),s.W_.add(5),yield cu(s),s.z_.shutdown(),s.j_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var rI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var gi="FirestoreClient",iI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=$h.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){H(gi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(H(gi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=NI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function R_(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),H(gi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield NN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function NM(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield M4(n);H(gi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>CM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>CM(e.remoteStore,i)),n._onlineComponents=e})}function M4(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){H(gi,"Using user provided OfflineComponentProvider");try{yield R_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ns("Error using user provided cache. Falling back to memory cache: "+t),yield R_(n,new zN)}}else H(gi,"Using default OfflineComponentProvider"),yield R_(n,new nI(void 0));return n._offlineComponents})}function GN(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(H(gi,"Using user provided OnlineComponentProvider"),yield NM(n,n._uninitializedComponentsProvider._online)):(H(gi,"Using default OnlineComponentProvider"),yield NM(n,new R4))),n._onlineComponents})}function N4(n){return GN(n).then(e=>e.syncEngine)}function x4(n){return v(this,null,function*(){let e=yield GN(n),t=e.eventManager;return t.onListen=m4.bind(null,e.syncEngine),t.onUnlisten=_4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=y4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=w4.bind(null,e.syncEngine),t})}function P4(n,e,t={}){let r=new Vn;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new rI({next:m=>{h.su(),s.enqueueAndForget(()=>f4(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new Y(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new Y(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Yw(bI(a.path),h,{includeMetadataChanges:!0,Ta:!0});return h4(o,p)}(yield x4(n),n.asyncQueue,e,t,r)})),r.promise}function WN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var xM=new Map;function O4(n,e,t){if(!t)throw new Y(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k4(n,e,t,r){if(e===!0&&r===!0)throw new Y(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function PM(n){if(!J.isDocumentKey(n))throw new Y(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X()}function eu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=kI(n);throw new Y(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var KN="firestore.googleapis.com",OM=!0,pf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KN,this.ssl=OM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:OM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qz)throw new Y(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},tu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M_;switch(r.type){case"firstParty":return new O_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=xM.get(t);r&&(H("ComponentProvider","Removing Datastore"),xM.delete(t),r.terminate())}(this),Promise.resolve()}};function F4(n,e,t,r={}){var i;let o=(n=eu(n,tu))._getSettings(),s=`${e}:${t}`;if(o.host!==KN&&o.host!==s&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=at.MOCK_USER;else{a=GS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Y(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new at(l)}n._authCredentials=new N_(new Uh(a,u))}}var oI=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},sn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},nu=class n extends oI{constructor(e,t,r){super(e,t,bI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function FI(n,e,...t){if(n=tt(n),arguments.length===1&&(e=$h.newId()),O4("doc","path",e),n instanceof tu){let r=Ze.fromString(e,...t);return PM(r),new sn(n,null,new J(r))}{if(!(n instanceof sn||n instanceof nu))throw new Y(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return PM(r),new sn(n.firestore,n instanceof nu?n.converter:null,new J(r))}}var kM="AsyncQueue",gf=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new af(this,"async_queue_retry"),this.Su=()=>{let r=A_();r&&H(kM,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=A_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=A_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new Vn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return v(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Gs(e))throw e;H(kM,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=Gw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&X()}verifyOperationInProgress(){}Mu(){return v(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};var ru=class extends tu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new gf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new gf(e),this._firestoreClient=void 0,yield e}})}};function QN(n,e){let t=typeof n=="object"?n:Qi(),r=typeof n=="string"?n:e||Gh,i=yn(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=zS("firestore");o&&F4(i,...o)}return i}function YN(n){if(n._terminated)throw new Y(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L4(n),n._firestoreClient}function L4(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new V_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,WN(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new iI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var iu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ct.fromBase64String(e))}catch(t){throw new Y(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ou=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Y(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var mf=class{constructor(e){this._methodName=e}};var su=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var au=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var V4=/^__.*__$/,sI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms):new uo(e,this.data,t,this.fieldTransforms)}};function ZN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var aI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ZN(this.Lu)&&V4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},cI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Df(e)}ju(e,t,r,i=!1){return new aI({Lu:e,methodName:t,zu:r,path:Yt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function j4(n){let e=n._freezeSettings(),t=Df(n._databaseId);return new cI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function U4(n,e,t,r,i,o={}){let s=n.ju(o.merge||o.mergeFields?2:0,e,t,i);tx("Data must be an object, but it was:",s,r);let a=XN(r,s),u,l;if(o.merge)u=new Ln(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=B4(e,p,t);if(!s.contains(m))throw new Y(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);H4(h,m)||h.push(m)}u=new Ln(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new sI(new vn(a),u,l)}function JN(n,e){if(ex(n=tt(n)))return tx("Unsupported field value:",e,n),XN(n,e);if(n instanceof mf)return function(r,i){if(!ZN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=JN(a,i.Uu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ft.fromDate(r);return{timestampValue:ef(i.serializer,o)}}if(r instanceof ft){let o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ef(i.serializer,o)}}if(r instanceof su)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof iu)return{bytesValue:bN(i.serializer,r._byteString)};if(r instanceof sn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:TI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof au)return function(s,a){return{mapValue:{fields:{[vI]:{stringValue:_I},[Ps]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Wu("VectorValues must only contain numeric values.");return DI(a.serializer,l)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${kI(r)}`)}(n,e)}function XN(n,e){let t={};return YM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(n,(r,i)=>{let o=JN(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ex(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof su||n instanceof iu||n instanceof sn||n instanceof mf||n instanceof au)}function tx(n,e,t){if(!ex(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=kI(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function B4(n,e,t){if((e=tt(e))instanceof ou)return e._internalPath;if(typeof e=="string")return nx(n,e);throw yf("Field path arguments must be of type string or ",n,!1,void 0,t)}var $4=new RegExp("[~\\*/\\[\\]]");function nx(n,e,t){if(e.search($4)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ou(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Y(k.INVALID_ARGUMENT,a+n+u)}function H4(n,e){return n.some(t=>t.isEqual(e))}var vf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(rx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},uI=class extends vf{data(){return super.data()}};function rx(n,e){return typeof e=="string"?nx(n,e):e instanceof ou?e._internalPath:e._delegate._internalPath}var lI=class{convertValue(e,t="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ho(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ps].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new au(o)}convertGeoPoint(e){return new su(Pe(e.latitude),Pe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=If(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){let t=Cr(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ze.fromString(e);De(RN(r));let i=new Wh(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(t)||Tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function q4(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var dI=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_f=class extends vf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new hI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(rx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},hI=class extends _f{data(e={}){return super.data(e)}};function ix(n){n=eu(n,sn);let e=eu(n.firestore,ru);return P4(YN(e),n._key).then(t=>G4(e,n,t))}var fI=class extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}};function ox(n,e,t){n=eu(n,sn);let r=eu(n.firestore,ru),i=q4(n.converter,e,t);return z4(r,[U4(j4(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,io.none())])}function z4(n,e){return function(r,i){let o=new Vn;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return I4(yield N4(r),i,o)})),o.promise}(YN(n),e)}function G4(n,e,t){let r=t.docs.get(e._key),i=new fI(n);return new _f(n,i,e._key,r,new dI(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){qs=i})(ui),Lt(new st("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ru(new x_(r.getProvider("auth-internal")),new k_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Y(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ht(YR,ZR,e),ht(YR,ZR,"esm2017")})();var LI={apiKey:"AIzaSyBv9p-__ZIGfCoYs_UUql9t2NL516pi-4g",authDomain:"angular-app-template-66c6b.firebaseapp.com",projectId:"angular-app-template-66c6b",storageBucket:"angular-app-template-66c6b.firebasestorage.app",messagingSenderId:"772016665122",appId:"1:772016665122:web:7894cbab8601b5c7d8907b",measurementId:"G-L891WVR8SZ"},sx=Ac(LI),VI=QN(sx),RZ=WR(sx);var ze=class n{constructor(e){this.http=e;let t=localStorage.getItem("appLanguage")||"en";this.loadTranslations(t)}translations={};currentLang=new Ge("en");loadTranslations(e){let t="/assets/i18n/"+e+".json";this.http.get(t).subscribe({next:r=>{this.translations=r,this.currentLang.next(e)},error:r=>console.error(`Failed to load translations for ${e}:`,r)})}translate(e){return this.translations[e]||e}setLanguage(e){localStorage.setItem("appLanguage",e),this.loadTranslations(e)}getCurrentLangObservable(){return this.currentLang.asObservable()}getCurrentLang(){return this.currentLang.getValue()}static \u0275fac=function(t){return new(t||n)(z(Ka))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ks=class n{constructor(e){this.injector=e}defaultPreferences={language:"en"};authService=null;getAuthService(){return this.authService||(this.authService=this.injector.get(Ut)),this.authService}savePreferences(e){return v(this,null,function*(){let t=this.getAuthService().getCurrentUser();if(t){let r=FI(VI,"userPreferences",t.uid);yield ox(r,e)}else throw new Error("User not logged in")})}getPreferences(){return v(this,null,function*(){let e=this.getAuthService().getCurrentUser();if(e){let t=FI(VI,"userPreferences",e.uid),r=yield ix(t);return r.exists()?r.data():this.defaultPreferences}else throw new Error("User not logged in")})}static \u0275fac=function(t){return new(t||n)(z(xt))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ut=class n{constructor(e,t){this.translateService=e;this.userPreferencesService=t;this.monitorAuthState()}auth=o_(Ac(LI));currentUser=null;authStateSubject=new Ge(this.isAuthenticated());authState$=this.authStateSubject.asObservable();monitorAuthState(){r_(this.auth,e=>{this.currentUser=e,this.authStateSubject.next(this.isAuthenticated())})}isAuthenticated(){return this.currentUser!==null}getCurrentUser(){return this.currentUser}signup(e,t){return e_(this.auth,e,t).then(r=>v(this,null,function*(){let i=r.user;yield n_(i),yield Vc(this.auth),console.log("Verification email sent. User must verify email to continue.")})).catch(r=>{throw console.error("Error during signup:",r),r})}login(e,t){return t_(this.auth,e,t).then(r=>v(this,null,function*(){let i=r.user;if(!i.emailVerified)throw yield Vc(this.auth),new Error("email-not-verified");try{let o=yield this.userPreferencesService.getPreferences();o.language&&(this.translateService.setLanguage(o.language),console.log("Preferences loaded and language set to:",o.language))}catch(o){throw console.error("Error loading preferences:",o),o}return i})).catch(r=>{throw console.error("Error during login:",r),r})}logout(){return Vc(this.auth).then(()=>{this.currentUser=null,console.log("User successfully logged out"),this.authStateSubject.next(!1)}).catch(e=>{throw console.error("Error during logout:",e),e})}resetPassword(e){return Xv(this.auth,e)}handleFirebaseError(e){let t="";switch(e){case"Firebase: Error (auth/invalid-email).":t=this.translateService.translate("InvalidEmail");break;case"Firebase: Error (auth/user-disabled).":t=this.translateService.translate("UserDisabled");break;case"Firebase: Error (auth/user-not-found).":t=this.translateService.translate("UserNotFound");break;case"Firebase: Error (auth/invalid-credential).":t=this.translateService.translate("WrongPassword");break;case"Firebase: Error (auth/too-many-requests).":t=this.translateService.translate("TooManyRequests");break;case"Firebase: Error (auth/missing-password).":t=this.translateService.translate("MissingPassword");break;case"missmatch":t=this.translateService.translate("PasswordMismatch");break;case"emailforreset":t=this.translateService.translate("EnterEmailForReset");break;case"oksignup":t=this.translateService.translate("SignupSuccessful");break;case"oklogin":t=this.translateService.translate("LoginSuccess");break;case"okreset":t=this.translateService.translate("ResetPasswordSuccess");break;case"email-not-verified":t=this.translateService.translate("EmailNotVerified");break;default:t=this.translateService.translate("UnknownError")}return t}static \u0275fac=function(t){return new(t||n)(z(ze),z(Ks))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var cx={navbar:{links:[{id:1,name:"Home",key:"HOME",url:"/",enabled:!0},{id:2,name:"About Us",key:"ABOUT_US",url:"/about",enabled:!0},{id:3,name:"Services",key:"SERVICES",url:"/services",enabled:!0},{id:4,name:"Contact",key:"CONTACT",url:"/contact",enabled:!0},{id:5,name:"Log In",key:"LOG_IN",url:"/login",enabled:!0},{id:6,name:"Sign Up",key:"SIGN_UP",url:"/signup",enabled:!0},{id:7,name:"Preferences",key:"PREFERENCES",url:"/preferences",enabled:!0}],sticky:!0,transparent:!1},footer:{sticky:!1,transparent:!1},sidebar:{enabled:!0,links:{"/":[{id:1,name:"Welcome",url:"/welcome",enabled:!0},{id:2,name:"Features",url:"/features",enabled:!0}],"/about":[{id:1,name:"History",url:"/history",enabled:!0},{id:2,name:"Our Team",url:"/team",enabled:!0}],"/services":[{id:1,name:"Web Development",url:"/web",enabled:!0},{id:2,name:"Mobile Development",url:"/mobile",enabled:!0}],"/contact":[{id:1,name:"Email",url:"/email",enabled:!0},{id:2,name:"Phone",url:"/phone",enabled:!0}]}},languageSwitcher:{enabled:!0,language:[{name:"en",enabled:!0},{name:"it",enabled:!0},{name:"ro",enabled:!0},{name:"Spanish",enabled:!1},{name:"German",enabled:!1}]}};var zn=class n{constructor(e){this.translationService=e;let t=localStorage.getItem("appLanguage")||"en";this.selectedLanguage.set(t),this.translationService.setLanguage(t)}appConfigSignal=Cn(cx);currentRoute=Cn("/");isDropdownOpen=Cn(!1);selectedLanguage=Cn("en");initializeRouteTracking(e){this.setCurrentRoute(e.url),e.events.pipe(lt(t=>t instanceof Pt)).subscribe(t=>{this.setCurrentRoute(t.urlAfterRedirects)})}setCurrentRoute(e){this.currentRoute.set(e)}isRouteActive(e){return this.currentRoute()===e}toggleDropdown(){this.isDropdownOpen.set(!this.isDropdownOpen())}isLanguageDropdownOpen(){return this.isDropdownOpen()}changeLanguage(e){this.selectedLanguage.set(e),localStorage.setItem("appLanguage",e),this.translationService.setLanguage(e),this.isDropdownOpen.set(!1)}getLanguage(){return this.selectedLanguage()}getAvailableLanguages=Nn(()=>{let e=this.getComponentConfig("languageSwitcher");return e?.enabled?e.language.filter(t=>t.enabled):[]});getSidebarLinks=Nn(()=>this.getComponentConfig("sidebar").links[this.currentRoute()]||[]);getComponentConfig(e){return this.appConfigSignal()?.[e]}static \u0275fac=function(t){return new(t||n)(z(ze))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function K4(n,e){if(n&1&&(N(0,"p",10),P(1),x()),n&2){let t=Ce();B(),Ee(t.success)}}function Q4(n,e){if(n&1&&(N(0,"p",11),P(1),x()),n&2){let t=Ce();B(),Ee(t.message)}}var Af=class n{constructor(e,t,r){this.authService=e;this.translateService=t;this.appService=r}email="";password="";confirmPassword="";message="";success="";currentErrorCode=null;langSubscription=null;ngOnInit(){this.langSubscription=this.translateService.getCurrentLangObservable().subscribe(()=>{this.updateMessageTranslation()})}ngOnDestroy(){this.langSubscription?.unsubscribe()}updateMessageTranslation(){this.currentErrorCode&&(this.message=this.authService.handleFirebaseError(this.currentErrorCode))}onSignup(){if(this.message="",this.success="",this.password!==this.confirmPassword){this.currentErrorCode="missmatch",this.message=this.authService.handleFirebaseError(this.currentErrorCode);return}this.authService.signup(this.email,this.password).then(()=>{this.currentErrorCode="oksignup",this.success=this.authService.handleFirebaseError(this.currentErrorCode),this.email="",this.password="",this.confirmPassword=""}).catch(e=>{this.currentErrorCode=e.message,this.message=this.authService.handleFirebaseError(this.currentErrorCode),this.password="",this.confirmPassword=""})}setLanguage(e){this.appService.changeLanguage(e)}static \u0275fac=function(t){return new(t||n)(U(Ut),U(ze),U(zn))};static \u0275cmp=Te({type:n,selectors:[["app-signup"]],decls:21,vars:12,consts:[[1,"signup-container"],[3,"submit"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","password","name","confirmPassword","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"login-prompt"],["href","/login",1,"login-link"],["class","message-success",4,"ngIf"],["class","message-text",4,"ngIf"],[1,"message-success"],[1,"message-text"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"h2"),P(2),x(),N(3,"form",1),Oe("submit",function(){return r.onSignup()}),N(4,"label"),P(5),x(),N(6,"input",2),Mn("ngModelChange",function(o){return ur(r.email,o)||(r.email=o),o}),x(),N(7,"label"),P(8),x(),N(9,"input",3),Mn("ngModelChange",function(o){return ur(r.password,o)||(r.password=o),o}),x(),N(10,"label"),P(11),x(),N(12,"input",4),Mn("ngModelChange",function(o){return ur(r.confirmPassword,o)||(r.confirmPassword=o),o}),x(),N(13,"button",5),P(14),x()(),N(15,"p",6),P(16),N(17,"a",7),P(18),x()(),We(19,K4,2,1,"p",8)(20,Q4,2,1,"p",9),x()),t&2&&(B(2),Ee(r.translateService.translate("Sign Up")),B(3),ke("",r.translateService.translate("Email"),":"),B(),Rn("ngModel",r.email),B(2),ke("",r.translateService.translate("Password"),":"),B(),Rn("ngModel",r.password),B(2),ke("",r.translateService.translate("Confirm Password"),":"),B(),Rn("ngModel",r.confirmPassword),B(2),Ee(r.translateService.translate("Sign Up")),B(2),ke(" ",r.translateService.translate("HaveAccount")," "),B(2),Ee(r.translateService.translate("GoLogin")),B(),$e("ngIf",r.success),B(),$e("ngIf",r.message))},dependencies:[gn,ii,_s,vs,gs,ms,ys,Wi,Gi,zi],styles:[".signup-container[_ngcontent-%COMP%]{max-width:300px;padding:2rem;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 4px 8px #0000001a}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}input[_ngcontent-%COMP%]{width:100%;padding:.8rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:.7rem;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-weight:700;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-prompt[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;font-size:.9rem;color:#555}.login-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700}.login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.message-text[_ngcontent-%COMP%]{text-align:center;font-size:1rem;font-weight:700;color:#dc3545;margin-top:1.5rem;margin-bottom:.5rem}.message-success[_ngcontent-%COMP%]{text-align:center;font-size:1rem;font-weight:700;color:#1ab000;margin-top:1.5rem;margin-bottom:.5rem}@media (max-width: 768px){.signup-container[_ngcontent-%COMP%]{width:90%;padding:1.5rem;margin-top:5rem}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:.6rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}}"]})};var Rf=class n{constructor(e){this.translateService=e}static \u0275fac=function(t){return new(t||n)(U(ze))};static \u0275cmp=Te({type:n,selectors:[["app-notfound"]],decls:8,vars:2,consts:[[1,"fullscreen-container"],[1,"notfound-container"],["href","/",1,"back-home"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"h1"),P(3,"404"),x(),N(4,"p"),P(5),x(),N(6,"a",2),P(7),x()()()),t&2&&(B(5),Ee(r.translateService.translate("Error404Message")),B(2),Ee(r.translateService.translate("GoBackHome")))},styles:[".fullscreen-container[_ngcontent-%COMP%]{font-family:Verdana,sans-serif;display:flex;justify-content:center;align-items:center;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100vh;padding:1rem;box-sizing:border-box}.notfound-container[_ngcontent-%COMP%]{background-color:#fff;padding:3rem 2rem;border-radius:12px;box-shadow:0 8px 16px #00000026;max-width:600px;width:90%;text-align:center;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.notfound-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;color:#ff4d4d;margin:0 0 1rem;font-weight:700}.notfound-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:1.25rem;margin:0 0 2rem;color:#555}.back-home[_ngcontent-%COMP%]{display:inline-block;padding:.8rem 1.5rem;font-size:1rem;font-weight:700;color:#fff;background-color:#007bff;border-radius:8px;text-decoration:none;transition:background-color .3s ease}.back-home[_ngcontent-%COMP%]:hover{background-color:#0056b3}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.notfound-container[_ngcontent-%COMP%]{width:90%;padding:1.5rem;margin-top:10rem}.notfound-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem}.notfound-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.back-home[_ngcontent-%COMP%]{font-size:.9rem;padding:.7rem 1.2rem}}"]})};function Y4(n,e){if(n&1&&(N(0,"p",11),P(1),x()),n&2){let t=Ce();B(),Ee(t.success)}}function Z4(n,e){if(n&1&&(N(0,"p",12),P(1),x()),n&2){let t=Ce();B(),Ee(t.message)}}var Mf=class n{constructor(e,t,r,i){this.translateService=e;this.authService=t;this.router=r;this.route=i;this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}email="";password="";message="";success="";currentErrorCode=null;langSubscription=null;returnUrl;ngOnInit(){this.langSubscription=this.translateService.getCurrentLangObservable().subscribe(()=>{this.updateMessageTranslation()})}ngOnDestroy(){this.langSubscription?.unsubscribe()}updateMessageTranslation(){this.currentErrorCode&&(this.message=this.authService.handleFirebaseError(this.currentErrorCode))}onLogin(){this.message="",this.success="",this.authService.login(this.email,this.password).then(()=>{this.currentErrorCode="oklogin",this.success=this.authService.handleFirebaseError(this.currentErrorCode),this.router.navigate([this.returnUrl]),this.email="",this.password=""}).catch(e=>{this.currentErrorCode=e.message,this.message=this.authService.handleFirebaseError(this.currentErrorCode),this.password=""})}onResetPassword(){if(!this.email){this.currentErrorCode="emailforreset",this.message=this.authService.handleFirebaseError(this.currentErrorCode);return}this.authService.resetPassword(this.email).then(()=>{this.currentErrorCode="okreset",this.success=this.authService.handleFirebaseError(this.currentErrorCode)}).catch(e=>{this.currentErrorCode=e.message,this.message=this.authService.handleFirebaseError(this.currentErrorCode)})}static \u0275fac=function(t){return new(t||n)(U(ze),U(Ut),U(He),U(nn))};static \u0275cmp=Te({type:n,selectors:[["app-login"]],decls:22,vars:12,consts:[[1,"login-container"],[3,"submit"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"signup-prompt"],["href","/signup",1,"signup-link"],[1,"reset-prompt"],[1,"reset-link",3,"click"],["class","message-success",4,"ngIf"],["class","message-text",4,"ngIf"],[1,"message-success"],[1,"message-text"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"h2"),P(2),x(),N(3,"form",1),Oe("submit",function(){return r.onLogin()}),N(4,"label"),P(5),x(),N(6,"input",2),Mn("ngModelChange",function(o){return ur(r.email,o)||(r.email=o),o}),x(),N(7,"label"),P(8),x(),N(9,"input",3),Mn("ngModelChange",function(o){return ur(r.password,o)||(r.password=o),o}),x(),N(10,"button",4),P(11),x()(),N(12,"p",5),P(13),N(14,"a",6),P(15),x()(),N(16,"p",7),P(17),N(18,"a",8),Oe("click",function(){return r.onResetPassword()}),P(19),x()(),We(20,Y4,2,1,"p",9)(21,Z4,2,1,"p",10),x()),t&2&&(B(2),Ee(r.translateService.translate("Login")),B(3),ke("",r.translateService.translate("Email"),":"),B(),Rn("ngModel",r.email),B(2),ke("",r.translateService.translate("Password"),":"),B(),Rn("ngModel",r.password),B(2),Ee(r.translateService.translate("Login")),B(2),ke(" ",r.translateService.translate("NoAccount")," "),B(2),Ee(r.translateService.translate("GoSignup")),B(2),ke(" ",r.translateService.translate("DontRemember")," "),B(2),Ee(r.translateService.translate("SendResetEmail")),B(),$e("ngIf",r.success),B(),$e("ngIf",r.message))},dependencies:[gn,ii,_s,vs,gs,ms,ys,Wi,Gi,zi],styles:[".message-text[_ngcontent-%COMP%]{text-align:center;font-size:1rem;font-weight:700;color:#dc3545;margin-top:1.5rem;margin-bottom:.5rem}.message-success[_ngcontent-%COMP%]{text-align:center;font-size:1rem;font-weight:700;color:#1ab000;margin-top:1.5rem;margin-bottom:.5rem}.login-container[_ngcontent-%COMP%]{max-width:300px;padding:2rem;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 4px 8px #0000001a;text-align:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}input[_ngcontent-%COMP%]{width:100%;padding:.8rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:.7rem;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-weight:700;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.signup-prompt[_ngcontent-%COMP%], .reset-prompt[_ngcontent-%COMP%]{margin-top:1rem;font-size:.9rem;color:#555;text-align:center}.signup-link[_ngcontent-%COMP%], .reset-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700;cursor:pointer}.signup-link[_ngcontent-%COMP%]:hover, .reset-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{width:90%;padding:1.5rem;margin-top:5rem}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:.6rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var Nf=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return this.authService.authState$.pipe(ee(r=>r?!0:(this.router.navigate(["/auth-required"],{queryParams:{returnUrl:t.url}}),!1)))}static \u0275fac=function(t){return new(t||n)(z(Ut),z(He))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var xf=class n{constructor(e,t,r){this.router=e;this.route=t;this.translateService=r;this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}returnUrl;redirectToLogin(){this.router.navigate(["/login"],{queryParams:{returnUrl:this.returnUrl}})}static \u0275fac=function(t){return new(t||n)(U(He),U(nn),U(ze))};static \u0275cmp=Te({type:n,selectors:[["app-authguard"]],decls:8,vars:3,consts:[[1,"fullscreen-container"],[1,"auth-required-container"],[3,"click"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"h1"),P(3),x(),N(4,"p"),P(5),x(),N(6,"button",2),Oe("click",function(){return r.redirectToLogin()}),P(7),x()()()),t&2&&(B(3),Ee(r.translateService.translate("AuthRequiredTitle")),B(2),Ee(r.translateService.translate("AuthRequiredMessage")),B(2),Ee(r.translateService.translate("GoToLogin")))},styles:[".fullscreen-container[_ngcontent-%COMP%]{font-family:Verdana,sans-serif;display:flex;justify-content:center;align-items:center;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100vh;padding:1rem;box-sizing:border-box}.auth-required-container[_ngcontent-%COMP%]{background-color:#fff;padding:3rem 2rem;border-radius:12px;box-shadow:0 8px 16px #00000026;max-width:600px;width:90%;text-align:center;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.auth-required-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#007bff;margin:0 0 1rem;font-weight:700}.auth-required-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem;margin:0 0 2rem;color:#555}button[_ngcontent-%COMP%]{display:inline-block;padding:.8rem 1.5rem;font-size:1rem;font-weight:700;color:#fff;background-color:#007bff;border-radius:8px;border:none;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.auth-required-container[_ngcontent-%COMP%]{width:90%;padding:1.5rem;margin-top:10rem}.auth-required-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.auth-required-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}button[_ngcontent-%COMP%]{font-size:.9rem;padding:.7rem 1.2rem}}"]})};function J4(n,e){if(n&1&&(N(0,"option",8),P(1),x()),n&2){let t=e.$implicit;$e("value",t),B(),ke(" ",t," ")}}function X4(n,e){if(n&1&&(N(0,"div",9),P(1),x()),n&2){let t=Ce();B(),ke(" ",t.successMessage," ")}}function eG(n,e){if(n&1&&(N(0,"div",10),P(1),x()),n&2){let t=Ce();B(),ke(" ",t.errorMessage," ")}}var Pf=class n{constructor(e,t){this.userPreferencesService=e;this.translationService=t}availableLanguages=["en","ro","it"];selectedLanguage="";successMessage="";errorMessage="";ngOnInit(){this.loadPreferences()}savePreferences(){let e={language:this.selectedLanguage};this.userPreferencesService.savePreferences(e).then(()=>{this.translationService.setLanguage(this.selectedLanguage),this.successMessage=this.translationService.translate("PreferencesSaved"),this.errorMessage=""}).catch(t=>{console.error("Error saving preferences:",t),this.errorMessage=this.translationService.translate("PreferencesSaveFailed"),this.successMessage=""})}loadPreferences(){this.userPreferencesService.getPreferences().then(e=>{e.language&&(this.selectedLanguage=e.language,this.translationService.setLanguage(this.selectedLanguage))}).catch(e=>{console.error("Error loading preferences:",e)})}static \u0275fac=function(t){return new(t||n)(U(Ks),U(ze))};static \u0275cmp=Te({type:n,selectors:[["app-preferences"]],decls:12,vars:7,consts:[[1,"preferences-container"],[3,"submit"],["for","language"],["id","language","name","language","required","",1,"styled-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"value"],[1,"success-message"],[1,"error-message"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"h2"),P(2),x(),N(3,"form",1),Oe("submit",function(){return r.savePreferences()}),N(4,"label",2),P(5),x(),N(6,"select",3),Mn("ngModelChange",function(o){return ur(r.selectedLanguage,o)||(r.selectedLanguage=o),o}),We(7,J4,2,2,"option",4),x(),N(8,"button",5),P(9),x()(),We(10,X4,2,1,"div",6)(11,eG,2,1,"div",7),x()),t&2&&(B(2),Ee(r.translationService.translate("Preferences")),B(3),ke("",r.translationService.translate("PrefLang"),":"),B(),Rn("ngModel",r.selectedLanguage),B(),$e("ngForOf",r.availableLanguages),B(2),Ee(r.translationService.translate("Save")),B(),$e("ngIf",r.successMessage),B(),$e("ngIf",r.errorMessage))},dependencies:[gn,dd,ii,_s,vs,jS,BS,Xd,ms,ys,Wi,Gi,zi],styles:[".preferences-container[_ngcontent-%COMP%]{max-width:300px;padding:2rem;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 4px 8px #0000001a;text-align:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700;text-align:left}.styled-select[_ngcontent-%COMP%]{width:100%;padding:.7rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;background-color:#f9f9f9;font-size:1rem;appearance:none;background-repeat:no-repeat;background-position:right 1rem center;background-size:1rem;cursor:pointer}.styled-select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}button[_ngcontent-%COMP%]{width:100%;padding:.7rem;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-weight:700;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.success-message[_ngcontent-%COMP%]{color:green;margin-top:10px}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px}"]})};var ux=[{path:"",component:Ud},{path:"about",component:Bd},{path:"services",component:$d,canActivate:[Nf]},{path:"contact",component:Hd},{path:"signup",component:Af},{path:"login",component:Mf},{path:"preferences",component:Pf},{path:"auth-required",component:xf},{path:"404",component:Rf},{path:"**",redirectTo:"/404"}];var lx={providers:[FT({eventCoalescing:!0}),dS(ux),cC()]};var tG=(n,e)=>e.id,nG=(n,e)=>e.name,dx=()=>({exact:!0});function rG(n,e){if(n&1&&(N(0,"li")(1,"a",1),P(2),x()()),n&2){let t=Ce(3).$implicit,r=Ce();B(),$e("routerLink",t.url)("routerLinkActive","active")("routerLinkActiveOptions",Gm(4,dx)),B(),ke(" ",r.translateService.translate(t.name)," ")}}function iG(n,e){if(n&1&&We(0,rG,3,5,"li"),n&2){let t=Ce(3);Sn(t.isAuthenticated?0:-1)}}function oG(n,e){if(n&1&&(N(0,"li")(1,"a",1),P(2),x()()),n&2){let t=Ce(2).$implicit,r=Ce();B(),$e("routerLink",t.url)("routerLinkActive","active")("routerLinkActiveOptions",Gm(4,dx)),B(),ke(" ",r.translateService.translate(t.name)," ")}}function sG(n,e){if(n&1&&We(0,iG,1,1)(1,oG,3,5,"li"),n&2){let t=Ce().$implicit;Sn(t.key==="PREFERENCES"?0:1)}}function aG(n,e){if(n&1&&We(0,sG,2,1),n&2){let t=e.$implicit,r=Ce();Sn(t.enabled&&!(r.isAuthenticated&&(t.key==="LOG_IN"||t.key==="SIGN_UP"))?0:-1)}}function cG(n,e){if(n&1){let t=Ha();N(0,"li",2),Oe("click",function(){let i=ka(t).$implicit,o=Ce(3);return Fa(o.setLanguage(i.name))}),P(1),x()}if(n&2){let t=e.$implicit;B(),Ee(t.name)}}function uG(n,e){if(n&1&&(N(0,"ul",3),Ba(1,cG,2,1,"li",null,nG),x()),n&2){let t=Ce(2);B(),$a(t.appService.getAvailableLanguages())}}function lG(n,e){if(n&1){let t=Ha();N(0,"div",0)(1,"button",2),Oe("click",function(){ka(t);let i=Ce();return Fa(i.appService.toggleDropdown())}),P(2),x(),We(3,uG,3,0,"ul",3),x()}if(n&2){let t=Ce();B(2),ke(" ",t.appService.getLanguage()," \u25BC "),B(),Sn(t.appService.isLanguageDropdownOpen()===!0?3:-1)}}var Of=class n{constructor(e,t,r,i){this.appService=e;this.router=t;this.translateService=r;this.authService=i}isAuthenticated=!1;ngOnInit(){this.appService.initializeRouteTracking(this.router),this.authService.authState$.subscribe(e=>{this.isAuthenticated=e,this.isAuthenticated&&this.authService.userPreferencesService.getPreferences().then(t=>{t?.language&&this.appService.changeLanguage(t.language)}).catch(t=>{console.error("Error loading preferences:",t)})})}toggleDropdown(){this.appService.toggleDropdown()}setLanguage(e){this.appService.changeLanguage(e),this.authService.getCurrentUser()?.uid&&this.authService.userPreferencesService.savePreferences({language:e}).then(()=>{console.log("Language preference saved successfully.")}).catch(t=>{console.error("Error saving language preference:",t)})}get currentLanguage(){return this.appService.getLanguage()}get availableLanguages(){return this.appService.getAvailableLanguages()}get dropdownOpen(){return this.appService.isLanguageDropdownOpen()}isActive(e){return this.appService.isRouteActive(e)}static \u0275fac=function(t){return new(t||n)(U(zn),U(He),U(ze),U(Ut))};static \u0275cmp=Te({type:n,selectors:[["app-navbar"]],decls:5,vars:5,consts:[[1,"language-dropdown"],[3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[3,"click"],[1,"dropdown-menu"]],template:function(t,r){if(t&1&&(N(0,"nav")(1,"ul"),Ba(2,aG,1,1,null,null,tG),x(),We(4,lG,4,2,"div",0),x()),t&2){let i,o,s,a;ti("sticky",(i=r.appService.getComponentConfig("navbar"))==null?null:i.sticky)("transparent",(o=r.appService.getComponentConfig("navbar"))==null?null:o.transparent),B(2),$a((s=r.appService.getComponentConfig("navbar"))==null?null:s.links),B(2),Sn((a=r.appService.getComponentConfig("languageSwitcher"))!=null&&a.enabled?4:-1)}},dependencies:[mS,Fd,uS],styles:['nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background-color:#fff;box-shadow:0 4px 6px #0000001a;border-bottom:1px solid rgba(0,0,0,.1);transition:background-color .3s ease,box-shadow .3s ease;font-family:Verdana,sans-serif}nav.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000;box-shadow:0 6px 8px #0003}nav.transparent[_ngcontent-%COMP%]{background-color:transparent;border-bottom:none;box-shadow:none}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;gap:1.5rem;margin:0;padding:0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-size:1.1rem;font-weight:600;transition:color .3s ease,transform .2s ease;text-transform:uppercase}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3;transform:scale(1.05)}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff;font-weight:700;transform:scale(1.1);transition:all .3s ease}@media (max-width: 768px){nav[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:1rem 1.5rem;background-color:#f9f9f9}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1.2rem;width:100%}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;text-transform:capitalize}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-5px;width:0;height:2px;background-color:#007bff;transition:width .3s ease}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{width:100%}.language-dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-left:auto}.language-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:8px 12px;cursor:pointer;font-size:1rem;border-radius:5px;transition:background-color .3s ease;position:relative;z-index:10}.language-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:50%;transform:translate(-50%);background:#fff;border:1px solid #ccc;border-radius:5px;list-style:none;margin:5px 0;width:150px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;margin:5px;text-align:center;font-size:1rem;cursor:pointer;transition:background .3s ease;position:relative}@media (min-width: 768px){.dropdown-menu[_ngcontent-%COMP%]{right:0;left:auto;transform:none}}@media (max-width: 767px){.dropdown-menu[_ngcontent-%COMP%]{left:50%;transform:translate(-50%)}}']})};var kf=class n{constructor(e,t){this.appService=e;this.translateService=t}ngOnInit(){this.appService.getComponentConfig("footer")}static \u0275fac=function(t){return new(t||n)(U(zn),U(ze))};static \u0275cmp=Te({type:n,selectors:[["app-footer"]],decls:3,vars:5,template:function(t,r){if(t&1&&(N(0,"footer")(1,"p"),P(2),x()()),t&2){let i,o;ti("sticky",(i=r.appService.getComponentConfig("footer"))==null?null:i.sticky)("transparent",(o=r.appService.getComponentConfig("footer"))==null?null:o.transparent),B(2),ke("",r.translateService.translate("Footer")," @2025")}},styles:["footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1rem;background-color:#f1f1f1;color:#333;font-size:1rem;font-weight:700;text-align:center;box-shadow:0 -2px 4px #0000001a;transition:background-color .3s ease,box-shadow .3s ease}footer.sticky[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:1000}footer.transparent[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none}"]})};var Ff=class n{constructor(e){this.http=e}apiUrl="https://restcountries.com/v3.1/region/europe";fetchCountries(){let e=localStorage.getItem("countriesData"),t=localStorage.getItem("countriesCacheTime"),r=new Date().getTime();return e&&t&&r-parseInt(t,10)<24*60*60*1e3?(console.log("Returning cached countries..."),Q(JSON.parse(e)).pipe(kp(1500))):(console.log("Fetching countries from API..."),this.http.get(this.apiUrl).pipe(wn(i=>(console.error("Error fetching countries:",i),Lr(()=>new Error("Failed to load countries.")))),vt(i=>(localStorage.setItem("countriesData",JSON.stringify(i)),localStorage.setItem("countriesCacheTime",r.toString()),Q(i)))))}static \u0275fac=function(t){return new(t||n)(z(Ka))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var hG=(n,e)=>e.id;function fG(n,e){if(n&1&&(N(0,"li")(1,"a",6),P(2),x()()),n&2){let t=Ce().$implicit,r=Ce();B(),$e("href",t.url,xm),B(),Ee(r.translateService.translate(t.name))}}function pG(n,e){if(n&1&&We(0,fG,3,2,"li"),n&2){let t=e.$implicit;Sn(t.enabled===!0?0:-1)}}function gG(n,e){if(n&1){let t=Ha();N(0,"button",2),Oe("click",function(){ka(t);let i=Ce();return Fa(i.onLogOut())}),P(1),x()}if(n&2){let t=Ce();B(),Ee(t.translateService.translate("Log Out"))}}function mG(n,e){n&1&&(N(0,"div",7),An(1,"div",8),x())}function yG(n,e){if(n&1&&(N(0,"div",9),P(1),x()),n&2){let t=Ce();B(),Ee(t.error)}}function vG(n,e){if(n&1&&(N(0,"li")(1,"strong"),P(2),x()()),n&2){let t=e.$implicit;B(2),Ee(t.name.common)}}function _G(n,e){if(n&1&&(N(0,"div",10)(1,"ul"),We(2,vG,3,1,"li",11),x()()),n&2){let t=Ce();B(2),$e("ngForOf",t.countries)}}var Lf=class n{constructor(e,t,r,i,o){this.appService=e;this.translateService=t;this.countryService=r;this.authService=i;this.router=o}countries=[];loading=!1;error="";successMessage="";errorMessage="";isAuthenticated=!1;ngOnInit(){this.appService.getComponentConfig("sidebar"),this.authService.authState$.subscribe(e=>{this.isAuthenticated=e})}sidebarLinks=Nn(()=>this.appService.getSidebarLinks());onLogOut(){this.successMessage="",this.errorMessage="",this.authService.logout().then(()=>{console.log("success"),!this.authService.isAuthenticated()&&this.router.url==="/services"&&this.router.navigate(["/auth-required"],{queryParams:{returnUrl:"/services"}})}).catch(e=>{console.error("Logout error:",e)})}fetchCountries(){this.countries=[],this.loading=!0,this.error="",this.countryService.fetchCountries().subscribe({next:e=>{console.log("Countries fetched:",e),this.countries=e,this.loading=!1},error:e=>{console.error("Error:",e),this.error="Failed to load countries",this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(U(zn),U(ze),U(Ff),U(Ut),U(He))};static \u0275cmp=Te({type:n,selectors:[["app-sidebar"]],decls:11,vars:5,consts:[["id","country-fetcher"],[3,"click",4,"ngIf"],[3,"click"],["class","spinner-container",4,"ngIf"],["class","error",4,"ngIf"],["id","country-list",4,"ngIf"],[3,"href"],[1,"spinner-container"],[1,"spinner"],[1,"error"],["id","country-list"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(N(0,"aside")(1,"ul"),Ba(2,pG,1,1,null,null,hG),x(),N(4,"div",0),We(5,gG,2,1,"button",1),N(6,"button",2),Oe("click",function(){return r.fetchCountries()}),P(7),x(),We(8,mG,2,0,"div",3)(9,yG,2,1,"div",4)(10,_G,3,1,"div",5),x()()),t&2&&(B(2),$a(r.sidebarLinks()),B(3),$e("ngIf",r.isAuthenticated),B(2),Ee(r.translateService.translate("Fetch Countries")),B(),$e("ngIf",r.loading),B(),$e("ngIf",r.error),B(),$e("ngIf",r.countries.length>0))},dependencies:[dd,ii,gn],styles:["aside[_ngcontent-%COMP%]{padding:1rem;width:250px;position:relative;transition:all .3s ease;font-family:monospace;box-sizing:border-box}aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1rem}aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;text-transform:uppercase;padding:.5rem 0}aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;padding:.5rem;display:block;transition:color .3s ease,transform .2s ease}aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translate(5px)}@media (max-width: 768px){aside[_ngcontent-%COMP%]{width:100%;padding:.5rem;box-shadow:none}aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;padding:.7rem}#country-fetcher[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}#country-fetcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90%;font-size:.9rem;padding:.6rem;text-align:center}#country-list[_ngcontent-%COMP%]{max-height:200px}}@media (min-width: 768px){#country-fetcher[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;box-sizing:border-box;width:50%}}#country-fetcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.8rem;font-size:1rem;font-weight:700;cursor:pointer;border-radius:5px;transition:background-color .3s ease;margin:.5rem 0;width:100%;box-sizing:border-box}#country-fetcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.loading[_ngcontent-%COMP%]{font-size:1rem;color:#007bff;font-weight:700;margin:1% 0;text-align:center}.error[_ngcontent-%COMP%]{font-size:1rem;color:#ff4d4d;font-weight:700;margin:.5rem 0;text-align:center}#country-list[_ngcontent-%COMP%]{max-height:400px;width:100%;overflow-y:auto;overflow-x:hidden;padding:.5rem;border:1px solid #ccc;border-radius:5px;background-color:#fff;margin-top:1rem}#country-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}#country-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.7rem;border-bottom:1px solid #ddd}#country-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}#country-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:#333}.spinner[_ngcontent-%COMP%]{display:inline-block;border:4px solid rgba(0,0,0,.1);border-top:4px solid #007bff;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:1rem auto;text-align:center}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:50px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function wG(n,e){n&1&&An(0,"app-sidebar",1)}var Vf=class n{constructor(e){this.router=e}title="app-template-project";noSideBarPage=!1;ngOnInit(){this.router.events.subscribe(e=>{if(e instanceof Pt){let t=["/404","/signup","/login","/auth-required","/preferences"];this.noSideBarPage=t.some(r=>e.urlAfterRedirects.startsWith(r))}})}static \u0275fac=function(t){return new(t||n)(U(He))};static \u0275cmp=Te({type:n,selectors:[["app-root"]],decls:6,vars:1,consts:[["id","app-container"],["ngSkipHydration",""],["id","content"]],template:function(t,r){t&1&&(N(0,"div",0),An(1,"app-navbar",1),N(2,"div",2),We(3,wG,1,0,"app-sidebar",1),An(4,"router-outlet"),x(),An(5,"app-footer",1),x()),t&2&&(B(3),Sn(r.noSideBarPage===!1?3:-1))},dependencies:[Of,kf,Lf,zy,gn],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}#content[_ngcontent-%COMP%]{flex:1;display:flex}#app-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}app-sidebar[_ngcontent-%COMP%]{width:20%;background-color:#f4f4f4;padding:1rem;height:100vh;box-shadow:2px 0 5px #0000001a}@media (max-width: 768px){app-sidebar[_ngcontent-%COMP%]{width:100%;height:auto;position:relative}#content[_ngcontent-%COMP%]{flex-direction:column}}"]})};_C(Vf,lx).catch(n=>console.error(n));
